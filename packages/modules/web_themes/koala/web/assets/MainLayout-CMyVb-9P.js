import{c as G,a as r,h as A,d as de,g as re,i as Pe,e as Y,l as ge,r as C,w as B,o as ye,f as St,j as K,k as zt,m as ve,n as wt,p as _t,q as Ye,s as Ze,t as et,u as $e,v as Qe,x as Me,y as kt,z as qt,A as me,B as pt,C as Ct,D as Ve,E as Tt,F as tt,G as xt,H as be,I as D,J as V,K as i,L as W,M as v,N as Ie,Q as He,O as N,P as De,R as U,S as L,T as Fe,U as At,V as he}from"./index-BaCWLAP1.js";import{Q as ce,s as Bt,g as $t,a as Pt,b as Mt,u as lt,c as at,d as J,e as qe,T as se,f as Re,h as Ot,i as Lt,j as Qt,k as Vt,l as It,m as Ht,n as pe,o as Dt,p as We,q as Ce,r as Ee,t as je,v as Ne,w as Ft,x as ne,C as Te,y as Rt,z as Wt,A as ue,B as R,D as xe,E as Ae,F as Et,_ as jt}from"./_plugin-vue_export-helper-NSx1mXUQ.js";import{a as ot,u as nt}from"./mqtt-store-CgnJtnbC.js";const Nt=G({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:q}){const h=r(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>A("div",{class:h.value},de(q.default))}}),Ut=G({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:q}){const h=r(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>A("div",{class:h.value,role:"toolbar"},de(q.default))}}),Kt=G({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:q,emit:h}){const{proxy:{$q:g}}=re(),d=Pe(ge,Y);if(d===Y)return console.error("QHeader needs to be child of QLayout"),Y;const f=C(parseInt(e.heightHint,10)),o=C(!0),t=r(()=>e.reveal===!0||d.view.value.indexOf("H")!==-1||g.platform.is.ios&&d.isContainer.value===!0),_=r(()=>{if(e.modelValue!==!0)return 0;if(t.value===!0)return o.value===!0?f.value:0;const n=f.value-d.scroll.value.position;return n>0?n:0}),k=r(()=>e.modelValue!==!0||t.value===!0&&o.value!==!0),a=r(()=>e.modelValue===!0&&k.value===!0&&e.reveal===!0),s=r(()=>"q-header q-layout__section--marginal "+(t.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(k.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=r(()=>{const n=d.rows.value.top,m={};return n[0]==="l"&&d.left.space===!0&&(m[g.lang.rtl===!0?"right":"left"]=`${d.left.size}px`),n[2]==="r"&&d.right.space===!0&&(m[g.lang.rtl===!0?"left":"right"]=`${d.right.size}px`),m});function c(n,m){d.update("header",n,m)}function z(n,m){n.value!==m&&(n.value=m)}function O({height:n}){z(f,n),c("size",n)}function $(n){a.value===!0&&z(o,!0),h("focusin",n)}B(()=>e.modelValue,n=>{c("space",n),z(o,!0),d.animate()}),B(_,n=>{c("offset",n)}),B(()=>e.reveal,n=>{n===!1&&z(o,e.modelValue)}),B(o,n=>{d.animate(),h("reveal",n)}),B(d.scroll,n=>{e.reveal===!0&&z(o,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const w={};return d.instances.header=w,e.modelValue===!0&&c("size",f.value),c("space",e.modelValue),c("offset",_.value),ye(()=>{d.instances.header===w&&(d.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const n=St(q.default,[]);return e.elevated===!0&&n.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(A(ce,{debounce:0,onResize:O})),A("header",{class:s.value,style:S.value,onFocusin:$},n)}}}),Gt=G({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[A("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),A("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),K(A("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),K(A("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:Ue}=zt,Xt=["both","horizontal","vertical"],rt=G({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Xt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Bt},emits:["scroll"],setup(e,{emit:q}){const h={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let g=null,d,f;B(()=>e.scrollTarget,()=>{_(),t()});function o(){g?.();const s=Math.max(0,Pt(d)),S=Mt(d),c={top:s-h.position.top,left:S-h.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const z=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";h.position={top:s,left:S},h.directionChanged=h.direction!==z,h.delta=c,h.directionChanged===!0&&(h.direction=z,h.inflectionPoint=h.position),q("scroll",{...h})}function t(){d=$t(f,e.scrollTarget),d.addEventListener("scroll",k,Ue),k(!0)}function _(){d!==void 0&&(d.removeEventListener("scroll",k,Ue),d=void 0)}function k(s){if(s===!0||e.debounce===0||e.debounce==="0")o();else if(g===null){const[S,c]=e.debounce?[setTimeout(o,e.debounce),clearTimeout]:[requestAnimationFrame(o),cancelAnimationFrame];g=()=>{c(S),g=null}}}const{proxy:a}=re();return B(()=>a.$q.lang.rtl,o),ve(()=>{f=a.$el.parentNode,t()}),ye(()=>{g?.(),_()}),Object.assign(a,{trigger:k,getPosition:()=>h}),wt}}),Ke=["vertical","horizontal"],Be={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ge={prevent:!0,mouse:!0,mouseAllDir:!0},Xe=e=>e>=250?50:Math.ceil(e/5),Jt=G({name:"QScrollArea",props:{...lt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:q,emit:h}){const g=C(!1),d=C(!1),f=C(!1),o={vertical:C(0),horizontal:C(0)},t={vertical:{ref:C(null),position:C(0),size:C(0)},horizontal:{ref:C(null),position:C(0),size:C(0)}},{proxy:_}=re(),k=at(e,_.$q);let a=null,s;const S=C(null),c=r(()=>"q-scrollarea"+(k.value===!0?" q-scrollarea--dark":""));Object.assign(o,{verticalInner:r(()=>o.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:r(()=>o.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),t.vertical.percentage=r(()=>{const u=t.vertical.size.value-o.vertical.value;if(u<=0)return 0;const b=J(t.vertical.position.value/u,0,1);return Math.round(b*1e4)/1e4}),t.vertical.thumbHidden=r(()=>(e.visible===null?f.value:e.visible)!==!0&&g.value===!1&&d.value===!1||t.vertical.size.value<=o.vertical.value+1),t.vertical.thumbStart=r(()=>e.verticalOffset[0]+t.vertical.percentage.value*(o.verticalInner.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=r(()=>Math.round(J(o.verticalInner.value*o.verticalInner.value/t.vertical.size.value,Xe(o.verticalInner.value),o.verticalInner.value))),t.vertical.style=r(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),t.vertical.thumbClass=r(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=r(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=r(()=>{const u=t.horizontal.size.value-o.horizontal.value;if(u<=0)return 0;const b=J(Math.abs(t.horizontal.position.value)/u,0,1);return Math.round(b*1e4)/1e4}),t.horizontal.thumbHidden=r(()=>(e.visible===null?f.value:e.visible)!==!0&&g.value===!1&&d.value===!1||t.horizontal.size.value<=o.horizontal.value+1),t.horizontal.thumbStart=r(()=>e.horizontalOffset[0]+t.horizontal.percentage.value*(o.horizontalInner.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=r(()=>Math.round(J(o.horizontalInner.value*o.horizontalInner.value/t.horizontal.size.value,Xe(o.horizontalInner.value),o.horizontalInner.value))),t.horizontal.style=r(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[_.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),t.horizontal.thumbClass=r(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=r(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const z=r(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function O(){const u={};return Ke.forEach(b=>{const x=t[b];Object.assign(u,{[b+"Position"]:x.position.value,[b+"Percentage"]:x.percentage.value,[b+"Size"]:x.size.value,[b+"ContainerSize"]:o[b].value,[b+"ContainerInnerSize"]:o[b+"Inner"].value})}),u}const $=_t(()=>{const u=O();u.ref=_,h("scroll",u)},0);function w(u,b,x){if(Ke.includes(u)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(u==="vertical"?Re:qe)(S.value,b,x)}function n({height:u,width:b}){let x=!1;o.vertical.value!==u&&(o.vertical.value=u,x=!0),o.horizontal.value!==b&&(o.horizontal.value=b,x=!0),x===!0&&M()}function m({position:u}){let b=!1;t.vertical.position.value!==u.top&&(t.vertical.position.value=u.top,b=!0),t.horizontal.position.value!==u.left&&(t.horizontal.position.value=u.left,b=!0),b===!0&&M()}function y({height:u,width:b}){t.horizontal.size.value!==b&&(t.horizontal.size.value=b,M()),t.vertical.size.value!==u&&(t.vertical.size.value=u,M())}function T(u,b){const x=t[b];if(u.isFirst===!0){if(x.thumbHidden.value===!0)return;s=x.position.value,d.value=!0}else if(d.value!==!0)return;u.isFinal===!0&&(d.value=!1);const E=Be[b],X=(x.size.value-o[b].value)/(o[b+"Inner"].value-x.thumbSize.value),j=u.distance[E.dist],ie=s+(u.direction===E.dir?1:-1)*j*X;Z(ie,b)}function P(u,b){const x=t[b];if(x.thumbHidden.value!==!0){const E=b==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],X=u[Be[b].offset]-E,j=x.thumbStart.value-E;if(X<j||X>j+x.thumbSize.value){const ie=X-x.thumbSize.value/2,Se=J(ie/(o[b+"Inner"].value-x.thumbSize.value),0,1);Z(Se*Math.max(0,x.size.value-o[b].value),b)}x.ref.value!==null&&x.ref.value.dispatchEvent(new MouseEvent(u.type,u))}}function M(){g.value=!0,a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,g.value=!1},e.delay),e.onScroll!==void 0&&$()}function Z(u,b){S.value[Be[b].scroll]=u}let Q=null;function F(){Q!==null&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,f.value=!0},_.$q.platform.is.ios?50:0)}function ee(){Q!==null&&(clearTimeout(Q),Q=null),f.value=!1}let oe=null;B(()=>_.$q.lang.rtl,u=>{S.value!==null&&qe(S.value,Math.abs(t.horizontal.position.value)*(u===!0?-1:1))}),Ye(()=>{oe={top:t.vertical.position.value,left:t.horizontal.position.value}}),Ze(()=>{if(oe===null)return;const u=S.value;u!==null&&(qe(u,oe.left),Re(u,oe.top))}),ye($.cancel),Object.assign(_,{getScrollTarget:()=>S.value,getScroll:O,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:w,setScrollPercentage(u,b,x){w(u,b*(t[u].size.value-o[u].value)*(u==="horizontal"&&_.$q.lang.rtl===!0?-1:1),x)}});const te={scroll:t,thumbVertDir:[[se,u=>{T(u,"vertical")},void 0,{vertical:!0,...Ge}]],thumbHorizDir:[[se,u=>{T(u,"horizontal")},void 0,{horizontal:!0,...Ge}]],onVerticalMousedown(u){P(u,"vertical")},onHorizontalMousedown(u){P(u,"horizontal")}};return()=>A("div",{class:c.value,onMouseenter:F,onMouseleave:ee},[A("div",{ref:S,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[A("div",{class:"q-scrollarea__content absolute",style:z.value},et(q.default,[A(ce,{debounce:0,onResize:y})])),A(rt,{axis:"both",onScroll:m})]),A(ce,{debounce:0,onResize:n}),A(Gt,{store:te,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Je=150,Yt=G({name:"QDrawer",inheritAttrs:!1,props:{...Lt,...lt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ot,"onLayout","miniState"],setup(e,{slots:q,emit:h,attrs:g}){const d=re(),{proxy:{$q:f}}=d,o=at(e,f),{preventBodyScroll:t}=Ht(),{registerTimeout:_,removeTimeout:k}=Qt(),a=Pe(ge,Y);if(a===Y)return console.error("QDrawer needs to be child of QLayout"),Y;let s,S=null,c;const z=C(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),O=r(()=>e.mini===!0&&z.value!==!0),$=r(()=>O.value===!0?e.miniWidth:e.width),w=C(e.showIfAbove===!0&&z.value===!1?!0:e.modelValue===!0),n=r(()=>e.persistent!==!0&&(z.value===!0||ie.value===!0));function m(l,p){if(M(),l!==!1&&a.animate(),H(0),z.value===!0){const I=a.instances[x.value];I?.belowBreakpoint===!0&&I.hide(!1),le(1),a.isContainer.value!==!0&&t(!0)}else le(0),l!==!1&&we(!1);_(()=>{l!==!1&&we(!0),p!==!0&&h("show",l)},Je)}function y(l,p){Z(),l!==!1&&a.animate(),le(0),H(ee.value*$.value),_e(),p!==!0?_(()=>{h("hide",l)},Je):k()}const{show:T,hide:P}=Vt({showing:w,hideOnRouteChange:n,handleShow:m,handleHide:y}),{addToHistory:M,removeFromHistory:Z}=It(w,P,n),Q={belowBreakpoint:z,hide:P},F=r(()=>e.side==="right"),ee=r(()=>(f.lang.rtl===!0?-1:1)*(F.value===!0?1:-1)),oe=C(0),te=C(!1),u=C(!1),b=C($.value*ee.value),x=r(()=>F.value===!0?"left":"right"),E=r(()=>w.value===!0&&z.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:$.value:0),X=r(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(F.value?"R":"L")!==-1||f.platform.is.ios===!0&&a.isContainer.value===!0),j=r(()=>e.overlay===!1&&w.value===!0&&z.value===!1),ie=r(()=>e.overlay===!0&&w.value===!0&&z.value===!1),Se=r(()=>"fullscreen q-drawer__backdrop"+(w.value===!1&&te.value===!1?" hidden":"")),it=r(()=>({backgroundColor:`rgba(0,0,0,${oe.value*.4})`})),Oe=r(()=>F.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ut=r(()=>F.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),st=r(()=>{const l={};return a.header.space===!0&&Oe.value===!1&&(X.value===!0?l.top=`${a.header.offset}px`:a.header.space===!0&&(l.top=`${a.header.size}px`)),a.footer.space===!0&&ut.value===!1&&(X.value===!0?l.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(l.bottom=`${a.footer.size}px`)),l}),ct=r(()=>{const l={width:`${$.value}px`,transform:`translateX(${b.value}px)`};return z.value===!0?l:Object.assign(l,st.value)}),dt=r(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),vt=r(()=>`q-drawer q-drawer--${e.side}`+(u.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(te.value===!0?" no-transition":w.value===!0?"":" q-layout--prevent-focus")+(z.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${O.value===!0?"mini":"standard"}`+(X.value===!0||j.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Oe.value===!0?" q-drawer--top-padding":""))),ft=r(()=>{const l=f.lang.rtl===!0?e.side:x.value;return[[se,gt,void 0,{[l]:!0,mouse:!0}]]}),mt=r(()=>{const l=f.lang.rtl===!0?x.value:e.side;return[[se,Le,void 0,{[l]:!0,mouse:!0}]]}),ht=r(()=>{const l=f.lang.rtl===!0?x.value:e.side;return[[se,Le,void 0,{[l]:!0,mouse:!0,mouseAllDir:!0}]]});function ze(){yt(z,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}B(z,l=>{l===!0?(s=w.value,w.value===!0&&P(!1)):e.overlay===!1&&e.behavior!=="mobile"&&s!==!1&&(w.value===!0?(H(0),le(0),_e()):T(!1))}),B(()=>e.side,(l,p)=>{a.instances[p]===Q&&(a.instances[p]=void 0,a[p].space=!1,a[p].offset=0),a.instances[l]=Q,a[l].size=$.value,a[l].space=j.value,a[l].offset=E.value}),B(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ze()}),B(()=>e.behavior+e.breakpoint,ze),B(a.isContainer,l=>{w.value===!0&&t(l!==!0),l===!0&&ze()}),B(a.scrollbarWidth,()=>{H(w.value===!0?0:void 0)}),B(E,l=>{ae("offset",l)}),B(j,l=>{h("onLayout",l),ae("space",l)}),B(F,()=>{H()}),B($,l=>{H(),ke(e.miniToOverlay,l)}),B(()=>e.miniToOverlay,l=>{ke(l,$.value)}),B(()=>f.lang.rtl,()=>{H()}),B(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(bt(),a.animate())}),B(O,l=>{h("miniState",l)});function H(l){l===void 0?$e(()=>{l=w.value===!0?0:$.value,H(ee.value*l)}):(a.isContainer.value===!0&&F.value===!0&&(z.value===!0||Math.abs(l)===$.value)&&(l+=ee.value*a.scrollbarWidth.value),b.value=l)}function le(l){oe.value=l}function we(l){const p=l===!0?"remove":a.isContainer.value!==!0?"add":"";p!==""&&document.body.classList[p]("q-body--drawer-toggle")}function bt(){S!==null&&clearTimeout(S),d.proxy&&d.proxy.$el&&d.proxy.$el.classList.add("q-drawer--mini-animate"),u.value=!0,S=setTimeout(()=>{S=null,u.value=!1,d?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function gt(l){if(w.value!==!1)return;const p=$.value,I=J(l.distance.x,0,p);if(l.isFinal===!0){I>=Math.min(75,p)===!0?T():(a.animate(),le(0),H(ee.value*p)),te.value=!1;return}H((f.lang.rtl===!0?F.value!==!0:F.value)?Math.max(p-I,0):Math.min(0,I-p)),le(J(I/p,0,1)),l.isFirst===!0&&(te.value=!0)}function Le(l){if(w.value!==!0)return;const p=$.value,I=l.direction===e.side,fe=(f.lang.rtl===!0?I!==!0:I)?J(l.distance.x,0,p):0;if(l.isFinal===!0){Math.abs(fe)<Math.min(75,p)===!0?(a.animate(),le(1),H(0)):P(),te.value=!1;return}H(ee.value*fe),le(J(1-fe/p,0,1)),l.isFirst===!0&&(te.value=!0)}function _e(){t(!1),we(!0)}function ae(l,p){a.update(e.side,l,p)}function yt(l,p){l.value!==p&&(l.value=p)}function ke(l,p){ae("size",l===!0?e.miniWidth:p)}return a.instances[e.side]=Q,ke(e.miniToOverlay,$.value),ae("space",j.value),ae("offset",E.value),e.showIfAbove===!0&&e.modelValue!==!0&&w.value===!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),ve(()=>{h("onLayout",j.value),h("miniState",O.value),s=e.showIfAbove===!0;const l=()=>{(w.value===!0?m:y)(!1,!0)};if(a.totalWidth.value!==0){$e(l);return}c=B(a.totalWidth,()=>{c(),c=void 0,w.value===!1&&e.showIfAbove===!0&&z.value===!1?T(!1):l()})}),ye(()=>{c?.(),S!==null&&(clearTimeout(S),S=null),w.value===!0&&_e(),a.instances[e.side]===Q&&(a.instances[e.side]=void 0,ae("size",0),ae("offset",0),ae("space",!1))}),()=>{const l=[];z.value===!0&&(e.noSwipeOpen===!1&&l.push(K(A("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ft.value)),l.push(Qe("div",{ref:"backdrop",class:Se.value,style:it.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",e.noSwipeBackdrop!==!0&&w.value===!0,()=>ht.value)));const p=O.value===!0&&q.mini!==void 0,I=[A("div",{...g,key:""+p,class:[dt.value,g.class]},p===!0?q.mini():de(q.default))];return e.elevated===!0&&w.value===!0&&I.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(Qe("aside",{ref:"content",class:vt.value,style:ct.value},I,"contentclose",e.noSwipeClose!==!0&&z.value===!0,()=>mt.value)),A("div",{class:"q-drawer-container"},l)}}}),Zt=G({name:"QPageContainer",setup(e,{slots:q}){const{proxy:{$q:h}}=re(),g=Pe(ge,Y);if(g===Y)return console.error("QPageContainer needs to be child of QLayout"),Y;Me(kt,!0);const d=r(()=>{const f={};return g.header.space===!0&&(f.paddingTop=`${g.header.size}px`),g.right.space===!0&&(f[`padding${h.lang.rtl===!0?"Left":"Right"}`]=`${g.right.size}px`),g.footer.space===!0&&(f.paddingBottom=`${g.footer.size}px`),g.left.space===!0&&(f[`padding${h.lang.rtl===!0?"Right":"Left"}`]=`${g.left.size}px`),f});return()=>A("div",{class:"q-page-container",style:d.value},de(q.default))}}),el=G({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:q,emit:h}){const{proxy:{$q:g}}=re(),d=C(null),f=C(g.screen.height),o=C(e.container===!0?0:g.screen.width),t=C({position:0,direction:"down",inflectionPoint:0}),_=C(0),k=C(qt.value===!0?0:pe()),a=r(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),s=r(()=>e.container===!1?{minHeight:g.screen.height+"px"}:null),S=r(()=>k.value!==0?{[g.lang.rtl===!0?"left":"right"]:`${k.value}px`}:null),c=r(()=>k.value!==0?{[g.lang.rtl===!0?"right":"left"]:0,[g.lang.rtl===!0?"left":"right"]:`-${k.value}px`,width:`calc(100% + ${k.value}px)`}:null);function z(y){if(e.container===!0||document.qScrollPrevented!==!0){const T={position:y.position.top,direction:y.direction,directionChanged:y.directionChanged,inflectionPoint:y.inflectionPoint.top,delta:y.delta.top};t.value=T,e.onScroll!==void 0&&h("scroll",T)}}function O(y){const{height:T,width:P}=y;let M=!1;f.value!==T&&(M=!0,f.value=T,e.onScrollHeight!==void 0&&h("scrollHeight",T),w()),o.value!==P&&(M=!0,o.value=P),M===!0&&e.onResize!==void 0&&h("resize",y)}function $({height:y}){_.value!==y&&(_.value=y,w())}function w(){if(e.container===!0){const y=f.value>_.value?pe():0;k.value!==y&&(k.value=y)}}let n=null;const m={instances:{},view:r(()=>e.view),isContainer:r(()=>e.container),rootRef:d,height:f,containerHeight:_,scrollbarWidth:k,totalWidth:r(()=>o.value+k.value),rows:r(()=>{const y=e.view.toLowerCase().split(" ");return{top:y[0].split(""),middle:y[1].split(""),bottom:y[2].split("")}}),header:me({size:0,offset:0,space:!1}),right:me({size:300,offset:0,space:!1}),footer:me({size:0,offset:0,space:!1}),left:me({size:300,offset:0,space:!1}),scroll:t,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(y,T,P){m[y][T]=P}};if(Me(ge,m),pe()>0){let y=function(){M=null,Z.classList.remove("hide-scrollbar")},T=function(){if(M===null){if(Z.scrollHeight>g.screen.height)return;Z.classList.add("hide-scrollbar")}else clearTimeout(M);M=setTimeout(y,300)},P=function(Q){M!==null&&Q==="remove"&&(clearTimeout(M),y()),window[`${Q}EventListener`]("resize",T)},M=null;const Z=document.body;B(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),pt(()=>{P("remove")})}return()=>{const y=et(q.default,[A(rt,{onScroll:z}),A(ce,{onResize:O})]),T=A("div",{class:a.value,style:s.value,ref:e.container===!0?void 0:d,tabindex:-1},y);return e.container===!0?A("div",{class:"q-layout-container overflow-hidden",ref:d},[A(ce,{onResize:$}),A("div",{class:"absolute-full",style:S.value},[A("div",{class:"scroll",style:c.value},[T])])]):T}}}),tl=G({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:q,emit:h}){const g=re(),d=C(null);let f=0;const o=[];function t(c){const z=typeof c=="boolean"?c:e.noErrorFocus!==!0,O=++f,$=(m,y)=>{h(`validation${m===!0?"Success":"Error"}`,y)},w=m=>{const y=m.validate();return typeof y.then=="function"?y.then(T=>({valid:T,comp:m}),T=>({valid:!1,comp:m,err:T})):Promise.resolve({valid:y,comp:m})};return(e.greedy===!0?Promise.all(o.map(w)).then(m=>m.filter(y=>y.valid!==!0)):o.reduce((m,y)=>m.then(()=>w(y).then(T=>{if(T.valid===!1)return Promise.reject(T)})),Promise.resolve()).catch(m=>[m])).then(m=>{if(m===void 0||m.length===0)return O===f&&$(!0),!0;if(O===f){const{comp:y,err:T}=m[0];if(T!==void 0&&console.error(T),$(!1,y),z===!0){const P=m.find(({comp:M})=>typeof M.focus=="function"&&Ct(M.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function _(){f++,o.forEach(c=>{typeof c.resetValidation=="function"&&c.resetValidation()})}function k(c){c!==void 0&&Ve(c);const z=f+1;t().then(O=>{z===f&&O===!0&&(e.onSubmit!==void 0?h("submit",c):c?.target!==void 0&&typeof c.target.submit=="function"&&c.target.submit())})}function a(c){c!==void 0&&Ve(c),h("reset"),$e(()=>{_(),e.autofocus===!0&&e.noResetFocus!==!0&&s()})}function s(){Dt(()=>{if(d.value===null)return;(d.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),z=>z.tabIndex!==-1))?.focus({preventScroll:!0})})}Me(Tt,{bindComponent(c){o.push(c)},unbindComponent(c){const z=o.indexOf(c);z!==-1&&o.splice(z,1)}});let S=!1;return Ye(()=>{S=!0}),Ze(()=>{S===!0&&e.autofocus===!0&&s()}),ve(()=>{e.autofocus===!0&&s()}),Object.assign(g.proxy,{validate:t,resetValidation:_,submit:k,reset:a,focus:s,getValidationComponents:()=>o}),()=>A("form",{class:"q-form",ref:d,onSubmit:k,onReset:a},de(q.default))}}),ll={key:0,id:"user-indicator"},al=tt({__name:"UserIndicator",setup(e){const q=ot(),h=xt(),g=nt(),d=C(!1),f=C(!1),o=C(""),t=C(""),_=r(()=>q.screen.lt.sm),k=r(()=>g.userManagementActive===!0),a=r(()=>g.accessAllowed===!0),s=r(()=>a.value&&!S.value),S=r(()=>q.cookies.has("mqtt")),c=r(()=>S.value?q.cookies.get("mqtt").split(":")[0]:""),z=()=>{q.cookies.getAll(),q.cookies.has("mqtt")&&(q.cookies.remove("mqtt",{path:"/"}),h.go(0))},O=()=>{if(o.value,!o.value||o.value.length===0){f.value=!1;return}const w=`${o.value}:${t.value}`;q.cookies.set("mqtt",w,{expires:"30d",path:"/",secure:!0,sameSite:"Lax"}),q.cookies.get("mqtt"),f.value=!1,h.go(0)},$=()=>{o.value="",t.value=""};return B(s,w=>{k.value,S.value,k.value&&!w&&!S.value?f.value=!0:f.value=!1}),ve(()=>{k.value,s.value,S.value,k.value&&!s.value&&!S.value&&(f.value=!0)}),(w,n)=>k.value?(V(),be("div",ll,[i(je,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=m=>d.value=m),persistent:""},{default:v(()=>[i(We,null,{default:v(()=>[i(Ce,{class:"row items-center"},{default:v(()=>[i(He,{icon:"logout",color:"warning","text-color":"white"}),n[6]||(n[6]=Ie("span",{class:"q-ml-sm"},"Willst Du Dich wirklich abmelden?",-1))]),_:1,__:[6]}),i(Ee,{align:"right"},{default:v(()=>[K(i(N,{flat:"",label:"Abmelden",color:"negative",onClick:z},null,512),[[Te]]),K(i(N,{flat:"",label:"Schließen",color:"primary"},null,512),[[Te]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(je,{modelValue:f.value,"onUpdate:modelValue":n[3]||(n[3]=m=>f.value=m),persistent:"",onHide:$},{default:v(()=>[i(We,null,{default:v(()=>[i(Ce,{class:"row items-center"},{default:v(()=>[i(He,{icon:"logout",color:"warning","text-color":"white"}),n[7]||(n[7]=Ie("span",{class:"q-ml-sm"},"Gib Deine Anmeldedaten ein.",-1))]),_:1,__:[7]}),i(tl,{onSubmit:O},{default:v(()=>[i(Ce,null,{default:v(()=>[i(De(Ne),{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=m=>o.value=m),label:"Benutzername",type:"text",dense:"",autofocus:"",rules:[m=>m&&m.length>0||"Benutzername erforderlich"]},{prepend:v(()=>[i(U,{name:"account_circle"})]),_:1},8,["modelValue","rules"]),i(De(Ne),{modelValue:t.value,"onUpdate:modelValue":n[2]||(n[2]=m=>t.value=m),label:"Passwort",type:"password",dense:"",rules:[m=>m&&m.length>0||"Passwort erforderlich"]},{prepend:v(()=>[i(U,{name:"key"})]),_:1},8,["modelValue","rules"])]),_:1}),i(Ee,{align:"right"},{default:v(()=>[i(N,{flat:"",label:"Anmelden",color:"positive",type:"submit"}),s.value?K((V(),W(N,{key:0,flat:"",label:"Schließen",color:"primary"},null,512)),[[Te]]):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),S.value&&!_.value?(V(),W(Ft,{key:0,rounded:"",align:"middle",color:"primary",class:"non-selectable"},{default:v(()=>[i(U,{name:"account_circle",size:"sm",left:""}),L(" "+Fe(c.value),1)]),_:1})):D("",!0),S.value&&_.value?(V(),W(U,{key:1,name:"account_circle",size:"md",left:"",color:"primary"},{default:v(()=>[i(ne,null,{default:v(()=>[L('Angemeldet als "'+Fe(c.value)+'"',1)]),_:1})]),_:1})):D("",!0),S.value?(V(),W(N,{key:2,icon:"logout",dense:"",flat:"",round:"",onClick:n[4]||(n[4]=m=>d.value=!0)},{default:v(()=>[i(ne,null,{default:v(()=>n[8]||(n[8]=[L("Abmelden",-1)])),_:1,__:[8]})]),_:1})):D("",!0),S.value?D("",!0):(V(),W(U,{key:3,name:"no_accounts",size:"md",left:""},{default:v(()=>[i(ne,null,{default:v(()=>n[9]||(n[9]=[L("Nicht angemeldet",-1)])),_:1,__:[9]})]),_:1})),S.value?D("",!0):(V(),W(N,{key:4,icon:"login",dense:"",flat:"",round:"",onClick:n[5]||(n[5]=m=>f.value=!0)},{default:v(()=>[i(ne,null,{default:v(()=>n[10]||(n[10]=[L("Anmelden",-1)])),_:1,__:[10]})]),_:1}))])):D("",!0)}}),ol={key:0},nl={key:1},rl={key:2},il=tt({name:"MainLayout",__name:"MainLayout",setup(e){const q=nt(),h=ot(),g=r(()=>q.settingsAccessible),d=r(()=>q.statusAccessible),f=r(()=>q.chargeLogAccessible),o=r(()=>q.chartAccessible),t=C(!1),_=C("auto"),k=a=>{_.value=a,a==="auto"?(localStorage.removeItem("theme"),h.dark.set("auto")):(h.dark.set(a==="dark"),localStorage.setItem("theme",a))};return ve(()=>{const a=localStorage.getItem("theme");a?(_.value=a,h.dark.set(a==="dark")):(_.value="auto",h.dark.set("auto"))}),(a,s)=>{const S=At("router-view");return V(),W(el,{view:"hHh lpr lFf"},{default:v(()=>[i(Kt,{elevated:""},{default:v(()=>[i(Ut,null,{default:v(()=>[i(N,{dense:"",flat:"",round:"",icon:"menu",onClick:s[0]||(s[0]=c=>t.value=!t.value)}),i(Nt,null,{default:v(()=>s[5]||(s[5]=[L("openWB",-1)])),_:1,__:[5]}),i(Rt),i(al)]),_:1})]),_:1}),i(Yt,{modelValue:t.value,"onUpdate:modelValue":s[4]||(s[4]=c=>t.value=c),side:"left",overlay:"",elevated:"",breakpoint:500},{default:v(()=>[i(Jt,{class:"fit","horizontal-thumb-style":{opacity:"0"}},{default:v(()=>[i(Wt,{padding:""},{default:v(()=>[d.value?(V(),be("div",ol,[K((V(),W(ue,{clickable:"",href:"/openWB/web/settings/#/Status"},{default:v(()=>[i(R,{avatar:""},{default:v(()=>[i(U,{name:"dashboard"})]),_:1}),i(R,null,{default:v(()=>s[6]||(s[6]=[L(" Status ",-1)])),_:1,__:[6]})]),_:1})),[[he]]),i(xe)])):D("",!0),f.value||o.value?(V(),be("div",nl,[i(Ae,{header:""},{default:v(()=>s[7]||(s[7]=[L("Auswertungen",-1)])),_:1,__:[7]}),f.value?K((V(),W(ue,{key:0,clickable:"",href:"/openWB/web/settings/#/Logging/ChargeLog"},{default:v(()=>[i(R,{avatar:""},{default:v(()=>[i(U,{name:"table_chart"})]),_:1}),i(R,null,{default:v(()=>s[8]||(s[8]=[L(" Ladeprotokoll ",-1)])),_:1,__:[8]})]),_:1})),[[he]]):D("",!0),o.value?K((V(),W(ue,{key:1,clickable:"",href:"/openWB/web/settings/#/Logging/Chart"},{default:v(()=>[i(R,{avatar:""},{default:v(()=>[i(U,{name:"area_chart"})]),_:1}),i(R,null,{default:v(()=>s[9]||(s[9]=[L(" Diagramme ",-1)])),_:1,__:[9]})]),_:1})),[[he]]):D("",!0),i(xe)])):D("",!0),g.value?(V(),be("div",rl,[K((V(),W(ue,{clickable:"",href:"/openWB/web/settings/"},{default:v(()=>[i(R,{avatar:""},{default:v(()=>[i(U,{name:"settings"})]),_:1}),i(R,null,{default:v(()=>s[10]||(s[10]=[L(" Einstellungen ",-1)])),_:1,__:[10]})]),_:1})),[[he]]),i(xe)])):D("",!0),i(Ae,{header:""},{default:v(()=>s[11]||(s[11]=[L("Anzeigeeinstellungen",-1)])),_:1,__:[11]}),i(ue,null,{default:v(()=>[i(R,{avatar:""},{default:v(()=>[i(U,{name:"light_mode"})]),_:1}),i(R,null,{default:v(()=>[i(Ae,null,{default:v(()=>s[12]||(s[12]=[L("Darstellungsmodus",-1)])),_:1,__:[12]})]),_:1}),i(R,{side:""},{default:v(()=>[i(Et,{flat:""},{default:v(()=>[i(N,{flat:"",round:"",color:_.value==="light"?"primary":"",icon:"light_mode",onClick:s[1]||(s[1]=c=>k("light")),size:"sm",disable:_.value==="light","aria-label":"Light Mode"},{default:v(()=>[i(ne,null,{default:v(()=>s[13]||(s[13]=[L("Hell",-1)])),_:1,__:[13]})]),_:1},8,["color","disable"]),i(N,{flat:"",round:"",color:_.value==="dark"?"primary":"",icon:"dark_mode",onClick:s[2]||(s[2]=c=>k("dark")),size:"sm",disable:_.value==="dark","aria-label":"Dark Mode"},{default:v(()=>[i(ne,null,{default:v(()=>s[14]||(s[14]=[L("Dunkel",-1)])),_:1,__:[14]})]),_:1},8,["color","disable"]),i(N,{flat:"",round:"",color:_.value==="auto"?"primary":"",icon:"devices",onClick:s[3]||(s[3]=c=>k("auto")),size:"sm",disable:_.value==="auto","aria-label":"System Mode"},{default:v(()=>[i(ne,null,{default:v(()=>s[15]||(s[15]=[L("Systemeinstellung",-1)])),_:1,__:[15]})]),_:1},8,["color","disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(Zt,{class:"column flex centered-container"},{default:v(()=>[i(S)]),_:1})]),_:1})}}}),vl=jt(il,[["__scopeId","data-v-33ee24e7"]]);export{vl as default};
