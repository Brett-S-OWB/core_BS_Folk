var sT=Object.defineProperty;var db=t=>{throw TypeError(t)};var oT=(t,e,r)=>e in t?sT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ve=(t,e,r)=>oT(t,typeof e!="symbol"?e+"":e,r),_f=(t,e,r)=>e.has(t)||db("Cannot "+r);var ye=(t,e,r)=>(_f(t,e,"read from private field"),r?r.call(t):e.get(t)),dt=(t,e,r)=>e.has(t)?db("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ze=(t,e,r,n)=>(_f(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Xe=(t,e,r)=>(_f(t,e,"access private method"),r);var Ul=(t,e,r,n)=>({set _(s){Ze(t,e,s,r)},get _(){return ye(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const zs=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mg(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const xt={},Mo=[],Un=()=>{},aT=()=>!1,Pc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),kg=t=>t.startsWith("onUpdate:"),_r=Object.assign,Pg=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},lT=Object.prototype.hasOwnProperty,mt=(t,e)=>lT.call(t,e),rt=Array.isArray,ko=t=>vl(t)==="[object Map]",ia=t=>vl(t)==="[object Set]",hb=t=>vl(t)==="[object Date]",st=t=>typeof t=="function",Gt=t=>typeof t=="string",En=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",x0=t=>(Pt(t)||st(t))&&st(t.then)&&st(t.catch),T0=Object.prototype.toString,vl=t=>T0.call(t),uT=t=>vl(t).slice(8,-1),A0=t=>vl(t)==="[object Object]",Og=t=>Gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qa=Mg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oc=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},cT=/-(\w)/g,an=Oc(t=>t.replace(cT,(e,r)=>r?r.toUpperCase():"")),fT=/\B([A-Z])/g,Js=Oc(t=>t.replace(fT,"-$1").toLowerCase()),Lc=Oc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ef=Oc(t=>t?`on${Lc(t)}`:""),Ki=(t,e)=>!Object.is(t,e),yu=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},C0=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Gu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pb;const Rc=()=>pb||(pb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof zs<"u"?zs:{});function ft(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=Gt(n)?gT(n):ft(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(Gt(t)||Pt(t))return t}const dT=/;(?![^(]*\))/g,hT=/:([^]+)/,pT=/\/\*[^]*?\*\//g;function gT(t){const e={};return t.replace(pT,"").split(dT).forEach(r=>{if(r){const n=r.split(hT);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function tt(t){let e="";if(Gt(t))e=t;else if(rt(t))for(let r=0;r<t.length;r++){const n=tt(t[r]);n&&(e+=n+" ")}else if(Pt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const mT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bT=Mg(mT);function I0(t){return!!t||t===""}function yT(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=_l(t[n],e[n]);return r}function _l(t,e){if(t===e)return!0;let r=hb(t),n=hb(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=En(t),n=En(e),r||n)return t===e;if(r=rt(t),n=rt(e),r||n)return r&&n?yT(t,e):!1;if(r=Pt(t),n=Pt(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!_l(t[a],e[a]))return!1}}return String(t)===String(e)}function Lg(t,e){return t.findIndex(r=>_l(r,e))}const M0=t=>!!(t&&t.__v_isRef===!0),Pe=t=>Gt(t)?t:t==null?"":rt(t)||Pt(t)&&(t.toString===T0||!st(t.toString))?M0(t)?Pe(t.value):JSON.stringify(t,k0,2):String(t),k0=(t,e)=>M0(e)?k0(t,e.value):ko(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Sf(n,i)+" =>"]=s,r),{})}:ia(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Sf(r))}:En(e)?Sf(e):Pt(e)&&!rt(e)&&!A0(e)?String(e):e,Sf=(t,e="")=>{var r;return En(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ur;class wT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ur,!e&&Ur&&(this.index=(Ur.scopes||(Ur.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ur;try{return Ur=this,e()}finally{Ur=r}}}on(){Ur=this}off(){Ur=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function vT(){return Ur}let Ct;const xf=new WeakSet;class P0{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ur&&Ur.active&&Ur.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xf.has(this)&&(xf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||L0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gb(this),R0(this);const e=Ct,r=_n;Ct=this,_n=!0;try{return this.fn()}finally{B0(this),Ct=e,_n=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)$g(e);this.deps=this.depsTail=void 0,gb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bh(this)&&this.run()}get dirty(){return bh(this)}}let O0=0,Ga,Ya;function L0(t,e=!1){if(t.flags|=8,e){t.next=Ya,Ya=t;return}t.next=Ga,Ga=t}function Rg(){O0++}function Bg(){if(--O0>0)return;if(Ya){let e=Ya;for(Ya=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Ga;){let e=Ga;for(Ga=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function R0(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function B0(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),$g(n),_T(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function bh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&($0(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function $0(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===sl))return;t.globalVersion=sl;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!bh(t)){t.flags&=-3;return}const r=Ct,n=_n;Ct=t,_n=!0;try{R0(t);const s=t.fn(t._value);(e.version===0||Ki(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ct=r,_n=n,B0(t),t.flags&=-3}}function $g(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)$g(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function _T(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let _n=!0;const N0=[];function ns(){N0.push(_n),_n=!1}function is(){const t=N0.pop();_n=t===void 0?!0:t}function gb(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Ct;Ct=void 0;try{e()}finally{Ct=r}}}let sl=0;class ET{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ng{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ct||!_n||Ct===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ct)r=this.activeLink=new ET(Ct,this),Ct.deps?(r.prevDep=Ct.depsTail,Ct.depsTail.nextDep=r,Ct.depsTail=r):Ct.deps=Ct.depsTail=r,D0(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Ct.depsTail,r.nextDep=void 0,Ct.depsTail.nextDep=r,Ct.depsTail=r,Ct.deps===r&&(Ct.deps=n)}return r}trigger(e){this.version++,sl++,this.notify(e)}notify(e){Rg();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Bg()}}}function D0(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)D0(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const yh=new WeakMap,Rs=Symbol(""),wh=Symbol(""),ol=Symbol("");function pr(t,e,r){if(_n&&Ct){let n=yh.get(t);n||yh.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new Ng),s.map=n,s.key=r),s.track()}}function oi(t,e,r,n,s,i){const a=yh.get(t);if(!a){sl++;return}const o=l=>{l&&l.trigger()};if(Rg(),e==="clear")a.forEach(o);else{const l=rt(t),u=l&&Og(r);if(l&&r==="length"){const c=Number(n);a.forEach((f,d)=>{(d==="length"||d===ol||!En(d)&&d>=c)&&o(f)})}else switch((r!==void 0||a.has(void 0))&&o(a.get(r)),u&&o(a.get(ol)),e){case"add":l?u&&o(a.get("length")):(o(a.get(Rs)),ko(t)&&o(a.get(wh)));break;case"delete":l||(o(a.get(Rs)),ko(t)&&o(a.get(wh)));break;case"set":ko(t)&&o(a.get(Rs));break}}Bg()}function ho(t){const e=gt(t);return e===t?e:(pr(e,"iterate",ol),sn(t)?e:e.map(gr))}function Bc(t){return pr(t=gt(t),"iterate",ol),t}const ST={__proto__:null,[Symbol.iterator](){return Tf(this,Symbol.iterator,gr)},concat(...t){return ho(this).concat(...t.map(e=>rt(e)?ho(e):e))},entries(){return Tf(this,"entries",t=>(t[1]=gr(t[1]),t))},every(t,e){return Xn(this,"every",t,e,void 0,arguments)},filter(t,e){return Xn(this,"filter",t,e,r=>r.map(gr),arguments)},find(t,e){return Xn(this,"find",t,e,gr,arguments)},findIndex(t,e){return Xn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Xn(this,"findLast",t,e,gr,arguments)},findLastIndex(t,e){return Xn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Xn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Af(this,"includes",t)},indexOf(...t){return Af(this,"indexOf",t)},join(t){return ho(this).join(t)},lastIndexOf(...t){return Af(this,"lastIndexOf",t)},map(t,e){return Xn(this,"map",t,e,void 0,arguments)},pop(){return ya(this,"pop")},push(...t){return ya(this,"push",t)},reduce(t,...e){return mb(this,"reduce",t,e)},reduceRight(t,...e){return mb(this,"reduceRight",t,e)},shift(){return ya(this,"shift")},some(t,e){return Xn(this,"some",t,e,void 0,arguments)},splice(...t){return ya(this,"splice",t)},toReversed(){return ho(this).toReversed()},toSorted(t){return ho(this).toSorted(t)},toSpliced(...t){return ho(this).toSpliced(...t)},unshift(...t){return ya(this,"unshift",t)},values(){return Tf(this,"values",gr)}};function Tf(t,e,r){const n=Bc(t),s=n[e]();return n!==t&&!sn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const xT=Array.prototype;function Xn(t,e,r,n,s,i){const a=Bc(t),o=a!==t&&!sn(t),l=a[e];if(l!==xT[e]){const f=l.apply(t,i);return o?gr(f):f}let u=r;a!==t&&(o?u=function(f,d){return r.call(this,gr(f),d,t)}:r.length>2&&(u=function(f,d){return r.call(this,f,d,t)}));const c=l.call(a,u,n);return o&&s?s(c):c}function mb(t,e,r,n){const s=Bc(t);let i=r;return s!==t&&(sn(t)?r.length>3&&(i=function(a,o,l){return r.call(this,a,o,l,t)}):i=function(a,o,l){return r.call(this,a,gr(o),l,t)}),s[e](i,...n)}function Af(t,e,r){const n=gt(t);pr(n,"iterate",ol);const s=n[e](...r);return(s===-1||s===!1)&&Fg(r[0])?(r[0]=gt(r[0]),n[e](...r)):s}function ya(t,e,r=[]){ns(),Rg();const n=gt(t)[e].apply(t,r);return Bg(),is(),n}const TT=Mg("__proto__,__v_isRef,__isVue"),U0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(En));function AT(t){En(t)||(t=String(t));const e=gt(this);return pr(e,"has",t),e.hasOwnProperty(t)}class F0{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?$T:z0:i?W0:j0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=rt(e);if(!s){let l;if(a&&(l=ST[r]))return l;if(r==="hasOwnProperty")return AT}const o=Reflect.get(e,r,vr(e)?e:n);return(En(r)?U0.has(r):TT(r))||(s||pr(e,"get",r),i)?o:vr(o)?a&&Og(r)?o:o.value:Pt(o)?s?H0(o):Vt(o):o}}class V0 extends F0{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=Hs(i);if(!sn(n)&&!Hs(n)&&(i=gt(i),n=gt(n)),!rt(e)&&vr(i)&&!vr(n))return l?!1:(i.value=n,!0)}const a=rt(e)&&Og(r)?Number(r)<e.length:mt(e,r),o=Reflect.set(e,r,n,vr(e)?e:s);return e===gt(s)&&(a?Ki(n,i)&&oi(e,"set",r,n):oi(e,"add",r,n)),o}deleteProperty(e,r){const n=mt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&oi(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!En(r)||!U0.has(r))&&pr(e,"has",r),n}ownKeys(e){return pr(e,"iterate",rt(e)?"length":Rs),Reflect.ownKeys(e)}}class CT extends F0{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const IT=new V0,MT=new CT,kT=new V0(!0);const vh=t=>t,Fl=t=>Reflect.getPrototypeOf(t);function PT(t,e,r){return function(...n){const s=this.__v_raw,i=gt(s),a=ko(i),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...n),c=r?vh:e?_h:gr;return!e&&pr(i,"iterate",l?wh:Rs),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Vl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function OT(t,e){const r={get(s){const i=this.__v_raw,a=gt(i),o=gt(s);t||(Ki(s,o)&&pr(a,"get",s),pr(a,"get",o));const{has:l}=Fl(a),u=e?vh:t?_h:gr;if(l.call(a,s))return u(i.get(s));if(l.call(a,o))return u(i.get(o));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!t&&pr(gt(s),"iterate",Rs),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=gt(i),o=gt(s);return t||(Ki(s,o)&&pr(a,"has",s),pr(a,"has",o)),s===o?i.has(s):i.has(s)||i.has(o)},forEach(s,i){const a=this,o=a.__v_raw,l=gt(o),u=e?vh:t?_h:gr;return!t&&pr(l,"iterate",Rs),o.forEach((c,f)=>s.call(i,u(c),u(f),a))}};return _r(r,t?{add:Vl("add"),set:Vl("set"),delete:Vl("delete"),clear:Vl("clear")}:{add(s){!e&&!sn(s)&&!Hs(s)&&(s=gt(s));const i=gt(this);return Fl(i).has.call(i,s)||(i.add(s),oi(i,"add",s,s)),this},set(s,i){!e&&!sn(i)&&!Hs(i)&&(i=gt(i));const a=gt(this),{has:o,get:l}=Fl(a);let u=o.call(a,s);u||(s=gt(s),u=o.call(a,s));const c=l.call(a,s);return a.set(s,i),u?Ki(i,c)&&oi(a,"set",s,i):oi(a,"add",s,i),this},delete(s){const i=gt(this),{has:a,get:o}=Fl(i);let l=a.call(i,s);l||(s=gt(s),l=a.call(i,s)),o&&o.call(i,s);const u=i.delete(s);return l&&oi(i,"delete",s,void 0),u},clear(){const s=gt(this),i=s.size!==0,a=s.clear();return i&&oi(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=PT(s,t,e)}),r}function Dg(t,e){const r=OT(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(mt(r,s)&&s in n?r:n,s,i)}const LT={get:Dg(!1,!1)},RT={get:Dg(!1,!0)},BT={get:Dg(!0,!1)};const j0=new WeakMap,W0=new WeakMap,z0=new WeakMap,$T=new WeakMap;function NT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DT(t){return t.__v_skip||!Object.isExtensible(t)?0:NT(uT(t))}function Vt(t){return Hs(t)?t:Ug(t,!1,IT,LT,j0)}function UT(t){return Ug(t,!1,kT,RT,W0)}function H0(t){return Ug(t,!0,MT,BT,z0)}function Ug(t,e,r,n,s){if(!Pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const a=DT(t);if(a===0)return t;const o=new Proxy(t,a===2?n:r);return s.set(t,o),o}function Po(t){return Hs(t)?Po(t.__v_raw):!!(t&&t.__v_isReactive)}function Hs(t){return!!(t&&t.__v_isReadonly)}function sn(t){return!!(t&&t.__v_isShallow)}function Fg(t){return t?!!t.__v_raw:!1}function gt(t){const e=t&&t.__v_raw;return e?gt(e):t}function FT(t){return!mt(t,"__v_skip")&&Object.isExtensible(t)&&C0(t,"__v_skip",!0),t}const gr=t=>Pt(t)?Vt(t):t,_h=t=>Pt(t)?H0(t):t;function vr(t){return t?t.__v_isRef===!0:!1}function lt(t){return VT(t,!1)}function VT(t,e){return vr(t)?t:new jT(t,e)}class jT{constructor(e,r){this.dep=new Ng,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:gt(e),this._value=r?e:gr(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||sn(e)||Hs(e);e=n?e:gt(e),Ki(e,r)&&(this._rawValue=e,this._value=n?e:gr(e),this.dep.trigger())}}function ne(t){return vr(t)?t.value:t}const WT={get:(t,e,r)=>e==="__v_raw"?t:ne(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return vr(s)&&!vr(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function q0(t){return Po(t)?t:new Proxy(t,WT)}class zT{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Ng(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ct!==this)return L0(this,!0),!0}get value(){const e=this.dep.track();return $0(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function HT(t,e,r=!1){let n,s;return st(t)?n=t:(n=t.get,s=t.set),new zT(n,s,r)}const jl={},Yu=new WeakMap;let Ss;function qT(t,e=!1,r=Ss){if(r){let n=Yu.get(r);n||Yu.set(r,n=[]),n.push(t)}}function GT(t,e,r=xt){const{immediate:n,deep:s,once:i,scheduler:a,augmentJob:o,call:l}=r,u=S=>s?S:sn(S)||s===!1||s===0?ai(S,1):ai(S);let c,f,d,p,g=!1,b=!1;if(vr(t)?(f=()=>t.value,g=sn(t)):Po(t)?(f=()=>u(t),g=!0):rt(t)?(b=!0,g=t.some(S=>Po(S)||sn(S)),f=()=>t.map(S=>{if(vr(S))return S.value;if(Po(S))return u(S);if(st(S))return l?l(S,2):S()})):st(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){ns();try{d()}finally{is()}}const S=Ss;Ss=c;try{return l?l(t,3,[p]):t(p)}finally{Ss=S}}:f=Un,e&&s){const S=f,T=s===!0?1/0:s;f=()=>ai(S(),T)}const v=vT(),w=()=>{c.stop(),v&&v.active&&Pg(v.effects,c)};if(i&&e){const S=e;e=(...T)=>{S(...T),w()}}let _=b?new Array(t.length).fill(jl):jl;const y=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const T=c.run();if(s||g||(b?T.some((A,C)=>Ki(A,_[C])):Ki(T,_))){d&&d();const A=Ss;Ss=c;try{const C=[T,_===jl?void 0:b&&_[0]===jl?[]:_,p];l?l(e,3,C):e(...C),_=T}finally{Ss=A}}}else c.run()};return o&&o(y),c=new P0(f),c.scheduler=a?()=>a(y,!1):y,p=S=>qT(S,!1,c),d=c.onStop=()=>{const S=Yu.get(c);if(S){if(l)l(S,4);else for(const T of S)T();Yu.delete(c)}},e?n?y(!0):_=c.run():a?a(y.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function ai(t,e=1/0,r){if(e<=0||!Pt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,vr(t))ai(t.value,e,r);else if(rt(t))for(let n=0;n<t.length;n++)ai(t[n],e,r);else if(ia(t)||ko(t))t.forEach(n=>{ai(n,e,r)});else if(A0(t)){for(const n in t)ai(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ai(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function El(t,e,r,n){try{return n?t(...n):t()}catch(s){$c(s,e,r)}}function Hn(t,e,r,n){if(st(t)){const s=El(t,e,r,n);return s&&x0(s)&&s.catch(i=>{$c(i,e,r)}),s}if(rt(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Hn(t[i],e,r,n));return s}}function $c(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||xt;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}o=o.parent}if(i){ns(),El(i,null,10,[t,l,u]),is();return}}YT(t,r,s,n,a)}function YT(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Tr=[];let Ln=-1;const Oo=[];let ji=null,wo=0;const G0=Promise.resolve();let Ku=null;function Y0(t){const e=Ku||G0;return t?e.then(this?t.bind(this):t):e}function KT(t){let e=Ln+1,r=Tr.length;for(;e<r;){const n=e+r>>>1,s=Tr[n],i=al(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Vg(t){if(!(t.flags&1)){const e=al(t),r=Tr[Tr.length-1];!r||!(t.flags&2)&&e>=al(r)?Tr.push(t):Tr.splice(KT(e),0,t),t.flags|=1,K0()}}function K0(){Ku||(Ku=G0.then(Q0))}function XT(t){rt(t)?Oo.push(...t):ji&&t.id===-1?ji.splice(wo+1,0,t):t.flags&1||(Oo.push(t),t.flags|=1),K0()}function bb(t,e,r=Ln+1){for(;r<Tr.length;r++){const n=Tr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Tr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function X0(t){if(Oo.length){const e=[...new Set(Oo)].sort((r,n)=>al(r)-al(n));if(Oo.length=0,ji){ji.push(...e);return}for(ji=e,wo=0;wo<ji.length;wo++){const r=ji[wo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}ji=null,wo=0}}const al=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Q0(t){try{for(Ln=0;Ln<Tr.length;Ln++){const e=Tr[Ln];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),El(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ln<Tr.length;Ln++){const e=Tr[Ln];e&&(e.flags&=-2)}Ln=-1,Tr.length=0,X0(),Ku=null,(Tr.length||Oo.length)&&Q0()}}let or=null,J0=null;function Xu(t){const e=or;return or=t,J0=t&&t.type.__scopeId||null,e}function Ie(t,e=or,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&kb(-1);const i=Xu(e);let a;try{a=t(...s)}finally{Xu(i),n._d&&kb(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function sa(t,e){if(or===null)return t;const r=Fc(or),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,a,o,l=xt]=e[s];i&&(st(i)&&(i={mounted:i,updated:i}),i.deep&&ai(a),n.push({dir:i,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ds(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[n];l&&(ns(),Hn(l,r,8,[t.el,o,t,e]),is())}}const Z0=Symbol("_vte"),QT=t=>t.__isTeleport,Ka=t=>t&&(t.disabled||t.disabled===""),yb=t=>t&&(t.defer||t.defer===""),wb=t=>typeof SVGElement<"u"&&t instanceof SVGElement,vb=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Eh=(t,e)=>{const r=t&&t.to;return Gt(r)?e?e(r):null:r},e_={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,a,o,l,u){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:g,createText:b,createComment:v}}=u,w=Ka(e.props);let{shapeFlag:_,children:y,dynamicChildren:S}=e;if(t==null){const T=e.el=b(""),A=e.anchor=b("");p(T,r,n),p(A,r,n);const C=(j,F)=>{_&16&&(s&&s.isCE&&(s.ce._teleportTarget=j),c(y,j,F,s,i,a,o,l))},L=()=>{const j=e.target=Eh(e.props,g),F=t_(j,e,b,p);j&&(a!=="svg"&&wb(j)?a="svg":a!=="mathml"&&vb(j)&&(a="mathml"),w||(C(j,F),wu(e,!1)))};w&&(C(r,A),wu(e,!0)),yb(e.props)?xr(()=>{L(),e.el.__isMounted=!0},i):L()}else{if(yb(e.props)&&!t.el.__isMounted){xr(()=>{e_.process(t,e,r,n,s,i,a,o,l,u),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,A=e.target=t.target,C=e.targetAnchor=t.targetAnchor,L=Ka(t.props),j=L?r:A,F=L?T:C;if(a==="svg"||wb(A)?a="svg":(a==="mathml"||vb(A))&&(a="mathml"),S?(d(t.dynamicChildren,S,j,s,i,a,o),zg(t,e,!0)):l||f(t,e,j,F,s,i,a,o,!1),w)L?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Wl(e,r,T,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=Eh(e.props,g);$&&Wl(e,$,null,u,0)}else L&&Wl(e,A,C,u,1);wu(e,w)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=t;if(f&&(s(u),s(c)),i&&s(l),a&16){const p=i||!Ka(d);for(let g=0;g<o.length;g++){const b=o[g];n(b,e,r,p,!!b.dynamicChildren)}}},move:Wl,hydrate:JT};function Wl(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,f=i===2;if(f&&n(a,e,r),(!f||Ka(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],e,r,2);f&&n(o,e,r)}function JT(t,e,r,n,s,i,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:c}},f){const d=e.target=Eh(e.props,l);if(d){const p=Ka(e.props),g=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)e.anchor=f(a(t),e,o(t),r,n,s,i),e.targetStart=g,e.targetAnchor=g&&a(g);else{e.anchor=a(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,d._lpa=e.targetAnchor&&a(e.targetAnchor);break}}b=a(b)}e.targetAnchor||t_(d,e,c,u),f(g&&a(g),e,d,r,n,s,i)}wu(e,p)}return e.anchor&&a(e.anchor)}const ZT=e_;function wu(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function t_(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[Z0]=i,t&&(n(s,t),n(i,t)),i}function jg(t,e){t.shapeFlag&6&&t.component?(t.transition=e,jg(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function We(t,e){return st(t)?_r({name:t.name},e,{setup:t}):t}function r_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Qu(t,e,r,n,s=!1){if(rt(t)){t.forEach((g,b)=>Qu(g,e&&(rt(e)?e[b]:e),r,n,s));return}if(Lo(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Qu(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?Fc(n.component):n.el,a=s?null:i,{i:o,r:l}=t,u=e&&e.r,c=o.refs===xt?o.refs={}:o.refs,f=o.setupState,d=gt(f),p=f===xt?()=>!1:g=>mt(d,g);if(u!=null&&u!==l&&(Gt(u)?(c[u]=null,p(u)&&(f[u]=null)):vr(u)&&(u.value=null)),st(l))El(l,o,12,[a,c]);else{const g=Gt(l),b=vr(l);if(g||b){const v=()=>{if(t.f){const w=g?p(l)?f[l]:c[l]:l.value;s?rt(w)&&Pg(w,i):rt(w)?w.includes(i)||w.push(i):g?(c[l]=[i],p(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else g?(c[l]=a,p(l)&&(f[l]=a)):b&&(l.value=a,t.k&&(c[t.k]=a))};a?(v.id=-1,xr(v,r)):v()}}}Rc().requestIdleCallback;Rc().cancelIdleCallback;const Lo=t=>!!t.type.__asyncLoader,n_=t=>t.type.__isKeepAlive;function eA(t,e){i_(t,"a",e)}function tA(t,e){i_(t,"da",e)}function i_(t,e,r=br){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Nc(e,n,r),r){let s=r.parent;for(;s&&s.parent;)n_(s.parent.vnode)&&rA(n,e,r,s),s=s.parent}}function rA(t,e,r,n){const s=Nc(e,t,n,!0);o_(()=>{Pg(n[e],s)},r)}function Nc(t,e,r=br,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...a)=>{ns();const o=Sl(r),l=Hn(e,r,t,a);return o(),is(),l});return n?s.unshift(i):s.push(i),i}}const Ii=t=>(e,r=br)=>{(!ul||t==="sp")&&Nc(t,(...n)=>e(...n),r)},nA=Ii("bm"),cn=Ii("m"),iA=Ii("bu"),sA=Ii("u"),s_=Ii("bum"),o_=Ii("um"),oA=Ii("sp"),aA=Ii("rtg"),lA=Ii("rtc");function uA(t,e=br){Nc("ec",t,e)}const cA="components";function fA(t,e){return hA(cA,t,!0,e)||t}const dA=Symbol.for("v-ndc");function hA(t,e,r=!0,n=!1){const s=or||br;if(s){const i=s.type;{const o=nC(i,!1);if(o&&(o===e||o===an(e)||o===Lc(an(e))))return i}const a=_b(s[t]||i[t],e)||_b(s.appContext[t],e);return!a&&n?i:a}}function _b(t,e){return t&&(t[e]||t[an(e)]||t[Lc(an(e))])}function ot(t,e,r,n){let s;const i=r,a=rt(t);if(a||Gt(t)){const o=a&&Po(t);let l=!1;o&&(l=!sn(t),t=Bc(t)),s=new Array(t.length);for(let u=0,c=t.length;u<c;u++)s[u]=e(l?gr(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i)}else if(Pt(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,i));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];s[l]=e(t[c],c,l,i)}}else s=[];return s}function pA(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(rt(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function qt(t,e,r={},n,s){if(or.ce||or.parent&&Lo(or.parent)&&or.parent.ce)return e!=="default"&&(r.name=e),ae(),Be(Ge,null,[Se("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),ae();const a=i&&a_(i(r)),o=r.key||a&&a.key,l=Be(Ge,{key:(o&&!En(o)?o:`_${e}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function a_(t){return t.some(e=>qg(e)?!(e.type===Ji||e.type===Ge&&!a_(e.children)):!0)?t:null}const Sh=t=>t?A_(t)?Fc(t):Sh(t.parent):null,Xa=_r(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sh(t.parent),$root:t=>Sh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>u_(t),$forceUpdate:t=>t.f||(t.f=()=>{Vg(t.update)}),$nextTick:t=>t.n||(t.n=Y0.bind(t.proxy)),$watch:t=>NA.bind(t)}),Cf=(t,e)=>t!==xt&&!t.__isScriptSetup&&mt(t,e),gA={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Cf(n,e))return a[e]=1,n[e];if(s!==xt&&mt(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&mt(u,e))return a[e]=3,i[e];if(r!==xt&&mt(r,e))return a[e]=4,r[e];xh&&(a[e]=0)}}const c=Xa[e];let f,d;if(c)return e==="$attrs"&&pr(t.attrs,"get",""),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==xt&&mt(r,e))return a[e]=4,r[e];if(d=l.config.globalProperties,mt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Cf(s,e)?(s[e]=r,!0):n!==xt&&mt(n,e)?(n[e]=r,!0):mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},a){let o;return!!r[a]||t!==xt&&mt(t,a)||Cf(e,a)||(o=i[0])&&mt(o,a)||mt(n,a)||mt(Xa,a)||mt(s.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:mt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Eb(t){return rt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let xh=!0;function mA(t){const e=u_(t),r=t.proxy,n=t.ctx;xh=!1,e.beforeCreate&&Sb(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:b,deactivated:v,beforeDestroy:w,beforeUnmount:_,destroyed:y,unmounted:S,render:T,renderTracked:A,renderTriggered:C,errorCaptured:L,serverPrefetch:j,expose:F,inheritAttrs:$,components:I,directives:M,filters:B}=e;if(u&&bA(u,n,null),a)for(const re in a){const N=a[re];st(N)&&(n[re]=N.bind(r))}if(s){const re=s.call(r,r);Pt(re)&&(t.data=Vt(re))}if(xh=!0,i)for(const re in i){const N=i[re],fe=st(N)?N.bind(r,r):st(N.get)?N.get.bind(r,r):Un,G=!st(N)&&st(N.set)?N.set.bind(r):Un,pe=we({get:fe,set:G});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>pe.value,set:U=>pe.value=U})}if(o)for(const re in o)l_(o[re],n,r,re);if(l){const re=st(l)?l.call(r):l;Reflect.ownKeys(re).forEach(N=>{SA(N,re[N])})}c&&Sb(c,t,"c");function ie(re,N){rt(N)?N.forEach(fe=>re(fe.bind(r))):N&&re(N.bind(r))}if(ie(nA,f),ie(cn,d),ie(iA,p),ie(sA,g),ie(eA,b),ie(tA,v),ie(uA,L),ie(lA,A),ie(aA,C),ie(s_,_),ie(o_,S),ie(oA,j),rt(F))if(F.length){const re=t.exposed||(t.exposed={});F.forEach(N=>{Object.defineProperty(re,N,{get:()=>r[N],set:fe=>r[N]=fe})})}else t.exposed||(t.exposed={});T&&t.render===Un&&(t.render=T),$!=null&&(t.inheritAttrs=$),I&&(t.components=I),M&&(t.directives=M),j&&r_(t)}function bA(t,e,r=Un){rt(t)&&(t=Th(t));for(const n in t){const s=t[n];let i;Pt(s)?"default"in s?i=vu(s.from||n,s.default,!0):i=vu(s.from||n):i=vu(s),vr(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[n]=i}}function Sb(t,e,r){Hn(rt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function l_(t,e,r,n){let s=n.includes(".")?__(r,n):()=>r[n];if(Gt(t)){const i=e[t];st(i)&&_u(s,i)}else if(st(t))_u(s,t.bind(r));else if(Pt(t))if(rt(t))t.forEach(i=>l_(i,e,r,n));else{const i=st(t.handler)?t.handler.bind(r):e[t.handler];st(i)&&_u(s,i,t)}}function u_(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,o=i.get(e);let l;return o?l=o:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(u=>Ju(l,u,a,!0)),Ju(l,e,a)),Pt(e)&&i.set(e,l),l}function Ju(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&Ju(t,i,r,!0),s&&s.forEach(a=>Ju(t,a,r,!0));for(const a in e)if(!(n&&a==="expose")){const o=yA[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const yA={data:xb,props:Tb,emits:Tb,methods:Na,computed:Na,beforeCreate:Er,created:Er,beforeMount:Er,mounted:Er,beforeUpdate:Er,updated:Er,beforeDestroy:Er,beforeUnmount:Er,destroyed:Er,unmounted:Er,activated:Er,deactivated:Er,errorCaptured:Er,serverPrefetch:Er,components:Na,directives:Na,watch:vA,provide:xb,inject:wA};function xb(t,e){return e?t?function(){return _r(st(t)?t.call(this,this):t,st(e)?e.call(this,this):e)}:e:t}function wA(t,e){return Na(Th(t),Th(e))}function Th(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Er(t,e){return t?[...new Set([].concat(t,e))]:e}function Na(t,e){return t?_r(Object.create(null),t,e):e}function Tb(t,e){return t?rt(t)&&rt(e)?[...new Set([...t,...e])]:_r(Object.create(null),Eb(t),Eb(e??{})):e}function vA(t,e){if(!t)return e;if(!e)return t;const r=_r(Object.create(null),t);for(const n in e)r[n]=Er(t[n],e[n]);return r}function c_(){return{app:null,config:{isNativeTag:aT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _A=0;function EA(t,e){return function(n,s=null){st(n)||(n=_r({},n)),s!=null&&!Pt(s)&&(s=null);const i=c_(),a=new WeakSet,o=[];let l=!1;const u=i.app={_uid:_A++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:sC,get config(){return i.config},set config(c){},use(c,...f){return a.has(c)||(c&&st(c.install)?(a.add(c),c.install(u,...f)):st(c)&&(a.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,d){if(!l){const p=u._ceVNode||Se(n,s);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(p,c,d),l=!0,u._container=c,c.__vue_app__=u,Fc(p.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Hn(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=Ro;Ro=u;try{return c()}finally{Ro=f}}};return u}}let Ro=null;function SA(t,e){if(br){let r=br.provides;const n=br.parent&&br.parent.provides;n===r&&(r=br.provides=Object.create(n)),r[t]=e}}function vu(t,e,r=!1){const n=br||or;if(n||Ro){const s=Ro?Ro._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&st(e)?e.call(n&&n.proxy):e}}const f_={},d_=()=>Object.create(f_),h_=t=>Object.getPrototypeOf(t)===f_;function xA(t,e,r,n=!1){const s={},i=d_();t.propsDefaults=Object.create(null),p_(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);r?t.props=n?s:UT(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function TA(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,o=gt(s),[l]=t.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Dc(t.emitsOptions,d))continue;const p=e[d];if(l)if(mt(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const g=an(d);s[g]=Ah(l,o,g,p,t,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{p_(t,e,s,i)&&(u=!0);let c;for(const f in o)(!e||!mt(e,f)&&((c=Js(f))===f||!mt(e,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(s[f]=Ah(l,o,f,void 0,t,!0)):delete s[f]);if(i!==o)for(const f in i)(!e||!mt(e,f))&&(delete i[f],u=!0)}u&&oi(t.attrs,"set","")}function p_(t,e,r,n){const[s,i]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(qa(l))continue;const u=e[l];let c;s&&mt(s,c=an(l))?!i||!i.includes(c)?r[c]=u:(o||(o={}))[c]=u:Dc(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(i){const l=gt(r),u=o||xt;for(let c=0;c<i.length;c++){const f=i[c];r[f]=Ah(s,l,f,u[f],t,!mt(u,f))}}return a}function Ah(t,e,r,n,s,i){const a=t[r];if(a!=null){const o=mt(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&st(l)){const{propsDefaults:u}=s;if(r in u)n=u[r];else{const c=Sl(s);n=u[r]=l.call(null,e),c()}}else n=l;s.ce&&s.ce._setProp(r,n)}a[0]&&(i&&!o?n=!1:a[1]&&(n===""||n===Js(r))&&(n=!0))}return n}const AA=new WeakMap;function g_(t,e,r=!1){const n=r?AA:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,a={},o=[];let l=!1;if(!st(t)){const c=f=>{l=!0;const[d,p]=g_(f,e,!0);_r(a,d),p&&o.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Pt(t)&&n.set(t,Mo),Mo;if(rt(i))for(let c=0;c<i.length;c++){const f=an(i[c]);Ab(f)&&(a[f]=xt)}else if(i)for(const c in i){const f=an(c);if(Ab(f)){const d=i[c],p=a[f]=rt(d)||st(d)?{type:d}:_r({},d),g=p.type;let b=!1,v=!0;if(rt(g))for(let w=0;w<g.length;++w){const _=g[w],y=st(_)&&_.name;if(y==="Boolean"){b=!0;break}else y==="String"&&(v=!1)}else b=st(g)&&g.name==="Boolean";p[0]=b,p[1]=v,(b||mt(p,"default"))&&o.push(f)}}const u=[a,o];return Pt(t)&&n.set(t,u),u}function Ab(t){return t[0]!=="$"&&!qa(t)}const m_=t=>t[0]==="_"||t==="$stable",Wg=t=>rt(t)?t.map(Rn):[Rn(t)],CA=(t,e,r)=>{if(e._n)return e;const n=Ie((...s)=>Wg(e(...s)),r);return n._c=!1,n},b_=(t,e,r)=>{const n=t._ctx;for(const s in t){if(m_(s))continue;const i=t[s];if(st(i))e[s]=CA(s,i,n);else if(i!=null){const a=Wg(i);e[s]=()=>a}}},y_=(t,e)=>{const r=Wg(e);t.slots.default=()=>r},w_=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},IA=(t,e,r)=>{const n=t.slots=d_();if(t.vnode.shapeFlag&32){const s=e._;s?(w_(n,e,r),r&&C0(n,"_",s,!0)):b_(e,n)}else e&&y_(t,e)},MA=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,a=xt;if(n.shapeFlag&32){const o=e._;o?r&&o===1?i=!1:w_(s,e,r):(i=!e.$stable,b_(e,s)),a=e}else e&&(y_(t,e),a={default:1});if(i)for(const o in s)!m_(o)&&a[o]==null&&delete s[o]},xr=zA;function kA(t){return PA(t)}function PA(t,e){const r=Rc();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=Un,insertStaticContent:g}=t,b=(k,P,V,R=null,H=null,q=null,ue=void 0,Z=null,Y=!!P.dynamicChildren)=>{if(k===P)return;k&&!wa(k,P)&&(R=W(k),U(k,H,q,!0),k=null),P.patchFlag===-2&&(Y=!1,P.dynamicChildren=null);const{type:se,ref:Q,shapeFlag:oe}=P;switch(se){case Uc:v(k,P,V,R);break;case Ji:w(k,P,V,R);break;case Eu:k==null&&_(P,V,R,ue);break;case Ge:I(k,P,V,R,H,q,ue,Z,Y);break;default:oe&1?T(k,P,V,R,H,q,ue,Z,Y):oe&6?M(k,P,V,R,H,q,ue,Z,Y):(oe&64||oe&128)&&se.process(k,P,V,R,H,q,ue,Z,Y,ce)}Q!=null&&H&&Qu(Q,k&&k.ref,q,P||k,!P)},v=(k,P,V,R)=>{if(k==null)n(P.el=o(P.children),V,R);else{const H=P.el=k.el;P.children!==k.children&&u(H,P.children)}},w=(k,P,V,R)=>{k==null?n(P.el=l(P.children||""),V,R):P.el=k.el},_=(k,P,V,R)=>{[k.el,k.anchor]=g(k.children,P,V,R,k.el,k.anchor)},y=({el:k,anchor:P},V,R)=>{let H;for(;k&&k!==P;)H=d(k),n(k,V,R),k=H;n(P,V,R)},S=({el:k,anchor:P})=>{let V;for(;k&&k!==P;)V=d(k),s(k),k=V;s(P)},T=(k,P,V,R,H,q,ue,Z,Y)=>{P.type==="svg"?ue="svg":P.type==="math"&&(ue="mathml"),k==null?A(P,V,R,H,q,ue,Z,Y):j(k,P,H,q,ue,Z,Y)},A=(k,P,V,R,H,q,ue,Z)=>{let Y,se;const{props:Q,shapeFlag:oe,transition:me,dirs:Te}=k;if(Y=k.el=a(k.type,q,Q&&Q.is,Q),oe&8?c(Y,k.children):oe&16&&L(k.children,Y,null,R,H,If(k,q),ue,Z),Te&&ds(k,null,R,"created"),C(Y,k,k.scopeId,ue,R),Q){for(const m in Q)m!=="value"&&!qa(m)&&i(Y,m,null,Q[m],q,R);"value"in Q&&i(Y,"value",null,Q.value,q),(se=Q.onVnodeBeforeMount)&&In(se,R,k)}Te&&ds(k,null,R,"beforeMount");const x=OA(H,me);x&&me.beforeEnter(Y),n(Y,P,V),((se=Q&&Q.onVnodeMounted)||x||Te)&&xr(()=>{se&&In(se,R,k),x&&me.enter(Y),Te&&ds(k,null,R,"mounted")},H)},C=(k,P,V,R,H)=>{if(V&&p(k,V),R)for(let q=0;q<R.length;q++)p(k,R[q]);if(H){let q=H.subTree;if(P===q||S_(q.type)&&(q.ssContent===P||q.ssFallback===P)){const ue=H.vnode;C(k,ue,ue.scopeId,ue.slotScopeIds,H.parent)}}},L=(k,P,V,R,H,q,ue,Z,Y=0)=>{for(let se=Y;se<k.length;se++){const Q=k[se]=Z?Wi(k[se]):Rn(k[se]);b(null,Q,P,V,R,H,q,ue,Z)}},j=(k,P,V,R,H,q,ue)=>{const Z=P.el=k.el;let{patchFlag:Y,dynamicChildren:se,dirs:Q}=P;Y|=k.patchFlag&16;const oe=k.props||xt,me=P.props||xt;let Te;if(V&&hs(V,!1),(Te=me.onVnodeBeforeUpdate)&&In(Te,V,P,k),Q&&ds(P,k,V,"beforeUpdate"),V&&hs(V,!0),(oe.innerHTML&&me.innerHTML==null||oe.textContent&&me.textContent==null)&&c(Z,""),se?F(k.dynamicChildren,se,Z,V,R,If(P,H),q):ue||N(k,P,Z,null,V,R,If(P,H),q,!1),Y>0){if(Y&16)$(Z,oe,me,V,H);else if(Y&2&&oe.class!==me.class&&i(Z,"class",null,me.class,H),Y&4&&i(Z,"style",oe.style,me.style,H),Y&8){const x=P.dynamicProps;for(let m=0;m<x.length;m++){const h=x[m],E=oe[h],O=me[h];(O!==E||h==="value")&&i(Z,h,E,O,H,V)}}Y&1&&k.children!==P.children&&c(Z,P.children)}else!ue&&se==null&&$(Z,oe,me,V,H);((Te=me.onVnodeUpdated)||Q)&&xr(()=>{Te&&In(Te,V,P,k),Q&&ds(P,k,V,"updated")},R)},F=(k,P,V,R,H,q,ue)=>{for(let Z=0;Z<P.length;Z++){const Y=k[Z],se=P[Z],Q=Y.el&&(Y.type===Ge||!wa(Y,se)||Y.shapeFlag&70)?f(Y.el):V;b(Y,se,Q,null,R,H,q,ue,!0)}},$=(k,P,V,R,H)=>{if(P!==V){if(P!==xt)for(const q in P)!qa(q)&&!(q in V)&&i(k,q,P[q],null,H,R);for(const q in V){if(qa(q))continue;const ue=V[q],Z=P[q];ue!==Z&&q!=="value"&&i(k,q,Z,ue,H,R)}"value"in V&&i(k,"value",P.value,V.value,H)}},I=(k,P,V,R,H,q,ue,Z,Y)=>{const se=P.el=k?k.el:o(""),Q=P.anchor=k?k.anchor:o("");let{patchFlag:oe,dynamicChildren:me,slotScopeIds:Te}=P;Te&&(Z=Z?Z.concat(Te):Te),k==null?(n(se,V,R),n(Q,V,R),L(P.children||[],V,Q,H,q,ue,Z,Y)):oe>0&&oe&64&&me&&k.dynamicChildren?(F(k.dynamicChildren,me,V,H,q,ue,Z),(P.key!=null||H&&P===H.subTree)&&zg(k,P,!0)):N(k,P,V,Q,H,q,ue,Z,Y)},M=(k,P,V,R,H,q,ue,Z,Y)=>{P.slotScopeIds=Z,k==null?P.shapeFlag&512?H.ctx.activate(P,V,R,ue,Y):B(P,V,R,H,q,ue,Y):J(k,P,Y)},B=(k,P,V,R,H,q,ue)=>{const Z=k.component=JA(k,R,H);if(n_(k)&&(Z.ctx.renderer=ce),ZA(Z,!1,ue),Z.asyncDep){if(H&&H.registerDep(Z,ie,ue),!k.el){const Y=Z.subTree=Se(Ji);w(null,Y,P,V)}}else ie(Z,k,P,V,H,q,ue)},J=(k,P,V)=>{const R=P.component=k.component;if(jA(k,P,V))if(R.asyncDep&&!R.asyncResolved){re(R,P,V);return}else R.next=P,R.update();else P.el=k.el,R.vnode=P},ie=(k,P,V,R,H,q,ue)=>{const Z=()=>{if(k.isMounted){let{next:oe,bu:me,u:Te,parent:x,vnode:m}=k;{const he=v_(k);if(he){oe&&(oe.el=m.el,re(k,oe,ue)),he.asyncDep.then(()=>{k.isUnmounted||Z()});return}}let h=oe,E;hs(k,!1),oe?(oe.el=m.el,re(k,oe,ue)):oe=m,me&&yu(me),(E=oe.props&&oe.props.onVnodeBeforeUpdate)&&In(E,x,oe,m),hs(k,!0);const O=Ib(k),te=k.subTree;k.subTree=O,b(te,O,f(te.el),W(te),k,H,q),oe.el=O.el,h===null&&WA(k,O.el),Te&&xr(Te,H),(E=oe.props&&oe.props.onVnodeUpdated)&&xr(()=>In(E,x,oe,m),H)}else{let oe;const{el:me,props:Te}=P,{bm:x,m,parent:h,root:E,type:O}=k,te=Lo(P);hs(k,!1),x&&yu(x),!te&&(oe=Te&&Te.onVnodeBeforeMount)&&In(oe,h,P),hs(k,!0);{E.ce&&E.ce._injectChildStyle(O);const he=k.subTree=Ib(k);b(null,he,V,R,k,H,q),P.el=he.el}if(m&&xr(m,H),!te&&(oe=Te&&Te.onVnodeMounted)){const he=P;xr(()=>In(oe,h,he),H)}(P.shapeFlag&256||h&&Lo(h.vnode)&&h.vnode.shapeFlag&256)&&k.a&&xr(k.a,H),k.isMounted=!0,P=V=R=null}};k.scope.on();const Y=k.effect=new P0(Z);k.scope.off();const se=k.update=Y.run.bind(Y),Q=k.job=Y.runIfDirty.bind(Y);Q.i=k,Q.id=k.uid,Y.scheduler=()=>Vg(Q),hs(k,!0),se()},re=(k,P,V)=>{P.component=k;const R=k.vnode.props;k.vnode=P,k.next=null,TA(k,P.props,R,V),MA(k,P.children,V),ns(),bb(k),is()},N=(k,P,V,R,H,q,ue,Z,Y=!1)=>{const se=k&&k.children,Q=k?k.shapeFlag:0,oe=P.children,{patchFlag:me,shapeFlag:Te}=P;if(me>0){if(me&128){G(se,oe,V,R,H,q,ue,Z,Y);return}else if(me&256){fe(se,oe,V,R,H,q,ue,Z,Y);return}}Te&8?(Q&16&&K(se,H,q),oe!==se&&c(V,oe)):Q&16?Te&16?G(se,oe,V,R,H,q,ue,Z,Y):K(se,H,q,!0):(Q&8&&c(V,""),Te&16&&L(oe,V,R,H,q,ue,Z,Y))},fe=(k,P,V,R,H,q,ue,Z,Y)=>{k=k||Mo,P=P||Mo;const se=k.length,Q=P.length,oe=Math.min(se,Q);let me;for(me=0;me<oe;me++){const Te=P[me]=Y?Wi(P[me]):Rn(P[me]);b(k[me],Te,V,null,H,q,ue,Z,Y)}se>Q?K(k,H,q,!0,!1,oe):L(P,V,R,H,q,ue,Z,Y,oe)},G=(k,P,V,R,H,q,ue,Z,Y)=>{let se=0;const Q=P.length;let oe=k.length-1,me=Q-1;for(;se<=oe&&se<=me;){const Te=k[se],x=P[se]=Y?Wi(P[se]):Rn(P[se]);if(wa(Te,x))b(Te,x,V,null,H,q,ue,Z,Y);else break;se++}for(;se<=oe&&se<=me;){const Te=k[oe],x=P[me]=Y?Wi(P[me]):Rn(P[me]);if(wa(Te,x))b(Te,x,V,null,H,q,ue,Z,Y);else break;oe--,me--}if(se>oe){if(se<=me){const Te=me+1,x=Te<Q?P[Te].el:R;for(;se<=me;)b(null,P[se]=Y?Wi(P[se]):Rn(P[se]),V,x,H,q,ue,Z,Y),se++}}else if(se>me)for(;se<=oe;)U(k[se],H,q,!0),se++;else{const Te=se,x=se,m=new Map;for(se=x;se<=me;se++){const ze=P[se]=Y?Wi(P[se]):Rn(P[se]);ze.key!=null&&m.set(ze.key,se)}let h,E=0;const O=me-x+1;let te=!1,he=0;const Ce=new Array(O);for(se=0;se<O;se++)Ce[se]=0;for(se=Te;se<=oe;se++){const ze=k[se];if(E>=O){U(ze,H,q,!0);continue}let Ue;if(ze.key!=null)Ue=m.get(ze.key);else for(h=x;h<=me;h++)if(Ce[h-x]===0&&wa(ze,P[h])){Ue=h;break}Ue===void 0?U(ze,H,q,!0):(Ce[Ue-x]=se+1,Ue>=he?he=Ue:te=!0,b(ze,P[Ue],V,null,H,q,ue,Z,Y),E++)}const Fe=te?LA(Ce):Mo;for(h=Fe.length-1,se=O-1;se>=0;se--){const ze=x+se,Ue=P[ze],qe=ze+1<Q?P[ze+1].el:R;Ce[se]===0?b(null,Ue,V,qe,H,q,ue,Z,Y):te&&(h<0||se!==Fe[h]?pe(Ue,V,qe,2):h--)}}},pe=(k,P,V,R,H=null)=>{const{el:q,type:ue,transition:Z,children:Y,shapeFlag:se}=k;if(se&6){pe(k.component.subTree,P,V,R);return}if(se&128){k.suspense.move(P,V,R);return}if(se&64){ue.move(k,P,V,ce);return}if(ue===Ge){n(q,P,V);for(let oe=0;oe<Y.length;oe++)pe(Y[oe],P,V,R);n(k.anchor,P,V);return}if(ue===Eu){y(k,P,V);return}if(R!==2&&se&1&&Z)if(R===0)Z.beforeEnter(q),n(q,P,V),xr(()=>Z.enter(q),H);else{const{leave:oe,delayLeave:me,afterLeave:Te}=Z,x=()=>n(q,P,V),m=()=>{oe(q,()=>{x(),Te&&Te()})};me?me(q,x,m):m()}else n(q,P,V)},U=(k,P,V,R=!1,H=!1)=>{const{type:q,props:ue,ref:Z,children:Y,dynamicChildren:se,shapeFlag:Q,patchFlag:oe,dirs:me,cacheIndex:Te}=k;if(oe===-2&&(H=!1),Z!=null&&Qu(Z,null,V,k,!0),Te!=null&&(P.renderCache[Te]=void 0),Q&256){P.ctx.deactivate(k);return}const x=Q&1&&me,m=!Lo(k);let h;if(m&&(h=ue&&ue.onVnodeBeforeUnmount)&&In(h,P,k),Q&6)ee(k.component,V,R);else{if(Q&128){k.suspense.unmount(V,R);return}x&&ds(k,null,P,"beforeUnmount"),Q&64?k.type.remove(k,P,V,ce,R):se&&!se.hasOnce&&(q!==Ge||oe>0&&oe&64)?K(se,P,V,!1,!0):(q===Ge&&oe&384||!H&&Q&16)&&K(Y,P,V),R&&de(k)}(m&&(h=ue&&ue.onVnodeUnmounted)||x)&&xr(()=>{h&&In(h,P,k),x&&ds(k,null,P,"unmounted")},V)},de=k=>{const{type:P,el:V,anchor:R,transition:H}=k;if(P===Ge){xe(V,R);return}if(P===Eu){S(k);return}const q=()=>{s(V),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(k.shapeFlag&1&&H&&!H.persisted){const{leave:ue,delayLeave:Z}=H,Y=()=>ue(V,q);Z?Z(k.el,q,Y):Y()}else q()},xe=(k,P)=>{let V;for(;k!==P;)V=d(k),s(k),k=V;s(P)},ee=(k,P,V)=>{const{bum:R,scope:H,job:q,subTree:ue,um:Z,m:Y,a:se}=k;Cb(Y),Cb(se),R&&yu(R),H.stop(),q&&(q.flags|=8,U(ue,k,P,V)),Z&&xr(Z,P),xr(()=>{k.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},K=(k,P,V,R=!1,H=!1,q=0)=>{for(let ue=q;ue<k.length;ue++)U(k[ue],P,V,R,H)},W=k=>{if(k.shapeFlag&6)return W(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const P=d(k.anchor||k.el),V=P&&P[Z0];return V?d(V):P};let D=!1;const X=(k,P,V)=>{k==null?P._vnode&&U(P._vnode,null,null,!0):b(P._vnode||null,k,P,null,null,null,V),P._vnode=k,D||(D=!0,bb(),X0(),D=!1)},ce={p:b,um:U,m:pe,r:de,mt:B,mc:L,pc:N,pbc:F,n:W,o:t};return{render:X,hydrate:void 0,createApp:EA(X)}}function If({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function hs({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function OA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zg(t,e,r=!1){const n=t.children,s=e.children;if(rt(n)&&rt(s))for(let i=0;i<n.length;i++){const a=n[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=Wi(s[i]),o.el=a.el),!r&&o.patchFlag!==-2&&zg(a,o)),o.type===Uc&&(o.el=a.el)}}function LA(t){const e=t.slice(),r=[0];let n,s,i,a,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(s=r[r.length-1],t[s]<u){e[n]=s,r.push(n);continue}for(i=0,a=r.length-1;i<a;)o=i+a>>1,t[r[o]]<u?i=o+1:a=o;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=e[a];return r}function v_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:v_(e)}function Cb(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const RA=Symbol.for("v-scx"),BA=()=>vu(RA);function $A(t,e){return Hg(t,null,e)}function _u(t,e,r){return Hg(t,e,r)}function Hg(t,e,r=xt){const{immediate:n,deep:s,flush:i,once:a}=r,o=_r({},r),l=e&&n||!e&&i!=="post";let u;if(ul){if(i==="sync"){const p=BA();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Un,p.resume=Un,p.pause=Un,p}}const c=br;o.call=(p,g,b)=>Hn(p,c,g,b);let f=!1;i==="post"?o.scheduler=p=>{xr(p,c&&c.suspense)}:i!=="sync"&&(f=!0,o.scheduler=(p,g)=>{g?p():Vg(p)}),o.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=GT(t,e,o);return ul&&(u?u.push(d):l&&d()),d}function NA(t,e,r){const n=this.proxy,s=Gt(t)?t.includes(".")?__(n,t):()=>n[t]:t.bind(n,n);let i;st(e)?i=e:(i=e.handler,r=e);const a=Sl(this),o=Hg(s,i.bind(n),r);return a(),o}function __(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const DA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${an(e)}Modifiers`]||t[`${Js(e)}Modifiers`];function UA(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||xt;let s=r;const i=e.startsWith("update:"),a=i&&DA(n,e.slice(7));a&&(a.trim&&(s=r.map(c=>Gt(c)?c.trim():c)),a.number&&(s=r.map(Gu)));let o,l=n[o=Ef(e)]||n[o=Ef(an(e))];!l&&i&&(l=n[o=Ef(Js(e))]),l&&Hn(l,t,6,s);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Hn(u,t,6,s)}}function E_(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let a={},o=!1;if(!st(t)){const l=u=>{const c=E_(u,e,!0);c&&(o=!0,_r(a,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!o?(Pt(t)&&n.set(t,null),null):(rt(i)?i.forEach(l=>a[l]=null):_r(a,i),Pt(t)&&n.set(t,a),a)}function Dc(t,e){return!t||!Pc(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,Js(e))||mt(t,e))}function Ib(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:f,data:d,setupState:p,ctx:g,inheritAttrs:b}=t,v=Xu(t);let w,_;try{if(r.shapeFlag&4){const S=s||n,T=S;w=Rn(u.call(T,S,c,f,p,d,g)),_=o}else{const S=e;w=Rn(S.length>1?S(f,{attrs:o,slots:a,emit:l}):S(f,null)),_=e.props?o:FA(o)}}catch(S){Qa.length=0,$c(S,t,1),w=Se(Ji)}let y=w;if(_&&b!==!1){const S=Object.keys(_),{shapeFlag:T}=y;S.length&&T&7&&(i&&S.some(kg)&&(_=VA(_,i)),y=Fo(y,_,!1,!0))}return r.dirs&&(y=Fo(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&jg(y,r.transition),w=y,Xu(v),w}const FA=t=>{let e;for(const r in t)(r==="class"||r==="style"||Pc(r))&&((e||(e={}))[r]=t[r]);return e},VA=(t,e)=>{const r={};for(const n in t)(!kg(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function jA(t,e,r){const{props:n,children:s,component:i}=t,{props:a,children:o,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Mb(n,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==n[d]&&!Dc(u,d))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Mb(n,a,u):!0:!!a;return!1}function Mb(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!Dc(r,i))return!0}return!1}function WA({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const S_=t=>t.__isSuspense;function zA(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):XT(t)}const Ge=Symbol.for("v-fgt"),Uc=Symbol.for("v-txt"),Ji=Symbol.for("v-cmt"),Eu=Symbol.for("v-stc"),Qa=[];let zr=null;function ae(t=!1){Qa.push(zr=t?null:[])}function HA(){Qa.pop(),zr=Qa[Qa.length-1]||null}let ll=1;function kb(t,e=!1){ll+=t,t<0&&zr&&e&&(zr.hasOnce=!0)}function x_(t){return t.dynamicChildren=ll>0?zr||Mo:null,HA(),ll>0&&zr&&zr.push(t),t}function Ee(t,e,r,n,s,i){return x_(z(t,e,r,n,s,i,!0))}function Be(t,e,r,n,s){return x_(Se(t,e,r,n,s,!0))}function qg(t){return t?t.__v_isVNode===!0:!1}function wa(t,e){return t.type===e.type&&t.key===e.key}const T_=({key:t})=>t??null,Su=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Gt(t)||vr(t)||st(t)?{i:or,r:t,k:e,f:!!r}:t:null);function z(t,e=null,r=null,n=0,s=null,i=t===Ge?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&T_(e),ref:e&&Su(e),scopeId:J0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:or};return o?(Gg(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=Gt(r)?8:16),ll>0&&!a&&zr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&zr.push(l),l}const Se=qA;function qA(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===dA)&&(t=Ji),qg(t)){const o=Fo(t,e,!0);return r&&Gg(o,r),ll>0&&!i&&zr&&(o.shapeFlag&6?zr[zr.indexOf(t)]=o:zr.push(o)),o.patchFlag=-2,o}if(iC(t)&&(t=t.__vccOpts),e){e=GA(e);let{class:o,style:l}=e;o&&!Gt(o)&&(e.class=tt(o)),Pt(l)&&(Fg(l)&&!rt(l)&&(l=_r({},l)),e.style=ft(l))}const a=Gt(t)?1:S_(t)?128:QT(t)?64:Pt(t)?4:st(t)?2:0;return z(t,e,r,n,s,a,i,!0)}function GA(t){return t?Fg(t)||h_(t)?_r({},t):t:null}function Fo(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:a,children:o,transition:l}=t,u=e?KA(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&T_(u),ref:e&&e.ref?r&&i?rt(i)?i.concat(Su(e)):[i,Su(e)]:Su(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ge?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fo(t.ssContent),ssFallback:t.ssFallback&&Fo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&jg(c,l.clone(c)),c}function it(t=" ",e=0){return Se(Uc,null,t,e)}function YA(t,e){const r=Se(Eu,null,t);return r.staticCount=e,r}function Me(t="",e=!1){return e?(ae(),Be(Ji,null,t)):Se(Ji,null,t)}function Rn(t){return t==null||typeof t=="boolean"?Se(Ji):rt(t)?Se(Ge,null,t.slice()):qg(t)?Wi(t):Se(Uc,null,String(t))}function Wi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fo(t)}function Gg(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(rt(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Gg(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!h_(e)?e._ctx=or:s===3&&or&&(or.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else st(e)?(e={default:e,_ctx:or},r=32):(e=String(e),n&64?(r=16,e=[it(e)]):r=8);t.children=e,t.shapeFlag|=r}function KA(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=tt([e.class,n.class]));else if(s==="style")e.style=ft([e.style,n.style]);else if(Pc(s)){const i=e[s],a=n[s];a&&i!==a&&!(rt(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=n[s])}return e}function In(t,e,r,n=null){Hn(t,e,7,[r,n])}const XA=c_();let QA=0;function JA(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||XA,i={uid:QA++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:g_(n,s),emitsOptions:E_(n,s),emit:null,emitted:null,propsDefaults:xt,inheritAttrs:n.inheritAttrs,ctx:xt,data:xt,props:xt,attrs:xt,slots:xt,refs:xt,setupState:xt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=UA.bind(null,i),t.ce&&t.ce(i),i}let br=null,Zu,Ch;{const t=Rc(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Zu=e("__VUE_INSTANCE_SETTERS__",r=>br=r),Ch=e("__VUE_SSR_SETTERS__",r=>ul=r)}const Sl=t=>{const e=br;return Zu(t),t.scope.on(),()=>{t.scope.off(),Zu(e)}},Pb=()=>{br&&br.scope.off(),Zu(null)};function A_(t){return t.vnode.shapeFlag&4}let ul=!1;function ZA(t,e=!1,r=!1){e&&Ch(e);const{props:n,children:s}=t.vnode,i=A_(t);xA(t,n,i,e),IA(t,s,r);const a=i?eC(t,e):void 0;return e&&Ch(!1),a}function eC(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gA);const{setup:n}=r;if(n){ns();const s=t.setupContext=n.length>1?rC(t):null,i=Sl(t),a=El(n,t,0,[t.props,s]),o=x0(a);if(is(),i(),(o||t.sp)&&!Lo(t)&&r_(t),o){if(a.then(Pb,Pb),e)return a.then(l=>{Ob(t,l)}).catch(l=>{$c(l,t,0)});t.asyncDep=a}else Ob(t,a)}else C_(t)}function Ob(t,e,r){st(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pt(e)&&(t.setupState=q0(e)),C_(t)}function C_(t,e,r){const n=t.type;t.render||(t.render=n.render||Un);{const s=Sl(t);ns();try{mA(t)}finally{is(),s()}}}const tC={get(t,e){return pr(t,"get",""),t[e]}};function rC(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,tC),slots:t.slots,emit:t.emit,expose:e}}function Fc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(q0(FT(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Xa)return Xa[r](t)},has(e,r){return r in e||r in Xa}})):t.proxy}function nC(t,e=!0){return st(t)?t.displayName||t.name:t.name||e&&t.__name}function iC(t){return st(t)&&"__vccOpts"in t}const we=(t,e)=>HT(t,e,ul),sC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ih;const Lb=typeof window<"u"&&window.trustedTypes;if(Lb)try{Ih=Lb.createPolicy("vue",{createHTML:t=>t})}catch{}const I_=Ih?t=>Ih.createHTML(t):t=>t,oC="http://www.w3.org/2000/svg",aC="http://www.w3.org/1998/Math/MathML",ri=typeof document<"u"?document:null,Rb=ri&&ri.createElement("template"),lC={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?ri.createElementNS(oC,t):e==="mathml"?ri.createElementNS(aC,t):r?ri.createElement(t,{is:r}):ri.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>ri.createTextNode(t),createComment:t=>ri.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ri.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const a=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Rb.innerHTML=I_(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const o=Rb.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},uC=Symbol("_vtc");function cC(t,e,r){const n=t[uC];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const ec=Symbol("_vod"),M_=Symbol("_vsh"),fC={beforeMount(t,{value:e},{transition:r}){t[ec]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):va(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),va(t,!0),n.enter(t)):n.leave(t,()=>{va(t,!1)}):va(t,e))},beforeUnmount(t,{value:e}){va(t,e)}};function va(t,e){t.style.display=e?t[ec]:"none",t[M_]=!e}const dC=Symbol(""),hC=/(^|;)\s*display\s*:/;function pC(t,e,r){const n=t.style,s=Gt(r);let i=!1;if(r&&!s){if(e)if(Gt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&xu(n,o,"")}else for(const a in e)r[a]==null&&xu(n,a,"");for(const a in r)a==="display"&&(i=!0),xu(n,a,r[a])}else if(s){if(e!==r){const a=n[dC];a&&(r+=";"+a),n.cssText=r,i=hC.test(r)}}else e&&t.removeAttribute("style");ec in t&&(t[ec]=i?n.display:"",t[M_]&&(n.display="none"))}const Bb=/\s*!important$/;function xu(t,e,r){if(rt(r))r.forEach(n=>xu(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=gC(t,e);Bb.test(r)?t.setProperty(Js(n),r.replace(Bb,""),"important"):t[n]=r}}const $b=["Webkit","Moz","ms"],Mf={};function gC(t,e){const r=Mf[e];if(r)return r;let n=an(e);if(n!=="filter"&&n in t)return Mf[e]=n;n=Lc(n);for(let s=0;s<$b.length;s++){const i=$b[s]+n;if(i in t)return Mf[e]=i}return e}const Nb="http://www.w3.org/1999/xlink";function Db(t,e,r,n,s,i=bT(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Nb,e.slice(6,e.length)):t.setAttributeNS(Nb,e,r):r==null||i&&!I0(r)?t.removeAttribute(e):t.setAttribute(e,i?"":En(r)?String(r):r)}function Ub(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?I_(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let a=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=I0(r):r==null&&o==="string"?(r="",a=!0):o==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(s||e)}function Hi(t,e,r,n){t.addEventListener(e,r,n)}function mC(t,e,r,n){t.removeEventListener(e,r,n)}const Fb=Symbol("_vei");function bC(t,e,r,n,s=null){const i=t[Fb]||(t[Fb]={}),a=i[e];if(n&&a)a.value=n;else{const[o,l]=yC(e);if(n){const u=i[e]=_C(n,s);Hi(t,o,u,l)}else a&&(mC(t,o,a,l),i[e]=void 0)}}const Vb=/(?:Once|Passive|Capture)$/;function yC(t){let e;if(Vb.test(t)){e={};let n;for(;n=t.match(Vb);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Js(t.slice(2)),e]}let kf=0;const wC=Promise.resolve(),vC=()=>kf||(wC.then(()=>kf=0),kf=Date.now());function _C(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Hn(EC(n,r.value),e,5,[n])};return r.value=t,r.attached=vC(),r}function EC(t,e){if(rt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const jb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,SC=(t,e,r,n,s,i)=>{const a=s==="svg";e==="class"?cC(t,n,a):e==="style"?pC(t,r,n):Pc(e)?kg(e)||bC(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):xC(t,e,n,a))?(Ub(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Db(t,e,n,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Gt(n))?Ub(t,an(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Db(t,e,n,a))};function xC(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&jb(e)&&st(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return jb(e)&&Gt(r)?!1:e in t}const Vo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return rt(e)?r=>yu(e,r):e};function TC(t){t.target.composing=!0}function Wb(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gi=Symbol("_assign"),AC={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[gi]=Vo(s);const i=n||s.props&&s.props.type==="number";Hi(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),i&&(o=Gu(o)),t[gi](o)}),r&&Hi(t,"change",()=>{t.value=t.value.trim()}),e||(Hi(t,"compositionstart",TC),Hi(t,"compositionend",Wb),Hi(t,"change",Wb))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},a){if(t[gi]=Vo(a),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Gu(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},Yg={deep:!0,created(t,e,r){t[gi]=Vo(r),Hi(t,"change",()=>{const n=t._modelValue,s=cl(t),i=t.checked,a=t[gi];if(rt(n)){const o=Lg(n,s),l=o!==-1;if(i&&!l)a(n.concat(s));else if(!i&&l){const u=[...n];u.splice(o,1),a(u)}}else if(ia(n)){const o=new Set(n);i?o.add(s):o.delete(s),a(o)}else a(k_(t,i))})},mounted:zb,beforeUpdate(t,e,r){t[gi]=Vo(r),zb(t,e,r)}};function zb(t,{value:e,oldValue:r},n){t._modelValue=e;let s;if(rt(e))s=Lg(e,n.props.value)>-1;else if(ia(e))s=e.has(n.props.value);else{if(e===r)return;s=_l(e,k_(t,!0))}t.checked!==s&&(t.checked=s)}const CC={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=ia(e);Hi(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?Gu(cl(a)):cl(a));t[gi](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Y0(()=>{t._assigning=!1})}),t[gi]=Vo(n)},mounted(t,{value:e}){Hb(t,e)},beforeUpdate(t,e,r){t[gi]=Vo(r)},updated(t,{value:e}){t._assigning||Hb(t,e)}};function Hb(t,e){const r=t.multiple,n=rt(e);if(!(r&&!n&&!ia(e))){for(let s=0,i=t.options.length;s<i;s++){const a=t.options[s],o=cl(a);if(r)if(n){const l=typeof o;l==="string"||l==="number"?a.selected=e.some(u=>String(u)===String(o)):a.selected=Lg(e,o)>-1}else a.selected=e.has(o);else if(_l(cl(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function cl(t){return"_value"in t?t._value:t.value}function k_(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const IC=_r({patchProp:SC},lC);let qb;function MC(){return qb||(qb=kA(IC))}const kC=(...t)=>{const e=MC().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=OC(n);if(!s)return;const i=e._component;!st(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=r(s,!1,PC(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function PC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function OC(t){return Gt(t)?document.querySelector(t):t}function Tu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LC(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kg(t){let e,r,n;t.length!==2?(e=Tu,r=(o,l)=>Tu(t(o),l),n=(o,l)=>t(o)-l):(e=t===Tu||t===LC?t:RC,r=t,n=t);function s(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){const f=s(o,l,u,c-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:s,center:a,right:i}}function RC(){return 0}function BC(t){return t===null?NaN:+t}const $C=Kg(Tu),NC=$C.right;Kg(BC).center;function Sn(t,e){let r,n;if(e===void 0)for(const s of t)s!=null&&(r===void 0?s>=s&&(r=n=s):(r>s&&(r=s),n<s&&(n=s)));else{let s=-1;for(let i of t)(i=e(i,++s,t))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}class Gb extends Map{constructor(e,r=FC){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(Yb(this,e))}has(e){return super.has(Yb(this,e))}set(e,r){return super.set(DC(this,e),r)}delete(e){return super.delete(UC(this,e))}}function Yb({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function DC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function UC({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function FC(t){return t!==null&&typeof t=="object"?t.valueOf():t}const VC=Math.sqrt(50),jC=Math.sqrt(10),WC=Math.sqrt(2);function tc(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),a=i>=VC?10:i>=jC?5:i>=WC?2:1;let o,l,u;return s<0?(u=Math.pow(10,-s)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,s)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?tc(t,e,r*2):[o,l,u]}function zC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,a]=n?tc(e,t,r):tc(t,e,r);if(!(i>=s))return[];const o=i-s+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(i-u)/-a;else for(let u=0;u<o;++u)l[u]=(i-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(s+u)/-a;else for(let u=0;u<o;++u)l[u]=(s+u)*a;return l}function Mh(t,e,r){return e=+e,t=+t,r=+r,tc(t,e,r)[2]}function kh(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?Mh(e,t,r):Mh(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function P_(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let s of t)(s=e(s,++n,t))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function HC(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function qC(t){return t}var Au=1,Cu=2,Ph=3,Da=4,Kb=1e-6;function GC(t){return"translate("+t+",0)"}function YC(t){return"translate(0,"+t+")"}function KC(t){return e=>+t(e)}function XC(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function QC(){return!this.__axis}function Vc(t,e){var r=[],n=null,s=null,i=6,a=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Au||t===Da?-1:1,c=t===Da||t===Cu?"x":"y",f=t===Au||t===Ph?GC:YC;function d(p){var g=n??(e.ticks?e.ticks.apply(e,r):e.domain()),b=s??(e.tickFormat?e.tickFormat.apply(e,r):qC),v=Math.max(i,0)+o,w=e.range(),_=+w[0]+l,y=+w[w.length-1]+l,S=(e.bandwidth?XC:KC)(e.copy(),l),T=p.selection?p.selection():p,A=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(g,e).order(),L=C.exit(),j=C.enter().append("g").attr("class","tick"),F=C.select("line"),$=C.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(j),F=F.merge(j.append("line").attr("stroke","currentColor").attr(c+"2",u*i)),$=$.merge(j.append("text").attr("fill","currentColor").attr(c,u*v).attr("dy",t===Au?"0em":t===Ph?"0.71em":"0.32em")),p!==T&&(A=A.transition(p),C=C.transition(p),F=F.transition(p),$=$.transition(p),L=L.transition(p).attr("opacity",Kb).attr("transform",function(I){return isFinite(I=S(I))?f(I+l):this.getAttribute("transform")}),j.attr("opacity",Kb).attr("transform",function(I){var M=this.parentNode.__axis;return f((M&&isFinite(M=M(I))?M:S(I))+l)})),L.remove(),A.attr("d",t===Da||t===Cu?a?"M"+u*a+","+_+"H"+l+"V"+y+"H"+u*a:"M"+l+","+_+"V"+y:a?"M"+_+","+u*a+"V"+l+"H"+y+"V"+u*a:"M"+_+","+l+"H"+y),C.attr("opacity",1).attr("transform",function(I){return f(S(I)+l)}),F.attr(c+"2",u*i),$.attr(c,u*v).text(b),T.filter(QC).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Cu?"start":t===Da?"end":"middle"),T.each(function(){this.__axis=S})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(s=p,d):s},d.tickSize=function(p){return arguments.length?(i=a=+p,d):i},d.tickSizeInner=function(p){return arguments.length?(i=+p,d):i},d.tickSizeOuter=function(p){return arguments.length?(a=+p,d):a},d.tickPadding=function(p){return arguments.length?(o=+p,d):o},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function JC(t){return Vc(Au,t)}function ZC(t){return Vc(Cu,t)}function Ja(t){return Vc(Ph,t)}function xl(t){return Vc(Da,t)}var eI={value:()=>{}};function Xg(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Iu(r)}function Iu(t){this._=t}function tI(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Iu.prototype=Xg.prototype={constructor:Iu,on:function(t,e){var r=this._,n=tI(t+"",r),s,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((s=(t=n[i]).type)&&(s=rI(r[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(s=(t=n[i]).type)r[s]=Xb(r[s],t.name,e);else if(e==null)for(s in r)r[s]=Xb(r[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Iu(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,i;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,s=i.length;n<s;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],s=0,i=n.length;s<i;++s)n[s].value.apply(e,r)}};function rI(t,e){for(var r=0,n=t.length,s;r<n;++r)if((s=t[r]).name===e)return s.value}function Xb(t,e,r){for(var n=0,s=t.length;n<s;++n)if(t[n].name===e){t[n]=eI,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var Oh="http://www.w3.org/1999/xhtml";const Qb={svg:"http://www.w3.org/2000/svg",xhtml:Oh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jc(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Qb.hasOwnProperty(e)?{space:Qb[e],local:t}:t}function nI(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Oh&&e.documentElement.namespaceURI===Oh?e.createElement(t):e.createElementNS(r,t)}}function iI(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function O_(t){var e=jc(t);return(e.local?iI:nI)(e)}function sI(){}function Qg(t){return t==null?sI:function(){return this.querySelector(t)}}function oI(t){typeof t!="function"&&(t=Qg(t));for(var e=this._groups,r=e.length,n=new Array(r),s=0;s<r;++s)for(var i=e[s],a=i.length,o=n[s]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=t.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new Gr(n,this._parents)}function aI(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lI(){return[]}function L_(t){return t==null?lI:function(){return this.querySelectorAll(t)}}function uI(t){return function(){return aI(t.apply(this,arguments))}}function cI(t){typeof t=="function"?t=uI(t):t=L_(t);for(var e=this._groups,r=e.length,n=[],s=[],i=0;i<r;++i)for(var a=e[i],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(n.push(t.call(l,l.__data__,u,a)),s.push(l));return new Gr(n,s)}function R_(t){return function(){return this.matches(t)}}function B_(t){return function(e){return e.matches(t)}}var fI=Array.prototype.find;function dI(t){return function(){return fI.call(this.children,t)}}function hI(){return this.firstElementChild}function pI(t){return this.select(t==null?hI:dI(typeof t=="function"?t:B_(t)))}var gI=Array.prototype.filter;function mI(){return Array.from(this.children)}function bI(t){return function(){return gI.call(this.children,t)}}function yI(t){return this.selectAll(t==null?mI:bI(typeof t=="function"?t:B_(t)))}function wI(t){typeof t!="function"&&(t=R_(t));for(var e=this._groups,r=e.length,n=new Array(r),s=0;s<r;++s)for(var i=e[s],a=i.length,o=n[s]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new Gr(n,this._parents)}function $_(t){return new Array(t.length)}function vI(){return new Gr(this._enter||this._groups.map($_),this._parents)}function rc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}rc.prototype={constructor:rc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _I(t){return function(){return t}}function EI(t,e,r,n,s,i){for(var a=0,o,l=e.length,u=i.length;a<u;++a)(o=e[a])?(o.__data__=i[a],n[a]=o):r[a]=new rc(t,i[a]);for(;a<l;++a)(o=e[a])&&(s[a]=o)}function SI(t,e,r,n,s,i,a){var o,l,u=new Map,c=e.length,f=i.length,d=new Array(c),p;for(o=0;o<c;++o)(l=e[o])&&(d[o]=p=a.call(l,l.__data__,o,e)+"",u.has(p)?s[o]=l:u.set(p,l));for(o=0;o<f;++o)p=a.call(t,i[o],o,i)+"",(l=u.get(p))?(n[o]=l,l.__data__=i[o],u.delete(p)):r[o]=new rc(t,i[o]);for(o=0;o<c;++o)(l=e[o])&&u.get(d[o])===l&&(s[o]=l)}function xI(t){return t.__data__}function TI(t,e){if(!arguments.length)return Array.from(this,xI);var r=e?SI:EI,n=this._parents,s=this._groups;typeof t!="function"&&(t=_I(t));for(var i=s.length,a=new Array(i),o=new Array(i),l=new Array(i),u=0;u<i;++u){var c=n[u],f=s[u],d=f.length,p=AI(t.call(c,c&&c.__data__,u,n)),g=p.length,b=o[u]=new Array(g),v=a[u]=new Array(g),w=l[u]=new Array(d);r(c,f,b,v,w,p,e);for(var _=0,y=0,S,T;_<g;++_)if(S=b[_]){for(_>=y&&(y=_+1);!(T=v[y])&&++y<g;);S._next=T||null}}return a=new Gr(a,n),a._enter=o,a._exit=l,a}function AI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function CI(){return new Gr(this._exit||this._groups.map($_),this._parents)}function II(t,e,r){var n=this.enter(),s=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?i.remove():r(i),n&&s?n.merge(s).order():s}function MI(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,s=r.length,i=n.length,a=Math.min(s,i),o=new Array(s),l=0;l<a;++l)for(var u=r[l],c=n[l],f=u.length,d=o[l]=new Array(f),p,g=0;g<f;++g)(p=u[g]||c[g])&&(d[g]=p);for(;l<s;++l)o[l]=r[l];return new Gr(o,this._parents)}function kI(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],s=n.length-1,i=n[s],a;--s>=0;)(a=n[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function PI(t){t||(t=OI);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i){for(var a=r[i],o=a.length,l=s[i]=new Array(o),u,c=0;c<o;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Gr(s,this._parents).order()}function OI(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function LI(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function RI(){return Array.from(this)}function BI(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],s=0,i=n.length;s<i;++s){var a=n[s];if(a)return a}return null}function $I(){let t=0;for(const e of this)++t;return t}function NI(){return!this.node()}function DI(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],i=0,a=s.length,o;i<a;++i)(o=s[i])&&t.call(o,o.__data__,i,s);return this}function UI(t){return function(){this.removeAttribute(t)}}function FI(t){return function(){this.removeAttributeNS(t.space,t.local)}}function VI(t,e){return function(){this.setAttribute(t,e)}}function jI(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function WI(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function zI(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function HI(t,e){var r=jc(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?FI:UI:typeof e=="function"?r.local?zI:WI:r.local?jI:VI)(r,e))}function N_(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qI(t){return function(){this.style.removeProperty(t)}}function GI(t,e,r){return function(){this.style.setProperty(t,e,r)}}function YI(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function KI(t,e,r){return arguments.length>1?this.each((e==null?qI:typeof e=="function"?YI:GI)(t,e,r??"")):jo(this.node(),t)}function jo(t,e){return t.style.getPropertyValue(e)||N_(t).getComputedStyle(t,null).getPropertyValue(e)}function XI(t){return function(){delete this[t]}}function QI(t,e){return function(){this[t]=e}}function JI(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function ZI(t,e){return arguments.length>1?this.each((e==null?XI:typeof e=="function"?JI:QI)(t,e)):this.node()[t]}function D_(t){return t.trim().split(/^|\s+/)}function Jg(t){return t.classList||new U_(t)}function U_(t){this._node=t,this._names=D_(t.getAttribute("class")||"")}U_.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function F_(t,e){for(var r=Jg(t),n=-1,s=e.length;++n<s;)r.add(e[n])}function V_(t,e){for(var r=Jg(t),n=-1,s=e.length;++n<s;)r.remove(e[n])}function eM(t){return function(){F_(this,t)}}function tM(t){return function(){V_(this,t)}}function rM(t,e){return function(){(e.apply(this,arguments)?F_:V_)(this,t)}}function nM(t,e){var r=D_(t+"");if(arguments.length<2){for(var n=Jg(this.node()),s=-1,i=r.length;++s<i;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?rM:e?eM:tM)(r,e))}function iM(){this.textContent=""}function sM(t){return function(){this.textContent=t}}function oM(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function aM(t){return arguments.length?this.each(t==null?iM:(typeof t=="function"?oM:sM)(t)):this.node().textContent}function lM(){this.innerHTML=""}function uM(t){return function(){this.innerHTML=t}}function cM(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function fM(t){return arguments.length?this.each(t==null?lM:(typeof t=="function"?cM:uM)(t)):this.node().innerHTML}function dM(){this.nextSibling&&this.parentNode.appendChild(this)}function hM(){return this.each(dM)}function pM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gM(){return this.each(pM)}function mM(t){var e=typeof t=="function"?t:O_(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function bM(){return null}function yM(t,e){var r=typeof t=="function"?t:O_(t),n=e==null?bM:typeof e=="function"?e:Qg(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function wM(){var t=this.parentNode;t&&t.removeChild(this)}function vM(){return this.each(wM)}function _M(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function EM(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function SM(t){return this.select(t?EM:_M)}function xM(t){return arguments.length?this.property("__data__",t):this.node().__data__}function TM(t){return function(e){t.call(this,e,this.__data__)}}function AM(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function CM(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,s=e.length,i;r<s;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function IM(t,e,r){return function(){var n=this.__on,s,i=TM(e);if(n){for(var a=0,o=n.length;a<o;++a)if((s=n[a]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=e;return}}this.addEventListener(t.type,i,r),s={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(s):this.__on=[s]}}function MM(t,e,r){var n=AM(t+""),s,i=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(s=0,c=o[l];s<i;++s)if((a=n[s]).type===c.type&&a.name===c.name)return c.value}return}for(o=e?IM:CM,s=0;s<i;++s)this.each(o(n[s],e,r));return this}function j_(t,e,r){var n=N_(t),s=n.CustomEvent;typeof s=="function"?s=new s(e,r):(s=n.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function kM(t,e){return function(){return j_(this,t,e)}}function PM(t,e){return function(){return j_(this,t,e.apply(this,arguments))}}function OM(t,e){return this.each((typeof e=="function"?PM:kM)(t,e))}function*LM(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],s=0,i=n.length,a;s<i;++s)(a=n[s])&&(yield a)}var W_=[null];function Gr(t,e){this._groups=t,this._parents=e}function Tl(){return new Gr([[document.documentElement]],W_)}function RM(){return this}Gr.prototype=Tl.prototype={constructor:Gr,select:oI,selectAll:cI,selectChild:pI,selectChildren:yI,filter:wI,data:TI,enter:vI,exit:CI,join:II,merge:MI,selection:RM,order:kI,sort:PI,call:LI,nodes:RI,node:BI,size:$I,empty:NI,each:DI,attr:HI,style:KI,property:ZI,classed:nM,text:aM,html:fM,raise:hM,lower:gM,append:mM,insert:yM,remove:vM,clone:SM,datum:xM,on:MM,dispatch:OM,[Symbol.iterator]:LM};function Tt(t){return typeof t=="string"?new Gr([[document.querySelector(t)]],[document.documentElement]):new Gr([[t]],W_)}function BM(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ps(t,e){if(t=BM(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const Lh={capture:!0,passive:!1};function Rh(t){t.preventDefault(),t.stopImmediatePropagation()}function $M(t){var e=t.document.documentElement,r=Tt(t).on("dragstart.drag",Rh,Lh);"onselectstart"in e?r.on("selectstart.drag",Rh,Lh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function NM(t,e){var r=t.document.documentElement,n=Tt(t).on("dragstart.drag",null);e&&(n.on("click.drag",Rh,Lh),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Zg(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function z_(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Al(){}var fl=.7,nc=1/fl,Bo="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DM=/^#([0-9a-f]{3,8})$/,UM=new RegExp(`^rgb\\(${Bo},${Bo},${Bo}\\)$`),FM=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),VM=new RegExp(`^rgba\\(${Bo},${Bo},${Bo},${dl}\\)$`),jM=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${dl}\\)$`),WM=new RegExp(`^hsl\\(${dl},${Fn},${Fn}\\)$`),zM=new RegExp(`^hsla\\(${dl},${Fn},${Fn},${dl}\\)$`),Jb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zg(Al,qs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zb,formatHex:Zb,formatHex8:HM,formatHsl:qM,formatRgb:ey,toString:ey});function Zb(){return this.rgb().formatHex()}function HM(){return this.rgb().formatHex8()}function qM(){return H_(this).formatHsl()}function ey(){return this.rgb().formatRgb()}function qs(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=DM.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ty(e):r===3?new Lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?zl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?zl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=UM.exec(t))?new Lr(e[1],e[2],e[3],1):(e=FM.exec(t))?new Lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VM.exec(t))?zl(e[1],e[2],e[3],e[4]):(e=jM.exec(t))?zl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=WM.exec(t))?iy(e[1],e[2]/100,e[3]/100,1):(e=zM.exec(t))?iy(e[1],e[2]/100,e[3]/100,e[4]):Jb.hasOwnProperty(t)?ty(Jb[t]):t==="transparent"?new Lr(NaN,NaN,NaN,0):null}function ty(t){return new Lr(t>>16&255,t>>8&255,t&255,1)}function zl(t,e,r,n){return n<=0&&(t=e=r=NaN),new Lr(t,e,r,n)}function GM(t){return t instanceof Al||(t=qs(t)),t?(t=t.rgb(),new Lr(t.r,t.g,t.b,t.opacity)):new Lr}function Bh(t,e,r,n){return arguments.length===1?GM(t):new Lr(t,e,r,n??1)}function Lr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Zg(Lr,Bh,z_(Al,{brighter(t){return t=t==null?nc:Math.pow(nc,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fl:Math.pow(fl,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lr(Bs(this.r),Bs(this.g),Bs(this.b),ic(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ry,formatHex:ry,formatHex8:YM,formatRgb:ny,toString:ny}));function ry(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function YM(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function ny(){const t=ic(this.opacity);return`${t===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${t===1?")":`, ${t})`}`}function ic(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cs(t){return t=Bs(t),(t<16?"0":"")+t.toString(16)}function iy(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new yn(t,e,r,n)}function H_(t){if(t instanceof yn)return new yn(t.h,t.s,t.l,t.opacity);if(t instanceof Al||(t=qs(t)),!t)return new yn;if(t instanceof yn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,o=i-s,l=(i+s)/2;return o?(e===i?a=(r-n)/o+(r<n)*6:r===i?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?i+s:2-i-s,a*=60):o=l>0&&l<1?0:a,new yn(a,o,l,t.opacity)}function KM(t,e,r,n){return arguments.length===1?H_(t):new yn(t,e,r,n??1)}function yn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Zg(yn,KM,z_(Al,{brighter(t){return t=t==null?nc:Math.pow(nc,t),new yn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fl:Math.pow(fl,t),new yn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Lr(Pf(t>=240?t-240:t+120,s,n),Pf(t,s,n),Pf(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new yn(sy(this.h),Hl(this.s),Hl(this.l),ic(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ic(this.opacity);return`${t===1?"hsl(":"hsla("}${sy(this.h)}, ${Hl(this.s)*100}%, ${Hl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sy(t){return t=(t||0)%360,t<0?t+360:t}function Hl(t){return Math.max(0,Math.min(1,t||0))}function Pf(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const em=t=>()=>t;function XM(t,e){return function(r){return t+r*e}}function QM(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function JM(t){return(t=+t)==1?q_:function(e,r){return r-e?QM(e,r,t):em(isNaN(e)?r:e)}}function q_(t,e){var r=e-t;return r?XM(t,r):em(isNaN(t)?e:t)}const sc=function t(e){var r=JM(e);function n(s,i){var a=r((s=Bh(s)).r,(i=Bh(i)).r),o=r(s.g,i.g),l=r(s.b,i.b),u=q_(s.opacity,i.opacity);return function(c){return s.r=a(c),s.g=o(c),s.b=l(c),s.opacity=u(c),s+""}}return n.gamma=t,n}(1);function ZM(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function ek(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tk(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)s[a]=tm(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(o){for(a=0;a<n;++a)i[a]=s[a](o);return i}}function rk(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bn(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function nk(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=tm(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var $h=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Of=new RegExp($h.source,"g");function ik(t){return function(){return t}}function sk(t){return function(e){return t(e)+""}}function G_(t,e){var r=$h.lastIndex=Of.lastIndex=0,n,s,i,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=$h.exec(t))&&(s=Of.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,l.push({i:a,x:bn(n,s)})),r=Of.lastIndex;return r<e.length&&(i=e.slice(r),o[a]?o[a]+=i:o[++a]=i),o.length<2?l[0]?sk(l[0].x):ik(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function tm(t,e){var r=typeof e,n;return e==null||r==="boolean"?em(e):(r==="number"?bn:r==="string"?(n=qs(e))?(e=n,sc):G_:e instanceof qs?sc:e instanceof Date?rk:ek(e)?ZM:Array.isArray(e)?tk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nk:bn)(t,e)}function ok(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var oy=180/Math.PI,Nh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Y_(t,e,r,n,s,i){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*oy,skewX:Math.atan(l)*oy,scaleX:a,scaleY:o}}var ql;function ak(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Nh:Y_(e.a,e.b,e.c,e.d,e.e,e.f)}function lk(t){return t==null||(ql||(ql=document.createElementNS("http://www.w3.org/2000/svg","g")),ql.setAttribute("transform",t),!(t=ql.transform.baseVal.consolidate()))?Nh:(t=t.matrix,Y_(t.a,t.b,t.c,t.d,t.e,t.f))}function K_(t,e,r,n){function s(u){return u.length?u.pop()+" ":""}function i(u,c,f,d,p,g){if(u!==f||c!==d){var b=p.push("translate(",null,e,null,r);g.push({i:b-4,x:bn(u,f)},{i:b-2,x:bn(c,d)})}else(f||d)&&p.push("translate("+f+e+d+r)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(s(f)+"rotate(",null,n)-2,x:bn(u,c)})):c&&f.push(s(f)+"rotate("+c+n)}function o(u,c,f,d){u!==c?d.push({i:f.push(s(f)+"skewX(",null,n)-2,x:bn(u,c)}):c&&f.push(s(f)+"skewX("+c+n)}function l(u,c,f,d,p,g){if(u!==f||c!==d){var b=p.push(s(p)+"scale(",null,",",null,")");g.push({i:b-4,x:bn(u,f)},{i:b-2,x:bn(c,d)})}else(f!==1||d!==1)&&p.push(s(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),o(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var g=-1,b=d.length,v;++g<b;)f[(v=d[g]).i]=v.x(p);return f.join("")}}}var uk=K_(ak,"px, ","px)","deg)"),ck=K_(lk,", ",")",")"),fk=1e-12;function ay(t){return((t=Math.exp(t))+1/t)/2}function dk(t){return((t=Math.exp(t))-1/t)/2}function hk(t){return((t=Math.exp(2*t))-1)/(t+1)}const pk=function t(e,r,n){function s(i,a){var o=i[0],l=i[1],u=i[2],c=a[0],f=a[1],d=a[2],p=c-o,g=f-l,b=p*p+g*g,v,w;if(b<fk)w=Math.log(d/u)/e,v=function(C){return[o+C*p,l+C*g,u*Math.exp(e*C*w)]};else{var _=Math.sqrt(b),y=(d*d-u*u+n*b)/(2*u*r*_),S=(d*d-u*u-n*b)/(2*d*r*_),T=Math.log(Math.sqrt(y*y+1)-y),A=Math.log(Math.sqrt(S*S+1)-S);w=(A-T)/e,v=function(C){var L=C*w,j=ay(T),F=u/(r*_)*(j*hk(e*L+T)-dk(T));return[o+F*p,l+F*g,u*j/ay(e*L+T)]}}return v.duration=w*1e3*e/Math.SQRT2,v}return s.rho=function(i){var a=Math.max(.001,+i),o=a*a,l=o*o;return t(a,o,l)},s}(Math.SQRT2,2,4);var Wo=0,Ua=0,_a=0,X_=1e3,oc,Fa,ac=0,Gs=0,Wc=0,hl=typeof performance=="object"&&performance.now?performance:Date,Q_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rm(){return Gs||(Q_(gk),Gs=hl.now()+Wc)}function gk(){Gs=0}function lc(){this._call=this._time=this._next=null}lc.prototype=J_.prototype={constructor:lc,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?rm():+r)+(e==null?0:+e),!this._next&&Fa!==this&&(Fa?Fa._next=this:oc=this,Fa=this),this._call=t,this._time=r,Dh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dh())}};function J_(t,e,r){var n=new lc;return n.restart(t,e,r),n}function mk(){rm(),++Wo;for(var t=oc,e;t;)(e=Gs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Wo}function ly(){Gs=(ac=hl.now())+Wc,Wo=Ua=0;try{mk()}finally{Wo=0,yk(),Gs=0}}function bk(){var t=hl.now(),e=t-ac;e>X_&&(Wc-=e,ac=t)}function yk(){for(var t,e=oc,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:oc=r);Fa=t,Dh(n)}function Dh(t){if(!Wo){Ua&&(Ua=clearTimeout(Ua));var e=t-Gs;e>24?(t<1/0&&(Ua=setTimeout(ly,t-hl.now()-Wc)),_a&&(_a=clearInterval(_a))):(_a||(ac=hl.now(),_a=setInterval(bk,X_)),Wo=1,Q_(ly))}}function uy(t,e,r){var n=new lc;return e=e==null?0:+e,n.restart(s=>{n.stop(),t(s+e)},e,r),n}var wk=Xg("start","end","cancel","interrupt"),vk=[],Z_=0,cy=1,Uh=2,Mu=3,fy=4,Fh=5,ku=6;function zc(t,e,r,n,s,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;_k(t,r,{name:e,index:n,group:s,on:wk,tween:vk,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Z_})}function nm(t,e){var r=An(t,e);if(r.state>Z_)throw new Error("too late; already scheduled");return r}function Gn(t,e){var r=An(t,e);if(r.state>Mu)throw new Error("too late; already running");return r}function An(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function _k(t,e,r){var n=t.__transition,s;n[e]=r,r.timer=J_(i,0,r.time);function i(u){r.state=cy,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var c,f,d,p;if(r.state!==cy)return l();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Mu)return uy(a);p.state===fy?(p.state=ku,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[c]):+c<e&&(p.state=ku,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[c])}if(uy(function(){r.state===Mu&&(r.state=fy,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=Uh,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Uh){for(r.state=Mu,s=new Array(d=r.tween.length),c=0,f=-1;c<d;++c)(p=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(s[++f]=p);s.length=f+1}}function o(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=Fh,1),f=-1,d=s.length;++f<d;)s[f].call(t,c);r.state===Fh&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=ku,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function Pu(t,e){var r=t.__transition,n,s,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}s=n.state>Uh&&n.state<Fh,n.state=ku,n.timer.stop(),n.on.call(s?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function Ek(t){return this.each(function(){Pu(this,t)})}function Sk(t,e){var r,n;return function(){var s=Gn(this,t),i=s.tween;if(i!==r){n=r=i;for(var a=0,o=n.length;a<o;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}s.tween=n}}function xk(t,e,r){var n,s;if(typeof r!="function")throw new Error;return function(){var i=Gn(this,t),a=i.tween;if(a!==n){s=(n=a).slice();for(var o={name:e,value:r},l=0,u=s.length;l<u;++l)if(s[l].name===e){s[l]=o;break}l===u&&s.push(o)}i.tween=s}}function Tk(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=An(this.node(),r).tween,s=0,i=n.length,a;s<i;++s)if((a=n[s]).name===t)return a.value;return null}return this.each((e==null?Sk:xk)(r,t,e))}function im(t,e,r){var n=t._id;return t.each(function(){var s=Gn(this,n);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return An(s,n).value[e]}}function e1(t,e){var r;return(typeof e=="number"?bn:e instanceof qs?sc:(r=qs(e))?(e=r,sc):G_)(t,e)}function Ak(t){return function(){this.removeAttribute(t)}}function Ck(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ik(t,e,r){var n,s=r+"",i;return function(){var a=this.getAttribute(t);return a===s?null:a===n?i:i=e(n=a,r)}}function Mk(t,e,r){var n,s=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===s?null:a===n?i:i=e(n=a,r)}}function kk(t,e,r){var n,s,i;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===n&&l===s?i:(s=l,i=e(n=a,o)))}}function Pk(t,e,r){var n,s,i;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===n&&l===s?i:(s=l,i=e(n=a,o)))}}function Ok(t,e){var r=jc(t),n=r==="transform"?ck:e1;return this.attrTween(t,typeof e=="function"?(r.local?Pk:kk)(r,n,im(this,"attr."+t,e)):e==null?(r.local?Ck:Ak)(r):(r.local?Mk:Ik)(r,n,e))}function Lk(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Rk(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Bk(t,e){var r,n;function s(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Rk(t,i)),r}return s._value=e,s}function $k(t,e){var r,n;function s(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Lk(t,i)),r}return s._value=e,s}function Nk(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=jc(t);return this.tween(r,(n.local?Bk:$k)(n,e))}function Dk(t,e){return function(){nm(this,t).delay=+e.apply(this,arguments)}}function Uk(t,e){return e=+e,function(){nm(this,t).delay=e}}function Fk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Dk:Uk)(e,t)):An(this.node(),e).delay}function Vk(t,e){return function(){Gn(this,t).duration=+e.apply(this,arguments)}}function jk(t,e){return e=+e,function(){Gn(this,t).duration=e}}function Wk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vk:jk)(e,t)):An(this.node(),e).duration}function zk(t,e){if(typeof e!="function")throw new Error;return function(){Gn(this,t).ease=e}}function Hk(t){var e=this._id;return arguments.length?this.each(zk(e,t)):An(this.node(),e).ease}function qk(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Gn(this,t).ease=r}}function Gk(t){if(typeof t!="function")throw new Error;return this.each(qk(this._id,t))}function Yk(t){typeof t!="function"&&(t=R_(t));for(var e=this._groups,r=e.length,n=new Array(r),s=0;s<r;++s)for(var i=e[s],a=i.length,o=n[s]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new yi(n,this._parents,this._name,this._id)}function Kk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,s=r.length,i=Math.min(n,s),a=new Array(n),o=0;o<i;++o)for(var l=e[o],u=r[o],c=l.length,f=a[o]=new Array(c),d,p=0;p<c;++p)(d=l[p]||u[p])&&(f[p]=d);for(;o<n;++o)a[o]=e[o];return new yi(a,this._parents,this._name,this._id)}function Xk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Qk(t,e,r){var n,s,i=Xk(e)?nm:Gn;return function(){var a=i(this,t),o=a.on;o!==n&&(s=(n=o).copy()).on(e,r),a.on=s}}function Jk(t,e){var r=this._id;return arguments.length<2?An(this.node(),r).on.on(t):this.each(Qk(r,t,e))}function Zk(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function eP(){return this.on("end.remove",Zk(this._id))}function tP(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Qg(t));for(var n=this._groups,s=n.length,i=new Array(s),a=0;a<s;++a)for(var o=n[a],l=o.length,u=i[a]=new Array(l),c,f,d=0;d<l;++d)(c=o[d])&&(f=t.call(c,c.__data__,d,o))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,zc(u[d],e,r,d,u,An(c,r)));return new yi(i,this._parents,e,r)}function rP(t){var e=this._name,r=this._id;typeof t!="function"&&(t=L_(t));for(var n=this._groups,s=n.length,i=[],a=[],o=0;o<s;++o)for(var l=n[o],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=t.call(c,c.__data__,f,l),p,g=An(c,r),b=0,v=d.length;b<v;++b)(p=d[b])&&zc(p,e,r,b,d,g);i.push(d),a.push(c)}return new yi(i,a,e,r)}var nP=Tl.prototype.constructor;function iP(){return new nP(this._groups,this._parents)}function sP(t,e){var r,n,s;return function(){var i=jo(this,t),a=(this.style.removeProperty(t),jo(this,t));return i===a?null:i===r&&a===n?s:s=e(r=i,n=a)}}function t1(t){return function(){this.style.removeProperty(t)}}function oP(t,e,r){var n,s=r+"",i;return function(){var a=jo(this,t);return a===s?null:a===n?i:i=e(n=a,r)}}function aP(t,e,r){var n,s,i;return function(){var a=jo(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),jo(this,t))),a===l?null:a===n&&l===s?i:(s=l,i=e(n=a,o))}}function lP(t,e){var r,n,s,i="style."+e,a="end."+i,o;return function(){var l=Gn(this,t),u=l.on,c=l.value[i]==null?o||(o=t1(e)):void 0;(u!==r||s!==c)&&(n=(r=u).copy()).on(a,s=c),l.on=n}}function uP(t,e,r){var n=(t+="")=="transform"?uk:e1;return e==null?this.styleTween(t,sP(t,n)).on("end.style."+t,t1(t)):typeof e=="function"?this.styleTween(t,aP(t,n,im(this,"style."+t,e))).each(lP(this._id,t)):this.styleTween(t,oP(t,n,e),r).on("end.style."+t,null)}function cP(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function fP(t,e,r){var n,s;function i(){var a=e.apply(this,arguments);return a!==s&&(n=(s=a)&&cP(t,a,r)),n}return i._value=e,i}function dP(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,fP(t,e,r??""))}function hP(t){return function(){this.textContent=t}}function pP(t){return function(){var e=t(this);this.textContent=e??""}}function gP(t){return this.tween("text",typeof t=="function"?pP(im(this,"text",t)):hP(t==null?"":t+""))}function mP(t){return function(e){this.textContent=t.call(this,e)}}function bP(t){var e,r;function n(){var s=t.apply(this,arguments);return s!==r&&(e=(r=s)&&mP(s)),e}return n._value=t,n}function yP(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bP(t))}function wP(){for(var t=this._name,e=this._id,r=r1(),n=this._groups,s=n.length,i=0;i<s;++i)for(var a=n[i],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var c=An(l,e);zc(l,t,r,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new yi(n,this._parents,t,r)}function vP(){var t,e,r=this,n=r._id,s=r.size();return new Promise(function(i,a){var o={value:a},l={value:function(){--s===0&&i()}};r.each(function(){var u=Gn(this,n),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),s===0&&i()})}var _P=0;function yi(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function r1(){return++_P}var Qn=Tl.prototype;yi.prototype={constructor:yi,select:tP,selectAll:rP,selectChild:Qn.selectChild,selectChildren:Qn.selectChildren,filter:Yk,merge:Kk,selection:iP,transition:wP,call:Qn.call,nodes:Qn.nodes,node:Qn.node,size:Qn.size,empty:Qn.empty,each:Qn.each,on:Jk,attr:Ok,attrTween:Nk,style:uP,styleTween:dP,text:gP,textTween:yP,remove:eP,tween:Tk,delay:Fk,duration:Wk,ease:Hk,easeVarying:Gk,end:vP,[Symbol.iterator]:Qn[Symbol.iterator]};const Za=t=>+t;function EP(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var SP={time:null,delay:0,duration:250,ease:EP};function xP(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function TP(t){var e,r;t instanceof yi?(e=t._id,t=t._name):(e=r1(),(r=SP).time=rm(),t=t==null?null:t+"");for(var n=this._groups,s=n.length,i=0;i<s;++i)for(var a=n[i],o=a.length,l,u=0;u<o;++u)(l=a[u])&&zc(l,t,e,u,a,r||xP(l,e));return new yi(n,this._parents,t,e)}Tl.prototype.interrupt=Ek;Tl.prototype.transition=TP;const Vh=Math.PI,jh=2*Vh,xs=1e-6,AP=jh-xs;function n1(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function CP(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return n1;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class IP{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?n1:CP(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,a){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,l=n-e,u=s-r,c=a-e,f=o-r,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>xs)if(!(Math.abs(f*l-u*c)>xs)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,g=s-o,b=l*l+u*u,v=p*p+g*g,w=Math.sqrt(b),_=Math.sqrt(d),y=i*Math.tan((Vh-Math.acos((b+d-v)/(2*w*_)))/2),S=y/_,T=y/w;Math.abs(S-1)>xs&&this._append`L${e+S*c},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>c*g)},${this._x1=e+T*l},${this._y1=r+T*u}`}}arc(e,r,n,s,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(s),l=n*Math.sin(s),u=e+o,c=r+l,f=1^a,d=a?s-i:i-s;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>xs||Math.abs(this._y1-c)>xs)&&this._append`L${u},${c}`,n&&(d<0&&(d=d%jh+jh),d>AP?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:d>xs&&this._append`A${n},${n},0,${+(d>=Vh)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function MP(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uc(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zo(t){return t=uc(Math.abs(t)),t?t[1]:NaN}function kP(t,e){return function(r,n){for(var s=r.length,i=[],a=0,o=t[0],l=0;s>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(s-=o,s+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return i.reverse().join(e)}}function PP(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var OP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cc(t){if(!(e=OP.exec(t)))throw new Error("invalid format: "+t);var e;return new sm({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cc.prototype=sm.prototype;function sm(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LP(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var i1;function RP(t,e){var r=uc(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(i1=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+uc(t,Math.max(0,e+i-1))[0]}function dy(t,e){var r=uc(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const hy={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MP,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dy(t*100,e),r:dy,s:RP,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function py(t){return t}var gy=Array.prototype.map,my=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function BP(t){var e=t.grouping===void 0||t.thousands===void 0?py:kP(gy.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?py:PP(gy.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=cc(f);var d=f.fill,p=f.align,g=f.sign,b=f.symbol,v=f.zero,w=f.width,_=f.comma,y=f.precision,S=f.trim,T=f.type;T==="n"?(_=!0,T="g"):hy[T]||(y===void 0&&(y=12),S=!0,T="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var A=b==="$"?r:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=b==="$"?n:/[%p]/.test(T)?a:"",L=hy[T],j=/[defgprs%]/.test(T);y=y===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function F($){var I=A,M=C,B,J,ie;if(T==="c")M=L($)+M,$="";else{$=+$;var re=$<0||1/$<0;if($=isNaN($)?l:L(Math.abs($),y),S&&($=LP($)),re&&+$==0&&g!=="+"&&(re=!1),I=(re?g==="("?g:o:g==="-"||g==="("?"":g)+I,M=(T==="s"?my[8+i1/3]:"")+M+(re&&g==="("?")":""),j){for(B=-1,J=$.length;++B<J;)if(ie=$.charCodeAt(B),48>ie||ie>57){M=(ie===46?s+$.slice(B+1):$.slice(B))+M,$=$.slice(0,B);break}}}_&&!v&&($=e($,1/0));var N=I.length+$.length+M.length,fe=N<w?new Array(w-N+1).join(d):"";switch(_&&v&&($=e(fe+$,fe.length?w-M.length:1/0),fe=""),p){case"<":$=I+$+M+fe;break;case"=":$=I+fe+$+M;break;case"^":$=fe.slice(0,N=fe.length>>1)+I+$+M+fe.slice(N);break;default:$=fe+I+$+M;break}return i($)}return F.toString=function(){return f+""},F}function c(f,d){var p=u((f=cc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(zo(d)/3)))*3,b=Math.pow(10,-g),v=my[8+g/3];return function(w){return p(b*w)+v}}return{format:u,formatPrefix:c}}var Gl,s1,o1;$P({thousands:",",grouping:[3],currency:["$",""]});function $P(t){return Gl=BP(t),s1=Gl.format,o1=Gl.formatPrefix,Gl}function NP(t){return Math.max(0,-zo(Math.abs(t)))}function DP(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zo(e)/3)))*3-zo(Math.abs(t)))}function UP(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zo(e)-zo(t))+1}function Cl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const by=Symbol("implicit");function a1(){var t=new Gb,e=[],r=[],n=by;function s(i){let a=t.get(i);if(a===void 0){if(n!==by)return n;t.set(i,a=e.push(i)-1)}return r[a%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Gb;for(const a of i)t.has(a)||t.set(a,e.push(a)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return a1(e,r).unknown(n)},Cl.apply(s,arguments),s}function pl(){var t=a1().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,a,o=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=s<n,g=p?s:n,b=p?n:s;i=(b-g)/Math.max(1,d-l+u*2),o&&(i=Math.floor(i)),g+=(b-g-i*(d-l))*c,a=i*(1-l),o&&(g=Math.round(g),a=Math.round(a));var v=HC(d).map(function(w){return g+i*w});return r(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,s]=d,n=+n,s=+s,f()):[n,s]},t.rangeRound=function(d){return[n,s]=d,n=+n,s=+s,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return pl(e(),[n,s]).round(o).paddingInner(l).paddingOuter(u).align(c)},Cl.apply(f(),arguments)}function FP(t){return function(){return t}}function VP(t){return+t}var yy=[0,1];function To(t){return t}function Wh(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:FP(isNaN(e)?NaN:.5)}function jP(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function WP(t,e,r){var n=t[0],s=t[1],i=e[0],a=e[1];return s<n?(n=Wh(s,n),i=r(a,i)):(n=Wh(n,s),i=r(i,a)),function(o){return i(n(o))}}function zP(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)s[a]=Wh(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(o){var l=NC(t,o,1,n)-1;return i[l](s[l](o))}}function l1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function HP(){var t=yy,e=yy,r=tm,n,s,i,a=To,o,l,u;function c(){var d=Math.min(t.length,e.length);return a!==To&&(a=jP(t[0],t[d-1])),o=d>2?zP:WP,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?i:(l||(l=o(t.map(n),e,r)))(n(a(d)))}return f.invert=function(d){return a(s((u||(u=o(e,t.map(n),bn)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,VP),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=ok,c()},f.clamp=function(d){return arguments.length?(a=d?!0:To,c()):a!==To},f.interpolate=function(d){return arguments.length?(r=d,c()):r},f.unknown=function(d){return arguments.length?(i=d,f):i},function(d,p){return n=d,s=p,c()}}function u1(){return HP()(To,To)}function qP(t,e,r,n){var s=kh(t,e,r),i;switch(n=cc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=DP(s,a))&&(n.precision=i),o1(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=UP(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=NP(s))&&(n.precision=i-(n.type==="%")*2);break}}return s1(n)}function GP(t){var e=t.domain;return t.ticks=function(r){var n=e();return zC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return qP(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,a=n[s],o=n[i],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=s,s=i,i=u);c-- >0;){if(u=Mh(a,o,r),u===l)return n[s]=a,n[i]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Yn(){var t=u1();return t.copy=function(){return l1(t,Yn())},Cl.apply(t,arguments),GP(t)}function YP(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],a;return i<s&&(a=r,r=n,n=a,a=s,s=i,i=a),t[r]=e.floor(s),t[n]=e.ceil(i),t}const Lf=new Date,Rf=new Date;function Zt(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const a=s(i),o=s.ceil(i);return i-a<o-i?a:o},s.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,o)=>{const l=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<a)||!(o>0))return l;let u;do l.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<a);return l},s.filter=i=>Zt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!i(a););else for(;--o>=0;)for(;e(a,1),!i(a););}),r&&(s.count=(i,a)=>(Lf.setTime(+i),Rf.setTime(+a),t(Lf),t(Rf),Math.floor(r(Lf,Rf))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?a=>n(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const fc=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fc.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):fc);fc.range;const ui=1e3,nn=ui*60,ci=nn*60,wi=ci*24,om=wi*7,wy=wi*30,Bf=wi*365,Is=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ui)},(t,e)=>(e-t)/ui,t=>t.getUTCSeconds());Is.range;const am=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui)},(t,e)=>{t.setTime(+t+e*nn)},(t,e)=>(e-t)/nn,t=>t.getMinutes());am.range;const lm=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nn)},(t,e)=>(e-t)/nn,t=>t.getUTCMinutes());lm.range;const um=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ui-t.getMinutes()*nn)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getHours());um.range;const cm=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCHours());cm.range;const Il=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nn)/wi,t=>t.getDate()-1);Il.range;const Hc=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wi,t=>t.getUTCDate()-1);Hc.range;const c1=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wi,t=>Math.floor(t/wi));c1.range;function Zs(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*nn)/om)}const qc=Zs(0),dc=Zs(1),KP=Zs(2),XP=Zs(3),Ho=Zs(4),QP=Zs(5),JP=Zs(6);qc.range;dc.range;KP.range;XP.range;Ho.range;QP.range;JP.range;function eo(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/om)}const Gc=eo(0),hc=eo(1),ZP=eo(2),eO=eo(3),qo=eo(4),tO=eo(5),rO=eo(6);Gc.range;hc.range;ZP.range;eO.range;qo.range;tO.range;rO.range;const fm=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fm.range;const dm=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dm.range;const vi=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});vi.range;const _i=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});_i.range;function f1(t,e,r,n,s,i){const a=[[Is,1,ui],[Is,5,5*ui],[Is,15,15*ui],[Is,30,30*ui],[i,1,nn],[i,5,5*nn],[i,15,15*nn],[i,30,30*nn],[s,1,ci],[s,3,3*ci],[s,6,6*ci],[s,12,12*ci],[n,1,wi],[n,2,2*wi],[r,1,om],[e,1,wy],[e,3,3*wy],[t,1,Bf]];function o(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,f){const d=Math.abs(c-u)/f,p=Kg(([,,v])=>v).right(a,d);if(p===a.length)return t.every(kh(u/Bf,c/Bf,f));if(p===0)return fc.every(Math.max(kh(u,c,f),1));const[g,b]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return g.every(b)}return[o,l]}const[nO,iO]=f1(_i,dm,Gc,c1,cm,lm),[sO,oO]=f1(vi,fm,qc,Il,um,am);function $f(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ea(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function aO(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Sa(s),c=xa(s),f=Sa(i),d=xa(i),p=Sa(a),g=xa(a),b=Sa(o),v=xa(o),w=Sa(l),_=xa(l),y={a:re,A:N,b:fe,B:G,c:null,d:Ty,e:Ty,f:kO,g:FO,G:jO,H:CO,I:IO,j:MO,L:d1,m:PO,M:OO,p:pe,q:U,Q:Iy,s:My,S:LO,u:RO,U:BO,V:$O,w:NO,W:DO,x:null,X:null,y:UO,Y:VO,Z:WO,"%":Cy},S={a:de,A:xe,b:ee,B:K,c:null,d:Ay,e:Ay,f:GO,g:n2,G:s2,H:zO,I:HO,j:qO,L:p1,m:YO,M:KO,p:W,q:D,Q:Iy,s:My,S:XO,u:QO,U:JO,V:ZO,w:e2,W:t2,x:null,X:null,y:r2,Y:i2,Z:o2,"%":Cy},T={a:F,A:$,b:I,B:M,c:B,d:Sy,e:Sy,f:SO,g:Ey,G:_y,H:xy,I:xy,j:wO,L:EO,m:yO,M:vO,p:j,q:bO,Q:TO,s:AO,S:_O,u:dO,U:hO,V:pO,w:fO,W:gO,x:J,X:ie,y:Ey,Y:_y,Z:mO,"%":xO};y.x=A(r,y),y.X=A(n,y),y.c=A(e,y),S.x=A(r,S),S.X=A(n,S),S.c=A(e,S);function A(X,ce){return function(le){var k=[],P=-1,V=0,R=X.length,H,q,ue;for(le instanceof Date||(le=new Date(+le));++P<R;)X.charCodeAt(P)===37&&(k.push(X.slice(V,P)),(q=vy[H=X.charAt(++P)])!=null?H=X.charAt(++P):q=H==="e"?" ":"0",(ue=ce[H])&&(H=ue(le,q)),k.push(H),V=P+1);return k.push(X.slice(V,P)),k.join("")}}function C(X,ce){return function(le){var k=Ea(1900,void 0,1),P=L(k,X,le+="",0),V,R;if(P!=le.length)return null;if("Q"in k)return new Date(k.Q);if("s"in k)return new Date(k.s*1e3+("L"in k?k.L:0));if(ce&&!("Z"in k)&&(k.Z=0),"p"in k&&(k.H=k.H%12+k.p*12),k.m===void 0&&(k.m="q"in k?k.q:0),"V"in k){if(k.V<1||k.V>53)return null;"w"in k||(k.w=1),"Z"in k?(V=Nf(Ea(k.y,0,1)),R=V.getUTCDay(),V=R>4||R===0?hc.ceil(V):hc(V),V=Hc.offset(V,(k.V-1)*7),k.y=V.getUTCFullYear(),k.m=V.getUTCMonth(),k.d=V.getUTCDate()+(k.w+6)%7):(V=$f(Ea(k.y,0,1)),R=V.getDay(),V=R>4||R===0?dc.ceil(V):dc(V),V=Il.offset(V,(k.V-1)*7),k.y=V.getFullYear(),k.m=V.getMonth(),k.d=V.getDate()+(k.w+6)%7)}else("W"in k||"U"in k)&&("w"in k||(k.w="u"in k?k.u%7:"W"in k?1:0),R="Z"in k?Nf(Ea(k.y,0,1)).getUTCDay():$f(Ea(k.y,0,1)).getDay(),k.m=0,k.d="W"in k?(k.w+6)%7+k.W*7-(R+5)%7:k.w+k.U*7-(R+6)%7);return"Z"in k?(k.H+=k.Z/100|0,k.M+=k.Z%100,Nf(k)):$f(k)}}function L(X,ce,le,k){for(var P=0,V=ce.length,R=le.length,H,q;P<V;){if(k>=R)return-1;if(H=ce.charCodeAt(P++),H===37){if(H=ce.charAt(P++),q=T[H in vy?ce.charAt(P++):H],!q||(k=q(X,le,k))<0)return-1}else if(H!=le.charCodeAt(k++))return-1}return k}function j(X,ce,le){var k=u.exec(ce.slice(le));return k?(X.p=c.get(k[0].toLowerCase()),le+k[0].length):-1}function F(X,ce,le){var k=p.exec(ce.slice(le));return k?(X.w=g.get(k[0].toLowerCase()),le+k[0].length):-1}function $(X,ce,le){var k=f.exec(ce.slice(le));return k?(X.w=d.get(k[0].toLowerCase()),le+k[0].length):-1}function I(X,ce,le){var k=w.exec(ce.slice(le));return k?(X.m=_.get(k[0].toLowerCase()),le+k[0].length):-1}function M(X,ce,le){var k=b.exec(ce.slice(le));return k?(X.m=v.get(k[0].toLowerCase()),le+k[0].length):-1}function B(X,ce,le){return L(X,e,ce,le)}function J(X,ce,le){return L(X,r,ce,le)}function ie(X,ce,le){return L(X,n,ce,le)}function re(X){return a[X.getDay()]}function N(X){return i[X.getDay()]}function fe(X){return l[X.getMonth()]}function G(X){return o[X.getMonth()]}function pe(X){return s[+(X.getHours()>=12)]}function U(X){return 1+~~(X.getMonth()/3)}function de(X){return a[X.getUTCDay()]}function xe(X){return i[X.getUTCDay()]}function ee(X){return l[X.getUTCMonth()]}function K(X){return o[X.getUTCMonth()]}function W(X){return s[+(X.getUTCHours()>=12)]}function D(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ce=A(X+="",y);return ce.toString=function(){return X},ce},parse:function(X){var ce=C(X+="",!1);return ce.toString=function(){return X},ce},utcFormat:function(X){var ce=A(X+="",S);return ce.toString=function(){return X},ce},utcParse:function(X){var ce=C(X+="",!0);return ce.toString=function(){return X},ce}}}var vy={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,lO=/^%/,uO=/[\\^$*+?|[\]().{}]/g;function pt(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function cO(t){return t.replace(uO,"\\$&")}function Sa(t){return new RegExp("^(?:"+t.map(cO).join("|")+")","i")}function xa(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function fO(t,e,r){var n=nr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function dO(t,e,r){var n=nr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function hO(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function pO(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function gO(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function _y(t,e,r){var n=nr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Ey(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mO(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bO(t,e,r){var n=nr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function yO(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Sy(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function wO(t,e,r){var n=nr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xy(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vO(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function _O(t,e,r){var n=nr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function EO(t,e,r){var n=nr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function SO(t,e,r){var n=nr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function xO(t,e,r){var n=lO.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function TO(t,e,r){var n=nr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function AO(t,e,r){var n=nr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Ty(t,e){return pt(t.getDate(),e,2)}function CO(t,e){return pt(t.getHours(),e,2)}function IO(t,e){return pt(t.getHours()%12||12,e,2)}function MO(t,e){return pt(1+Il.count(vi(t),t),e,3)}function d1(t,e){return pt(t.getMilliseconds(),e,3)}function kO(t,e){return d1(t,e)+"000"}function PO(t,e){return pt(t.getMonth()+1,e,2)}function OO(t,e){return pt(t.getMinutes(),e,2)}function LO(t,e){return pt(t.getSeconds(),e,2)}function RO(t){var e=t.getDay();return e===0?7:e}function BO(t,e){return pt(qc.count(vi(t)-1,t),e,2)}function h1(t){var e=t.getDay();return e>=4||e===0?Ho(t):Ho.ceil(t)}function $O(t,e){return t=h1(t),pt(Ho.count(vi(t),t)+(vi(t).getDay()===4),e,2)}function NO(t){return t.getDay()}function DO(t,e){return pt(dc.count(vi(t)-1,t),e,2)}function UO(t,e){return pt(t.getFullYear()%100,e,2)}function FO(t,e){return t=h1(t),pt(t.getFullYear()%100,e,2)}function VO(t,e){return pt(t.getFullYear()%1e4,e,4)}function jO(t,e){var r=t.getDay();return t=r>=4||r===0?Ho(t):Ho.ceil(t),pt(t.getFullYear()%1e4,e,4)}function WO(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function Ay(t,e){return pt(t.getUTCDate(),e,2)}function zO(t,e){return pt(t.getUTCHours(),e,2)}function HO(t,e){return pt(t.getUTCHours()%12||12,e,2)}function qO(t,e){return pt(1+Hc.count(_i(t),t),e,3)}function p1(t,e){return pt(t.getUTCMilliseconds(),e,3)}function GO(t,e){return p1(t,e)+"000"}function YO(t,e){return pt(t.getUTCMonth()+1,e,2)}function KO(t,e){return pt(t.getUTCMinutes(),e,2)}function XO(t,e){return pt(t.getUTCSeconds(),e,2)}function QO(t){var e=t.getUTCDay();return e===0?7:e}function JO(t,e){return pt(Gc.count(_i(t)-1,t),e,2)}function g1(t){var e=t.getUTCDay();return e>=4||e===0?qo(t):qo.ceil(t)}function ZO(t,e){return t=g1(t),pt(qo.count(_i(t),t)+(_i(t).getUTCDay()===4),e,2)}function e2(t){return t.getUTCDay()}function t2(t,e){return pt(hc.count(_i(t)-1,t),e,2)}function r2(t,e){return pt(t.getUTCFullYear()%100,e,2)}function n2(t,e){return t=g1(t),pt(t.getUTCFullYear()%100,e,2)}function i2(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function s2(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qo(t):qo.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function o2(){return"+0000"}function Cy(){return"%"}function Iy(t){return+t}function My(t){return Math.floor(+t/1e3)}var po,Zi,m1,b1;a2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function a2(t){return po=aO(t),Zi=po.format,m1=po.parse,b1=po.utcFormat,po.utcParse,po}function l2(t){return new Date(t)}function u2(t){return t instanceof Date?+t:+new Date(+t)}function hm(t,e,r,n,s,i,a,o,l,u){var c=u1(),f=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),b=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),_=u("%b %d"),y=u("%B"),S=u("%Y");function T(A){return(l(A)<A?p:o(A)<A?g:a(A)<A?b:i(A)<A?v:n(A)<A?s(A)<A?w:_:r(A)<A?y:S)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,u2)):d().map(l2)},c.ticks=function(A){var C=d();return t(C[0],C[C.length-1],A??10)},c.tickFormat=function(A,C){return C==null?T:u(C)},c.nice=function(A){var C=d();return(!A||typeof A.range!="function")&&(A=e(C[0],C[C.length-1],A??10)),A?d(YP(C,A)):c},c.copy=function(){return l1(c,hm(t,e,r,n,s,i,a,o,l,u))},c}function Ys(){return Cl.apply(hm(sO,oO,vi,fm,qc,Il,um,am,Is,Zi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zh(){return Cl.apply(hm(nO,iO,_i,dm,Gc,Hc,cm,lm,Is,b1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ct(t){return function(){return t}}const ky=Math.abs,dr=Math.atan2,gs=Math.cos,c2=Math.max,Df=Math.min,Mn=Math.sin,Ao=Math.sqrt,Pr=1e-12,gl=Math.PI,pc=gl/2,Ou=2*gl;function f2(t){return t>1?0:t<-1?gl:Math.acos(t)}function Py(t){return t>=1?pc:t<=-1?-pc:Math.asin(t)}function pm(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new IP(e)}function d2(t){return t.innerRadius}function h2(t){return t.outerRadius}function p2(t){return t.startAngle}function g2(t){return t.endAngle}function m2(t){return t&&t.padAngle}function b2(t,e,r,n,s,i,a,o){var l=r-t,u=n-e,c=a-s,f=o-i,d=f*l-c*u;if(!(d*d<Pr))return d=(c*(e-i)-f*(t-s))/d,[t+d*l,e+d*u]}function Yl(t,e,r,n,s,i,a){var o=t-r,l=e-n,u=(a?i:-i)/Ao(o*o+l*l),c=u*l,f=-u*o,d=t+c,p=e+f,g=r+c,b=n+f,v=(d+g)/2,w=(p+b)/2,_=g-d,y=b-p,S=_*_+y*y,T=s-i,A=d*b-g*p,C=(y<0?-1:1)*Ao(c2(0,T*T*S-A*A)),L=(A*y-_*C)/S,j=(-A*_-y*C)/S,F=(A*y+_*C)/S,$=(-A*_+y*C)/S,I=L-v,M=j-w,B=F-v,J=$-w;return I*I+M*M>B*B+J*J&&(L=F,j=$),{cx:L,cy:j,x01:-c,y01:-f,x11:L*(s/T-1),y11:j*(s/T-1)}}function Oy(){var t=d2,e=h2,r=ct(0),n=null,s=p2,i=g2,a=m2,o=null,l=pm(u);function u(){var c,f,d=+t.apply(this,arguments),p=+e.apply(this,arguments),g=s.apply(this,arguments)-pc,b=i.apply(this,arguments)-pc,v=ky(b-g),w=b>g;if(o||(o=c=l()),p<d&&(f=p,p=d,d=f),!(p>Pr))o.moveTo(0,0);else if(v>Ou-Pr)o.moveTo(p*gs(g),p*Mn(g)),o.arc(0,0,p,g,b,!w),d>Pr&&(o.moveTo(d*gs(b),d*Mn(b)),o.arc(0,0,d,b,g,w));else{var _=g,y=b,S=g,T=b,A=v,C=v,L=a.apply(this,arguments)/2,j=L>Pr&&(n?+n.apply(this,arguments):Ao(d*d+p*p)),F=Df(ky(p-d)/2,+r.apply(this,arguments)),$=F,I=F,M,B;if(j>Pr){var J=Py(j/d*Mn(L)),ie=Py(j/p*Mn(L));(A-=J*2)>Pr?(J*=w?1:-1,S+=J,T-=J):(A=0,S=T=(g+b)/2),(C-=ie*2)>Pr?(ie*=w?1:-1,_+=ie,y-=ie):(C=0,_=y=(g+b)/2)}var re=p*gs(_),N=p*Mn(_),fe=d*gs(T),G=d*Mn(T);if(F>Pr){var pe=p*gs(y),U=p*Mn(y),de=d*gs(S),xe=d*Mn(S),ee;if(v<gl)if(ee=b2(re,N,de,xe,pe,U,fe,G)){var K=re-ee[0],W=N-ee[1],D=pe-ee[0],X=U-ee[1],ce=1/Mn(f2((K*D+W*X)/(Ao(K*K+W*W)*Ao(D*D+X*X)))/2),le=Ao(ee[0]*ee[0]+ee[1]*ee[1]);$=Df(F,(d-le)/(ce-1)),I=Df(F,(p-le)/(ce+1))}else $=I=0}C>Pr?I>Pr?(M=Yl(de,xe,re,N,p,I,w),B=Yl(pe,U,fe,G,p,I,w),o.moveTo(M.cx+M.x01,M.cy+M.y01),I<F?o.arc(M.cx,M.cy,I,dr(M.y01,M.x01),dr(B.y01,B.x01),!w):(o.arc(M.cx,M.cy,I,dr(M.y01,M.x01),dr(M.y11,M.x11),!w),o.arc(0,0,p,dr(M.cy+M.y11,M.cx+M.x11),dr(B.cy+B.y11,B.cx+B.x11),!w),o.arc(B.cx,B.cy,I,dr(B.y11,B.x11),dr(B.y01,B.x01),!w))):(o.moveTo(re,N),o.arc(0,0,p,_,y,!w)):o.moveTo(re,N),!(d>Pr)||!(A>Pr)?o.lineTo(fe,G):$>Pr?(M=Yl(fe,G,pe,U,d,-$,w),B=Yl(re,N,de,xe,d,-$,w),o.lineTo(M.cx+M.x01,M.cy+M.y01),$<F?o.arc(M.cx,M.cy,$,dr(M.y01,M.x01),dr(B.y01,B.x01),!w):(o.arc(M.cx,M.cy,$,dr(M.y01,M.x01),dr(M.y11,M.x11),!w),o.arc(0,0,d,dr(M.cy+M.y11,M.cx+M.x11),dr(B.cy+B.y11,B.cx+B.x11),w),o.arc(B.cx,B.cy,$,dr(B.y11,B.x11),dr(B.y01,B.x01),!w))):o.arc(0,0,d,T,S,w)}if(o.closePath(),c)return o=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+s.apply(this,arguments)+ +i.apply(this,arguments))/2-gl/2;return[gs(f)*c,Mn(f)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ct(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ct(+c),u):e},u.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:ct(+c),u):r},u.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:ct(+c),u):n},u.startAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ct(+c),u):s},u.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ct(+c),u):i},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:ct(+c),u):a},u.context=function(c){return arguments.length?(o=c??null,u):o},u}function Yc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function y1(t){this._context=t}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w1(t){return new y1(t)}function v1(t){return t[0]}function _1(t){return t[1]}function $n(t,e){var r=ct(!0),n=null,s=w1,i=null,a=pm(o);t=typeof t=="function"?t:t===void 0?v1:ct(t),e=typeof e=="function"?e:e===void 0?_1:ct(e);function o(l){var u,c=(l=Yc(l)).length,f,d=!1,p;for(n==null&&(i=s(p=a())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+t(f,u,l),+e(f,u,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ct(!!l),o):r},o.curve=function(l){return arguments.length?(s=l,n!=null&&(i=s(n)),o):s},o.context=function(l){return arguments.length?(l==null?n=i=null:i=s(n=l),o):n},o}function $o(t,e,r){var n=null,s=ct(!0),i=null,a=w1,o=null,l=pm(u);t=typeof t=="function"?t:t===void 0?v1:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?_1:ct(+r);function u(f){var d,p,g,b=(f=Yc(f)).length,v,w=!1,_,y=new Array(b),S=new Array(b);for(i==null&&(o=a(_=l())),d=0;d<=b;++d){if(!(d<b&&s(v=f[d],d,f))===w)if(w=!w)p=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=d-1;g>=p;--g)o.point(y[g],S[g]);o.lineEnd(),o.areaEnd()}w&&(y[d]=+t(v,d,f),S[d]=+e(v,d,f),o.point(n?+n(v,d,f):y[d],r?+r(v,d,f):S[d]))}if(_)return o=null,_+""||null}function c(){return $n().defined(s).curve(a).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:ct(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,i!=null&&(o=a(i)),u):a},u.context=function(f){return arguments.length?(f==null?i=o=null:o=a(i=f),u):i},u}function y2(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function w2(t){return t}function Ly(){var t=w2,e=y2,r=null,n=ct(0),s=ct(Ou),i=ct(0);function a(o){var l,u=(o=Yc(o)).length,c,f,d=0,p=new Array(u),g=new Array(u),b=+n.apply(this,arguments),v=Math.min(Ou,Math.max(-Ou,s.apply(this,arguments)-b)),w,_=Math.min(Math.abs(v)/u,i.apply(this,arguments)),y=_*(v<0?-1:1),S;for(l=0;l<u;++l)(S=g[p[l]=l]=+t(o[l],l,o))>0&&(d+=S);for(e!=null?p.sort(function(T,A){return e(g[T],g[A])}):r!=null&&p.sort(function(T,A){return r(o[T],o[A])}),l=0,f=d?(v-u*y)/d:0;l<u;++l,b=w)c=p[l],S=g[c],w=b+(S>0?S*f:0)+y,g[c]={data:o[c],index:l,value:S,startAngle:b,endAngle:w,padAngle:_};return g}return a.value=function(o){return arguments.length?(t=typeof o=="function"?o:ct(+o),a):t},a.sortValues=function(o){return arguments.length?(e=o,r=null,a):e},a.sort=function(o){return arguments.length?(r=o,e=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:ct(+o),a):n},a.endAngle=function(o){return arguments.length?(s=typeof o=="function"?o:ct(+o),a):s},a.padAngle=function(o){return arguments.length?(i=typeof o=="function"?o:ct(+o),a):i},a}class v2{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function No(t){return new v2(t,!0)}function Ry(t,e){if((a=t.length)>1)for(var r=1,n,s,i=t[e[0]],a,o=i.length;r<a;++r)for(s=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function By(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function _2(t,e){return t[e]}function E2(t){const e=[];return e.key=t,e}function E1(){var t=ct([]),e=By,r=Ry,n=_2;function s(i){var a=Array.from(t.apply(this,arguments),E2),o,l=a.length,u=-1,c;for(const f of i)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(f,a[o].key,u,i)]).data=f;for(o=0,c=Yc(e(a));o<l;++o)a[c[o]].index=o;return r(a,c),a}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ct(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:ct(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?By:typeof i=="function"?i:ct(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??Ry,s):r},s}const Kl=t=>()=>t;function S2(t,{sourceEvent:e,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function fi(t,e,r){this.k=t,this.x=e,this.y=r}fi.prototype={constructor:fi,scale:function(t){return t===1?this:new fi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gm=new fi(1,0,0);fi.prototype;function Uf(t){t.stopImmediatePropagation()}function Ta(t){t.preventDefault(),t.stopImmediatePropagation()}function x2(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function T2(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function $y(){return this.__zoom||gm}function A2(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function C2(){return navigator.maxTouchPoints||"ontouchstart"in this}function I2(t,e,r){var n=t.invertX(e[0][0])-r[0][0],s=t.invertX(e[1][0])-r[1][0],i=t.invertY(e[0][1])-r[0][1],a=t.invertY(e[1][1])-r[1][1];return t.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function M2(){var t=x2,e=T2,r=I2,n=A2,s=C2,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=pk,u=Xg("start","zoom","end"),c,f,d,p=500,g=150,b=0,v=10;function w(B){B.property("__zoom",$y).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",F).filter(s).on("touchstart.zoom",$).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(B,J,ie,re){var N=B.selection?B.selection():B;N.property("__zoom",$y),B!==N?T(B,J,ie,re):N.interrupt().each(function(){A(this,arguments).event(re).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},w.scaleBy=function(B,J,ie,re){w.scaleTo(B,function(){var N=this.__zoom.k,fe=typeof J=="function"?J.apply(this,arguments):J;return N*fe},ie,re)},w.scaleTo=function(B,J,ie,re){w.transform(B,function(){var N=e.apply(this,arguments),fe=this.__zoom,G=ie==null?S(N):typeof ie=="function"?ie.apply(this,arguments):ie,pe=fe.invert(G),U=typeof J=="function"?J.apply(this,arguments):J;return r(y(_(fe,U),G,pe),N,a)},ie,re)},w.translateBy=function(B,J,ie,re){w.transform(B,function(){return r(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof ie=="function"?ie.apply(this,arguments):ie),e.apply(this,arguments),a)},null,re)},w.translateTo=function(B,J,ie,re,N){w.transform(B,function(){var fe=e.apply(this,arguments),G=this.__zoom,pe=re==null?S(fe):typeof re=="function"?re.apply(this,arguments):re;return r(gm.translate(pe[0],pe[1]).scale(G.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof ie=="function"?-ie.apply(this,arguments):-ie),fe,a)},re,N)};function _(B,J){return J=Math.max(i[0],Math.min(i[1],J)),J===B.k?B:new fi(J,B.x,B.y)}function y(B,J,ie){var re=J[0]-ie[0]*B.k,N=J[1]-ie[1]*B.k;return re===B.x&&N===B.y?B:new fi(B.k,re,N)}function S(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function T(B,J,ie,re){B.on("start.zoom",function(){A(this,arguments).event(re).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(re).end()}).tween("zoom",function(){var N=this,fe=arguments,G=A(N,fe).event(re),pe=e.apply(N,fe),U=ie==null?S(pe):typeof ie=="function"?ie.apply(N,fe):ie,de=Math.max(pe[1][0]-pe[0][0],pe[1][1]-pe[0][1]),xe=N.__zoom,ee=typeof J=="function"?J.apply(N,fe):J,K=l(xe.invert(U).concat(de/xe.k),ee.invert(U).concat(de/ee.k));return function(W){if(W===1)W=ee;else{var D=K(W),X=de/D[2];W=new fi(X,U[0]-D[0]*X,U[1]-D[1]*X)}G.zoom(null,W)}})}function A(B,J,ie){return!ie&&B.__zooming||new C(B,J)}function C(B,J){this.that=B,this.args=J,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,J),this.taps=0}C.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,J){return this.mouse&&B!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var J=Tt(this.that).datum();u.call(B,this.that,new S2(B,{sourceEvent:this.sourceEvent,target:w,type:B,transform:this.that.__zoom,dispatch:u}),J)}};function L(B,...J){if(!t.apply(this,arguments))return;var ie=A(this,J).event(B),re=this.__zoom,N=Math.max(i[0],Math.min(i[1],re.k*Math.pow(2,n.apply(this,arguments)))),fe=ps(B);if(ie.wheel)(ie.mouse[0][0]!==fe[0]||ie.mouse[0][1]!==fe[1])&&(ie.mouse[1]=re.invert(ie.mouse[0]=fe)),clearTimeout(ie.wheel);else{if(re.k===N)return;ie.mouse=[fe,re.invert(fe)],Pu(this),ie.start()}Ta(B),ie.wheel=setTimeout(G,g),ie.zoom("mouse",r(y(_(re,N),ie.mouse[0],ie.mouse[1]),ie.extent,a));function G(){ie.wheel=null,ie.end()}}function j(B,...J){if(d||!t.apply(this,arguments))return;var ie=B.currentTarget,re=A(this,J,!0).event(B),N=Tt(B.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",de,!0),fe=ps(B,ie),G=B.clientX,pe=B.clientY;$M(B.view),Uf(B),re.mouse=[fe,this.__zoom.invert(fe)],Pu(this),re.start();function U(xe){if(Ta(xe),!re.moved){var ee=xe.clientX-G,K=xe.clientY-pe;re.moved=ee*ee+K*K>b}re.event(xe).zoom("mouse",r(y(re.that.__zoom,re.mouse[0]=ps(xe,ie),re.mouse[1]),re.extent,a))}function de(xe){N.on("mousemove.zoom mouseup.zoom",null),NM(xe.view,re.moved),Ta(xe),re.event(xe).end()}}function F(B,...J){if(t.apply(this,arguments)){var ie=this.__zoom,re=ps(B.changedTouches?B.changedTouches[0]:B,this),N=ie.invert(re),fe=ie.k*(B.shiftKey?.5:2),G=r(y(_(ie,fe),re,N),e.apply(this,J),a);Ta(B),o>0?Tt(this).transition().duration(o).call(T,G,re,B):Tt(this).call(w.transform,G,re,B)}}function $(B,...J){if(t.apply(this,arguments)){var ie=B.touches,re=ie.length,N=A(this,J,B.changedTouches.length===re).event(B),fe,G,pe,U;for(Uf(B),G=0;G<re;++G)pe=ie[G],U=ps(pe,this),U=[U,this.__zoom.invert(U),pe.identifier],N.touch0?!N.touch1&&N.touch0[2]!==U[2]&&(N.touch1=U,N.taps=0):(N.touch0=U,fe=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),fe&&(N.taps<2&&(f=U[0],c=setTimeout(function(){c=null},p)),Pu(this),N.start())}}function I(B,...J){if(this.__zooming){var ie=A(this,J).event(B),re=B.changedTouches,N=re.length,fe,G,pe,U;for(Ta(B),fe=0;fe<N;++fe)G=re[fe],pe=ps(G,this),ie.touch0&&ie.touch0[2]===G.identifier?ie.touch0[0]=pe:ie.touch1&&ie.touch1[2]===G.identifier&&(ie.touch1[0]=pe);if(G=ie.that.__zoom,ie.touch1){var de=ie.touch0[0],xe=ie.touch0[1],ee=ie.touch1[0],K=ie.touch1[1],W=(W=ee[0]-de[0])*W+(W=ee[1]-de[1])*W,D=(D=K[0]-xe[0])*D+(D=K[1]-xe[1])*D;G=_(G,Math.sqrt(W/D)),pe=[(de[0]+ee[0])/2,(de[1]+ee[1])/2],U=[(xe[0]+K[0])/2,(xe[1]+K[1])/2]}else if(ie.touch0)pe=ie.touch0[0],U=ie.touch0[1];else return;ie.zoom("touch",r(y(G,pe,U),ie.extent,a))}}function M(B,...J){if(this.__zooming){var ie=A(this,J).event(B),re=B.changedTouches,N=re.length,fe,G;for(Uf(B),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),fe=0;fe<N;++fe)G=re[fe],ie.touch0&&ie.touch0[2]===G.identifier?delete ie.touch0:ie.touch1&&ie.touch1[2]===G.identifier&&delete ie.touch1;if(ie.touch1&&!ie.touch0&&(ie.touch0=ie.touch1,delete ie.touch1),ie.touch0)ie.touch0[1]=this.__zoom.invert(ie.touch0[0]);else if(ie.end(),ie.taps===2&&(G=ps(G,this),Math.hypot(f[0]-G[0],f[1]-G[1])<v)){var pe=Tt(this).on("dblclick.zoom");pe&&pe.apply(this,arguments)}}}return w.wheelDelta=function(B){return arguments.length?(n=typeof B=="function"?B:Kl(+B),w):n},w.filter=function(B){return arguments.length?(t=typeof B=="function"?B:Kl(!!B),w):t},w.touchable=function(B){return arguments.length?(s=typeof B=="function"?B:Kl(!!B),w):s},w.extent=function(B){return arguments.length?(e=typeof B=="function"?B:Kl([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),w):e},w.scaleExtent=function(B){return arguments.length?(i[0]=+B[0],i[1]=+B[1],w):[i[0],i[1]]},w.translateExtent=function(B){return arguments.length?(a[0][0]=+B[0][0],a[1][0]=+B[1][0],a[0][1]=+B[0][1],a[1][1]=+B[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(B){return arguments.length?(r=B,w):r},w.duration=function(B){return arguments.length?(o=+B,w):o},w.interpolate=function(B){return arguments.length?(l=B,w):l},w.on=function(){var B=u.on.apply(u,arguments);return B===u?w:B},w.clickDistance=function(B){return arguments.length?(b=(B=+B)*B,w):Math.sqrt(b)},w.tapDistance=function(B){return arguments.length?(v=+B,w):v},w}var Wr=(t=>(t.instant_charging="instant_charging",t.pv_charging="pv_charging",t.scheduled_charging="scheduled_charging",t.eco_charging="eco_charging",t.stop="stop",t))(Wr||{}),Et=(t=>(t.counter="counter",t.inverter="inverter",t.pvSummary="pvSummary",t.battery="battery",t.batterySummary="batterySummary",t.chargepoint="chargepoint",t.chargeSummary="chargeSummary",t.device="device",t.deviceSummary="deviceSummary",t.counterSummary="counterSummary",t.house="house",t))(Et||{});class S1{constructor(e){ve(this,"id");ve(this,"name","Wechselrichter");ve(this,"type","inverter");ve(this,"color","var(--color-pv)");ve(this,"power",0);ve(this,"icon","");ve(this,"showInGraph",!0);ve(this,"now",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"past",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"energy_month",0);ve(this,"energy_year",0);ve(this,"energy_total",0);this.id=e}}const k2=[["EV","ev_mode"],["Speicher","bat_mode"],["MinSoc","min_soc_bat_mode"]];class P2{constructor(e){ve(this,"id");ve(this,"name","Gerät");ve(this,"type",Et.device);ve(this,"power",0);ve(this,"status","off");ve(this,"runningTime",0);ve(this,"configured",!1);ve(this,"_showInGraph",!0);ve(this,"color","white");ve(this,"canSwitch",!1);ve(this,"countAsHouse",!1);ve(this,"now",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"past",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"pvPercentage",0);ve(this,"tempConfigured",0);ve(this,"temp",[300,300,300]);ve(this,"on",!1);ve(this,"isAutomatic",!0);ve(this,"icon","");this.id=e}get showInGraph(){return this._showInGraph}set showInGraph(e){this._showInGraph=e,ke.items.get("sh"+this.id).showInGraph=e,wt()}setShowInGraph(e){this._showInGraph=e}}const $t=Vt(new Map);function mm(t){$t.has(t)?console.info("Duplicate sh device message: "+t):($t.set(t,new P2(t)),$t.get(t).color="var(--color-sh"+$t.size+")")}var bm=Object.defineProperty,O2=Object.getOwnPropertyDescriptor,L2=Object.getOwnPropertyNames,R2=Object.prototype.hasOwnProperty,lr=(t,e)=>()=>(t&&(e=t(t=0)),e),De=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),to=(t,e)=>{for(var r in e)bm(t,r,{get:e[r],enumerable:!0})},B2=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of L2(e))!R2.call(t,s)&&s!==r&&bm(t,s,{get:()=>e[s],enumerable:!(n=O2(e,s))||n.enumerable});return t},At=t=>B2(bm({},"__esModule",{value:!0}),t),Oe=lr(()=>{}),bt={};to(bt,{_debugEnd:()=>Sp,_debugProcess:()=>Ep,_events:()=>Dp,_eventsCount:()=>Up,_exiting:()=>lp,_fatalExceptions:()=>wp,_getActiveHandles:()=>k1,_getActiveRequests:()=>M1,_kill:()=>fp,_linkedBinding:()=>C1,_maxListeners:()=>Np,_preload_modules:()=>Bp,_rawDebug:()=>sp,_startProfilerIdleNotifier:()=>xp,_stopProfilerIdleNotifier:()=>Tp,_tickCallback:()=>_p,abort:()=>Mp,addListener:()=>Fp,allowedNodeEnvironmentFlags:()=>bp,arch:()=>qh,argv:()=>Kh,argv0:()=>Rp,assert:()=>P1,binding:()=>ep,chdir:()=>np,config:()=>up,cpuUsage:()=>Va,cwd:()=>rp,debugPort:()=>Lp,default:()=>wm,dlopen:()=>I1,domain:()=>ap,emit:()=>Hp,emitWarning:()=>Zh,env:()=>Yh,execArgv:()=>Xh,execPath:()=>Op,exit:()=>gp,features:()=>yp,hasUncaughtExceptionCaptureCallback:()=>O1,hrtime:()=>Lu,kill:()=>pp,listeners:()=>R1,memoryUsage:()=>hp,moduleLoadList:()=>op,nextTick:()=>T1,off:()=>jp,on:()=>ei,once:()=>Vp,openStdin:()=>mp,pid:()=>kp,platform:()=>Gh,ppid:()=>Pp,prependListener:()=>qp,prependOnceListener:()=>Gp,reallyExit:()=>cp,release:()=>ip,removeAllListeners:()=>zp,removeListener:()=>Wp,resourceUsage:()=>dp,setSourceMapsEnabled:()=>$p,setUncaughtExceptionCaptureCallback:()=>vp,stderr:()=>Cp,stdin:()=>Ip,stdout:()=>Ap,title:()=>Hh,umask:()=>tp,uptime:()=>L1,version:()=>Qh,versions:()=>Jh});function ym(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function $2(){!$s||!Ms||($s=!1,Ms.length?Nn=Ms.concat(Nn):el=-1,Nn.length&&x1())}function x1(){if(!$s){var t=setTimeout($2,0);$s=!0;for(var e=Nn.length;e;){for(Ms=Nn,Nn=[];++el<e;)Ms&&Ms[el].run();el=-1,e=Nn.length}Ms=null,$s=!1,clearTimeout(t)}}function T1(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Nn.push(new A1(t,e)),Nn.length===1&&!$s&&setTimeout(x1,0)}function A1(t,e){this.fun=t,this.array=e}function hr(){}function C1(t){ym("_linkedBinding")}function I1(t){ym("dlopen")}function M1(){return[]}function k1(){return[]}function P1(t,e){if(!t)throw new Error(e||"assertion error")}function O1(){return!1}function L1(){return si.now()/1e3}function Lu(t){var e=Math.floor((Date.now()-si.now())*.001),r=si.now()*.001,n=Math.floor(r)+e,s=Math.floor(r%1*1e9);return t&&(n=n-t[0],s=s-t[1],s<0&&(n--,s+=Ru)),[n,s]}function ei(){return wm}function R1(t){return[]}var Nn,$s,Ms,el,Hh,qh,Gh,Yh,Kh,Xh,Qh,Jh,Zh,ep,tp,rp,np,ip,sp,op,ap,lp,up,cp,fp,Va,dp,hp,pp,gp,mp,bp,yp,wp,vp,_p,Ep,Sp,xp,Tp,Ap,Cp,Ip,Mp,kp,Pp,Op,Lp,Rp,Bp,$p,si,Ff,Ru,Np,Dp,Up,Fp,Vp,jp,Wp,zp,Hp,qp,Gp,wm,N2=lr(()=>{Oe(),Re(),Le(),Nn=[],$s=!1,el=-1,A1.prototype.run=function(){this.fun.apply(null,this.array)},Hh="browser",qh="x64",Gh="browser",Yh={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Kh=["/usr/bin/node"],Xh=[],Qh="v16.8.0",Jh={},Zh=function(t,e){console.warn((e?e+": ":"")+t)},ep=function(t){ym("binding")},tp=function(t){return 0},rp=function(){return"/"},np=function(t){},ip={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},sp=hr,op=[],ap={},lp=!1,up={},cp=hr,fp=hr,Va=function(){return{}},dp=Va,hp=Va,pp=hr,gp=hr,mp=hr,bp={},yp={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},wp=hr,vp=hr,_p=hr,Ep=hr,Sp=hr,xp=hr,Tp=hr,Ap=void 0,Cp=void 0,Ip=void 0,Mp=hr,kp=2,Pp=1,Op="/bin/usr/node",Lp=9229,Rp="node",Bp=[],$p=hr,si={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},si.now===void 0&&(Ff=Date.now(),si.timing&&si.timing.navigationStart&&(Ff=si.timing.navigationStart),si.now=()=>Date.now()-Ff),Ru=1e9,Lu.bigint=function(t){var e=Lu(t);return typeof BigInt>"u"?e[0]*Ru+e[1]:BigInt(e[0]*Ru)+BigInt(e[1])},Np=10,Dp={},Up=0,Fp=ei,Vp=ei,jp=ei,Wp=ei,zp=ei,Hp=hr,qp=ei,Gp=ei,wm={version:Qh,versions:Jh,arch:qh,platform:Gh,release:ip,_rawDebug:sp,moduleLoadList:op,binding:ep,_linkedBinding:C1,_events:Dp,_eventsCount:Up,_maxListeners:Np,on:ei,addListener:Fp,once:Vp,off:jp,removeListener:Wp,removeAllListeners:zp,emit:Hp,prependListener:qp,prependOnceListener:Gp,listeners:R1,domain:ap,_exiting:lp,config:up,dlopen:I1,uptime:L1,_getActiveRequests:M1,_getActiveHandles:k1,reallyExit:cp,_kill:fp,cpuUsage:Va,resourceUsage:dp,memoryUsage:hp,kill:pp,exit:gp,openStdin:mp,allowedNodeEnvironmentFlags:bp,assert:P1,features:yp,_fatalExceptions:wp,setUncaughtExceptionCaptureCallback:vp,hasUncaughtExceptionCaptureCallback:O1,emitWarning:Zh,nextTick:T1,_tickCallback:_p,_debugProcess:Ep,_debugEnd:Sp,_startProfilerIdleNotifier:xp,_stopProfilerIdleNotifier:Tp,stdout:Ap,stdin:Ip,stderr:Cp,abort:Mp,umask:tp,chdir:np,cwd:rp,env:Yh,title:Hh,argv:Kh,execArgv:Xh,pid:kp,ppid:Pp,execPath:Op,debugPort:Lp,hrtime:Lu,argv0:Rp,_preload_modules:Bp,setSourceMapsEnabled:$p}}),Le=lr(()=>{N2()}),ur={};to(ur,{Buffer:()=>gc,INSPECT_MAX_BYTES:()=>B1,default:()=>ti,kMaxLength:()=>$1});function D2(){if(Yp)return vo;Yp=!0,vo.byteLength=o,vo.toByteArray=u,vo.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function a(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=p.indexOf("=");b===-1&&(b=g);var v=b===g?0:4-b%4;return[b,v]}function o(p){var g=a(p),b=g[0],v=g[1];return(b+v)*3/4-v}function l(p,g,b){return(g+b)*3/4-b}function u(p){var g,b=a(p),v=b[0],w=b[1],_=new r(l(p,v,w)),y=0,S=w>0?v-4:v,T;for(T=0;T<S;T+=4)g=e[p.charCodeAt(T)]<<18|e[p.charCodeAt(T+1)]<<12|e[p.charCodeAt(T+2)]<<6|e[p.charCodeAt(T+3)],_[y++]=g>>16&255,_[y++]=g>>8&255,_[y++]=g&255;return w===2&&(g=e[p.charCodeAt(T)]<<2|e[p.charCodeAt(T+1)]>>4,_[y++]=g&255),w===1&&(g=e[p.charCodeAt(T)]<<10|e[p.charCodeAt(T+1)]<<4|e[p.charCodeAt(T+2)]>>2,_[y++]=g>>8&255,_[y++]=g&255),_}function c(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,g,b){for(var v,w=[],_=g;_<b;_+=3)v=(p[_]<<16&16711680)+(p[_+1]<<8&65280)+(p[_+2]&255),w.push(c(v));return w.join("")}function d(p){for(var g,b=p.length,v=b%3,w=[],_=16383,y=0,S=b-v;y<S;y+=_)w.push(f(p,y,y+_>S?S:y+_));return v===1?(g=p[b-1],w.push(t[g>>2]+t[g<<4&63]+"==")):v===2&&(g=(p[b-2]<<8)+p[b-1],w.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),w.join("")}return vo}function U2(){return Kp?ja:(Kp=!0,ja.read=function(t,e,r,n,s){var i,a,o=s*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?s-1:0,d=r?-1:1,p=t[e+f];for(f+=d,i=p&(1<<-c)-1,p>>=-c,c+=o;c>0;i=i*256+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=a*256+t[e+f],f+=d,c-=8);if(i===0)i=1-u;else{if(i===l)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-u}return(p?-1:1)*a*Math.pow(2,i-n)},ja.write=function(t,e,r,n,s,i){var a,o,l,u=i*8-s-1,c=(1<<u)-1,f=c>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=d/l:e+=d*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(e*l-1)*Math.pow(2,s),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,s),a=0));s>=8;t[r+p]=o&255,p+=g,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;t[r+p]=a&255,p+=g,a/=256,u-=8);t[r+p-g]|=b*128},ja)}function F2(){if(Xp)return Bi;Xp=!0;let t=D2(),e=U2(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Bi.Buffer=a,Bi.SlowBuffer=w,Bi.INSPECT_MAX_BYTES=50;let n=2147483647;Bi.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let x=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(x,m),x.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function i(x){if(x>n)throw new RangeError('The value "'+x+'" is invalid for option "size"');let m=new Uint8Array(x);return Object.setPrototypeOf(m,a.prototype),m}function a(x,m,h){if(typeof x=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(x)}return o(x,m,h)}a.poolSize=8192;function o(x,m,h){if(typeof x=="string")return f(x,m);if(ArrayBuffer.isView(x))return p(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(se(x,ArrayBuffer)||x&&se(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(x,SharedArrayBuffer)||x&&se(x.buffer,SharedArrayBuffer)))return g(x,m,h);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let E=x.valueOf&&x.valueOf();if(E!=null&&E!==x)return a.from(E,m,h);let O=b(x);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return a.from(x[Symbol.toPrimitive]("string"),m,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}a.from=function(x,m,h){return o(x,m,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function u(x,m,h){return l(x),x<=0?i(x):m!==void 0?typeof h=="string"?i(x).fill(m,h):i(x).fill(m):i(x)}a.alloc=function(x,m,h){return u(x,m,h)};function c(x){return l(x),i(x<0?0:v(x)|0)}a.allocUnsafe=function(x){return c(x)},a.allocUnsafeSlow=function(x){return c(x)};function f(x,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);let h=_(x,m)|0,E=i(h),O=E.write(x,m);return O!==h&&(E=E.slice(0,O)),E}function d(x){let m=x.length<0?0:v(x.length)|0,h=i(m);for(let E=0;E<m;E+=1)h[E]=x[E]&255;return h}function p(x){if(se(x,Uint8Array)){let m=new Uint8Array(x);return g(m.buffer,m.byteOffset,m.byteLength)}return d(x)}function g(x,m,h){if(m<0||x.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<m+(h||0))throw new RangeError('"length" is outside of buffer bounds');let E;return m===void 0&&h===void 0?E=new Uint8Array(x):h===void 0?E=new Uint8Array(x,m):E=new Uint8Array(x,m,h),Object.setPrototypeOf(E,a.prototype),E}function b(x){if(a.isBuffer(x)){let m=v(x.length)|0,h=i(m);return h.length===0||x.copy(h,0,0,m),h}if(x.length!==void 0)return typeof x.length!="number"||Q(x.length)?i(0):d(x);if(x.type==="Buffer"&&Array.isArray(x.data))return d(x.data)}function v(x){if(x>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return x|0}function w(x){return+x!=x&&(x=0),a.alloc(+x)}a.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==a.prototype},a.compare=function(x,m){if(se(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),se(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(x)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===m)return 0;let h=x.length,E=m.length;for(let O=0,te=Math.min(h,E);O<te;++O)if(x[O]!==m[O]){h=x[O],E=m[O];break}return h<E?-1:E<h?1:0},a.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(x,m){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return a.alloc(0);let h;if(m===void 0)for(m=0,h=0;h<x.length;++h)m+=x[h].length;let E=a.allocUnsafe(m),O=0;for(h=0;h<x.length;++h){let te=x[h];if(se(te,Uint8Array))O+te.length>E.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(E,O)):Uint8Array.prototype.set.call(E,te,O);else if(a.isBuffer(te))te.copy(E,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=te.length}return E};function _(x,m){if(a.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||se(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);let h=x.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&h===0)return 0;let O=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return H(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Z(x).length;default:if(O)return E?-1:H(x).length;m=(""+m).toLowerCase(),O=!0}}a.byteLength=_;function y(x,m,h){let E=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,m>>>=0,h<=m))return"";for(x||(x="utf8");;)switch(x){case"hex":return N(this,m,h);case"utf8":case"utf-8":return M(this,m,h);case"ascii":return ie(this,m,h);case"latin1":case"binary":return re(this,m,h);case"base64":return I(this,m,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,m,h);default:if(E)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function S(x,m,h){let E=x[m];x[m]=x[h],x[h]=E}a.prototype.swap16=function(){let x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<x;m+=2)S(this,m,m+1);return this},a.prototype.swap32=function(){let x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<x;m+=4)S(this,m,m+3),S(this,m+1,m+2);return this},a.prototype.swap64=function(){let x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<x;m+=8)S(this,m,m+7),S(this,m+1,m+6),S(this,m+2,m+5),S(this,m+3,m+4);return this},a.prototype.toString=function(){let x=this.length;return x===0?"":arguments.length===0?M(this,0,x):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(x){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:a.compare(this,x)===0},a.prototype.inspect=function(){let x="",m=Bi.INSPECT_MAX_BYTES;return x=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(x+=" ... "),"<Buffer "+x+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(x,m,h,E,O){if(se(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(m===void 0&&(m=0),h===void 0&&(h=x?x.length:0),E===void 0&&(E=0),O===void 0&&(O=this.length),m<0||h>x.length||E<0||O>this.length)throw new RangeError("out of range index");if(E>=O&&m>=h)return 0;if(E>=O)return-1;if(m>=h)return 1;if(m>>>=0,h>>>=0,E>>>=0,O>>>=0,this===x)return 0;let te=O-E,he=h-m,Ce=Math.min(te,he),Fe=this.slice(E,O),ze=x.slice(m,h);for(let Ue=0;Ue<Ce;++Ue)if(Fe[Ue]!==ze[Ue]){te=Fe[Ue],he=ze[Ue];break}return te<he?-1:he<te?1:0};function T(x,m,h,E,O){if(x.length===0)return-1;if(typeof h=="string"?(E=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Q(h)&&(h=O?0:x.length-1),h<0&&(h=x.length+h),h>=x.length){if(O)return-1;h=x.length-1}else if(h<0)if(O)h=0;else return-1;if(typeof m=="string"&&(m=a.from(m,E)),a.isBuffer(m))return m.length===0?-1:A(x,m,h,E,O);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(x,m,h):Uint8Array.prototype.lastIndexOf.call(x,m,h):A(x,[m],h,E,O);throw new TypeError("val must be string, number or Buffer")}function A(x,m,h,E,O){let te=1,he=x.length,Ce=m.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(x.length<2||m.length<2)return-1;te=2,he/=2,Ce/=2,h/=2}function Fe(Ue,qe){return te===1?Ue[qe]:Ue.readUInt16BE(qe*te)}let ze;if(O){let Ue=-1;for(ze=h;ze<he;ze++)if(Fe(x,ze)===Fe(m,Ue===-1?0:ze-Ue)){if(Ue===-1&&(Ue=ze),ze-Ue+1===Ce)return Ue*te}else Ue!==-1&&(ze-=ze-Ue),Ue=-1}else for(h+Ce>he&&(h=he-Ce),ze=h;ze>=0;ze--){let Ue=!0;for(let qe=0;qe<Ce;qe++)if(Fe(x,ze+qe)!==Fe(m,qe)){Ue=!1;break}if(Ue)return ze}return-1}a.prototype.includes=function(x,m,h){return this.indexOf(x,m,h)!==-1},a.prototype.indexOf=function(x,m,h){return T(this,x,m,h,!0)},a.prototype.lastIndexOf=function(x,m,h){return T(this,x,m,h,!1)};function C(x,m,h,E){h=Number(h)||0;let O=x.length-h;E?(E=Number(E),E>O&&(E=O)):E=O;let te=m.length;E>te/2&&(E=te/2);let he;for(he=0;he<E;++he){let Ce=parseInt(m.substr(he*2,2),16);if(Q(Ce))return he;x[h+he]=Ce}return he}function L(x,m,h,E){return Y(H(m,x.length-h),x,h,E)}function j(x,m,h,E){return Y(q(m),x,h,E)}function F(x,m,h,E){return Y(Z(m),x,h,E)}function $(x,m,h,E){return Y(ue(m,x.length-h),x,h,E)}a.prototype.write=function(x,m,h,E){if(m===void 0)E="utf8",h=this.length,m=0;else if(h===void 0&&typeof m=="string")E=m,h=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(h)?(h=h>>>0,E===void 0&&(E="utf8")):(E=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let O=this.length-m;if((h===void 0||h>O)&&(h=O),x.length>0&&(h<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let te=!1;for(;;)switch(E){case"hex":return C(this,x,m,h);case"utf8":case"utf-8":return L(this,x,m,h);case"ascii":case"latin1":case"binary":return j(this,x,m,h);case"base64":return F(this,x,m,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,x,m,h);default:if(te)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(x,m,h){return m===0&&h===x.length?t.fromByteArray(x):t.fromByteArray(x.slice(m,h))}function M(x,m,h){h=Math.min(x.length,h);let E=[],O=m;for(;O<h;){let te=x[O],he=null,Ce=te>239?4:te>223?3:te>191?2:1;if(O+Ce<=h){let Fe,ze,Ue,qe;switch(Ce){case 1:te<128&&(he=te);break;case 2:Fe=x[O+1],(Fe&192)===128&&(qe=(te&31)<<6|Fe&63,qe>127&&(he=qe));break;case 3:Fe=x[O+1],ze=x[O+2],(Fe&192)===128&&(ze&192)===128&&(qe=(te&15)<<12|(Fe&63)<<6|ze&63,qe>2047&&(qe<55296||qe>57343)&&(he=qe));break;case 4:Fe=x[O+1],ze=x[O+2],Ue=x[O+3],(Fe&192)===128&&(ze&192)===128&&(Ue&192)===128&&(qe=(te&15)<<18|(Fe&63)<<12|(ze&63)<<6|Ue&63,qe>65535&&qe<1114112&&(he=qe))}}he===null?(he=65533,Ce=1):he>65535&&(he-=65536,E.push(he>>>10&1023|55296),he=56320|he&1023),E.push(he),O+=Ce}return J(E)}let B=4096;function J(x){let m=x.length;if(m<=B)return String.fromCharCode.apply(String,x);let h="",E=0;for(;E<m;)h+=String.fromCharCode.apply(String,x.slice(E,E+=B));return h}function ie(x,m,h){let E="";h=Math.min(x.length,h);for(let O=m;O<h;++O)E+=String.fromCharCode(x[O]&127);return E}function re(x,m,h){let E="";h=Math.min(x.length,h);for(let O=m;O<h;++O)E+=String.fromCharCode(x[O]);return E}function N(x,m,h){let E=x.length;(!m||m<0)&&(m=0),(!h||h<0||h>E)&&(h=E);let O="";for(let te=m;te<h;++te)O+=oe[x[te]];return O}function fe(x,m,h){let E=x.slice(m,h),O="";for(let te=0;te<E.length-1;te+=2)O+=String.fromCharCode(E[te]+E[te+1]*256);return O}a.prototype.slice=function(x,m){let h=this.length;x=~~x,m=m===void 0?h:~~m,x<0?(x+=h,x<0&&(x=0)):x>h&&(x=h),m<0?(m+=h,m<0&&(m=0)):m>h&&(m=h),m<x&&(m=x);let E=this.subarray(x,m);return Object.setPrototypeOf(E,a.prototype),E};function G(x,m,h){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+m>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(x,m,h){x=x>>>0,m=m>>>0,h||G(x,m,this.length);let E=this[x],O=1,te=0;for(;++te<m&&(O*=256);)E+=this[x+te]*O;return E},a.prototype.readUintBE=a.prototype.readUIntBE=function(x,m,h){x=x>>>0,m=m>>>0,h||G(x,m,this.length);let E=this[x+--m],O=1;for(;m>0&&(O*=256);)E+=this[x+--m]*O;return E},a.prototype.readUint8=a.prototype.readUInt8=function(x,m){return x=x>>>0,m||G(x,1,this.length),this[x]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(x,m){return x=x>>>0,m||G(x,2,this.length),this[x]|this[x+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(x,m){return x=x>>>0,m||G(x,2,this.length),this[x]<<8|this[x+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(x,m){return x=x>>>0,m||G(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(x,m){return x=x>>>0,m||G(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},a.prototype.readBigUInt64LE=me(function(x){x=x>>>0,k(x,"offset");let m=this[x],h=this[x+7];(m===void 0||h===void 0)&&P(x,this.length-8);let E=m+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,O=this[++x]+this[++x]*2**8+this[++x]*2**16+h*2**24;return BigInt(E)+(BigInt(O)<<BigInt(32))}),a.prototype.readBigUInt64BE=me(function(x){x=x>>>0,k(x,"offset");let m=this[x],h=this[x+7];(m===void 0||h===void 0)&&P(x,this.length-8);let E=m*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],O=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+h;return(BigInt(E)<<BigInt(32))+BigInt(O)}),a.prototype.readIntLE=function(x,m,h){x=x>>>0,m=m>>>0,h||G(x,m,this.length);let E=this[x],O=1,te=0;for(;++te<m&&(O*=256);)E+=this[x+te]*O;return O*=128,E>=O&&(E-=Math.pow(2,8*m)),E},a.prototype.readIntBE=function(x,m,h){x=x>>>0,m=m>>>0,h||G(x,m,this.length);let E=m,O=1,te=this[x+--E];for(;E>0&&(O*=256);)te+=this[x+--E]*O;return O*=128,te>=O&&(te-=Math.pow(2,8*m)),te},a.prototype.readInt8=function(x,m){return x=x>>>0,m||G(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},a.prototype.readInt16LE=function(x,m){x=x>>>0,m||G(x,2,this.length);let h=this[x]|this[x+1]<<8;return h&32768?h|4294901760:h},a.prototype.readInt16BE=function(x,m){x=x>>>0,m||G(x,2,this.length);let h=this[x+1]|this[x]<<8;return h&32768?h|4294901760:h},a.prototype.readInt32LE=function(x,m){return x=x>>>0,m||G(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},a.prototype.readInt32BE=function(x,m){return x=x>>>0,m||G(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},a.prototype.readBigInt64LE=me(function(x){x=x>>>0,k(x,"offset");let m=this[x],h=this[x+7];(m===void 0||h===void 0)&&P(x,this.length-8);let E=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(h<<24);return(BigInt(E)<<BigInt(32))+BigInt(m+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),a.prototype.readBigInt64BE=me(function(x){x=x>>>0,k(x,"offset");let m=this[x],h=this[x+7];(m===void 0||h===void 0)&&P(x,this.length-8);let E=(m<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(E)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+h)}),a.prototype.readFloatLE=function(x,m){return x=x>>>0,m||G(x,4,this.length),e.read(this,x,!0,23,4)},a.prototype.readFloatBE=function(x,m){return x=x>>>0,m||G(x,4,this.length),e.read(this,x,!1,23,4)},a.prototype.readDoubleLE=function(x,m){return x=x>>>0,m||G(x,8,this.length),e.read(this,x,!0,52,8)},a.prototype.readDoubleBE=function(x,m){return x=x>>>0,m||G(x,8,this.length),e.read(this,x,!1,52,8)};function pe(x,m,h,E,O,te){if(!a.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>O||m<te)throw new RangeError('"value" argument is out of bounds');if(h+E>x.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(x,m,h,E){if(x=+x,m=m>>>0,h=h>>>0,!E){let he=Math.pow(2,8*h)-1;pe(this,x,m,h,he,0)}let O=1,te=0;for(this[m]=x&255;++te<h&&(O*=256);)this[m+te]=x/O&255;return m+h},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(x,m,h,E){if(x=+x,m=m>>>0,h=h>>>0,!E){let he=Math.pow(2,8*h)-1;pe(this,x,m,h,he,0)}let O=h-1,te=1;for(this[m+O]=x&255;--O>=0&&(te*=256);)this[m+O]=x/te&255;return m+h},a.prototype.writeUint8=a.prototype.writeUInt8=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,1,255,0),this[m]=x&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,2,65535,0),this[m]=x&255,this[m+1]=x>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,2,65535,0),this[m]=x>>>8,this[m+1]=x&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,4,4294967295,0),this[m+3]=x>>>24,this[m+2]=x>>>16,this[m+1]=x>>>8,this[m]=x&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,4,4294967295,0),this[m]=x>>>24,this[m+1]=x>>>16,this[m+2]=x>>>8,this[m+3]=x&255,m+4};function U(x,m,h,E,O){le(m,E,O,x,h,7);let te=Number(m&BigInt(4294967295));x[h++]=te,te=te>>8,x[h++]=te,te=te>>8,x[h++]=te,te=te>>8,x[h++]=te;let he=Number(m>>BigInt(32)&BigInt(4294967295));return x[h++]=he,he=he>>8,x[h++]=he,he=he>>8,x[h++]=he,he=he>>8,x[h++]=he,h}function de(x,m,h,E,O){le(m,E,O,x,h,7);let te=Number(m&BigInt(4294967295));x[h+7]=te,te=te>>8,x[h+6]=te,te=te>>8,x[h+5]=te,te=te>>8,x[h+4]=te;let he=Number(m>>BigInt(32)&BigInt(4294967295));return x[h+3]=he,he=he>>8,x[h+2]=he,he=he>>8,x[h+1]=he,he=he>>8,x[h]=he,h+8}a.prototype.writeBigUInt64LE=me(function(x,m=0){return U(this,x,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=me(function(x,m=0){return de(this,x,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(x,m,h,E){if(x=+x,m=m>>>0,!E){let Ce=Math.pow(2,8*h-1);pe(this,x,m,h,Ce-1,-Ce)}let O=0,te=1,he=0;for(this[m]=x&255;++O<h&&(te*=256);)x<0&&he===0&&this[m+O-1]!==0&&(he=1),this[m+O]=(x/te>>0)-he&255;return m+h},a.prototype.writeIntBE=function(x,m,h,E){if(x=+x,m=m>>>0,!E){let Ce=Math.pow(2,8*h-1);pe(this,x,m,h,Ce-1,-Ce)}let O=h-1,te=1,he=0;for(this[m+O]=x&255;--O>=0&&(te*=256);)x<0&&he===0&&this[m+O+1]!==0&&(he=1),this[m+O]=(x/te>>0)-he&255;return m+h},a.prototype.writeInt8=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,1,127,-128),x<0&&(x=255+x+1),this[m]=x&255,m+1},a.prototype.writeInt16LE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,2,32767,-32768),this[m]=x&255,this[m+1]=x>>>8,m+2},a.prototype.writeInt16BE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,2,32767,-32768),this[m]=x>>>8,this[m+1]=x&255,m+2},a.prototype.writeInt32LE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,4,2147483647,-2147483648),this[m]=x&255,this[m+1]=x>>>8,this[m+2]=x>>>16,this[m+3]=x>>>24,m+4},a.prototype.writeInt32BE=function(x,m,h){return x=+x,m=m>>>0,h||pe(this,x,m,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[m]=x>>>24,this[m+1]=x>>>16,this[m+2]=x>>>8,this[m+3]=x&255,m+4},a.prototype.writeBigInt64LE=me(function(x,m=0){return U(this,x,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=me(function(x,m=0){return de(this,x,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(x,m,h,E,O,te){if(h+E>x.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function ee(x,m,h,E,O){return m=+m,h=h>>>0,O||xe(x,m,h,4),e.write(x,m,h,E,23,4),h+4}a.prototype.writeFloatLE=function(x,m,h){return ee(this,x,m,!0,h)},a.prototype.writeFloatBE=function(x,m,h){return ee(this,x,m,!1,h)};function K(x,m,h,E,O){return m=+m,h=h>>>0,O||xe(x,m,h,8),e.write(x,m,h,E,52,8),h+8}a.prototype.writeDoubleLE=function(x,m,h){return K(this,x,m,!0,h)},a.prototype.writeDoubleBE=function(x,m,h){return K(this,x,m,!1,h)},a.prototype.copy=function(x,m,h,E){if(!a.isBuffer(x))throw new TypeError("argument should be a Buffer");if(h||(h=0),!E&&E!==0&&(E=this.length),m>=x.length&&(m=x.length),m||(m=0),E>0&&E<h&&(E=h),E===h||x.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),x.length-m<E-h&&(E=x.length-m+h);let O=E-h;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,h,E):Uint8Array.prototype.set.call(x,this.subarray(h,E),m),O},a.prototype.fill=function(x,m,h,E){if(typeof x=="string"){if(typeof m=="string"?(E=m,m=0,h=this.length):typeof h=="string"&&(E=h,h=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(x.length===1){let te=x.charCodeAt(0);(E==="utf8"&&te<128||E==="latin1")&&(x=te)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(m<0||this.length<m||this.length<h)throw new RangeError("Out of range index");if(h<=m)return this;m=m>>>0,h=h===void 0?this.length:h>>>0,x||(x=0);let O;if(typeof x=="number")for(O=m;O<h;++O)this[O]=x;else{let te=a.isBuffer(x)?x:a.from(x,E),he=te.length;if(he===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(O=0;O<h-m;++O)this[O+m]=te[O%he]}return this};let W={};function D(x,m,h){W[x]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(E){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:E,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}D("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(x,m){return`The "${x}" argument must be of type number. Received type ${typeof m}`},TypeError),D("ERR_OUT_OF_RANGE",function(x,m,h){let E=`The value of "${x}" is out of range.`,O=h;return Number.isInteger(h)&&Math.abs(h)>2**32?O=X(String(h)):typeof h=="bigint"&&(O=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(O=X(O)),O+="n"),E+=` It must be ${m}. Received ${O}`,E},RangeError);function X(x){let m="",h=x.length,E=x[0]==="-"?1:0;for(;h>=E+4;h-=3)m=`_${x.slice(h-3,h)}${m}`;return`${x.slice(0,h)}${m}`}function ce(x,m,h){k(m,"offset"),(x[m]===void 0||x[m+h]===void 0)&&P(m,x.length-(h+1))}function le(x,m,h,E,O,te){if(x>h||x<m){let he=typeof m=="bigint"?"n":"",Ce;throw m===0||m===BigInt(0)?Ce=`>= 0${he} and < 2${he} ** ${(te+1)*8}${he}`:Ce=`>= -(2${he} ** ${(te+1)*8-1}${he}) and < 2 ** ${(te+1)*8-1}${he}`,new W.ERR_OUT_OF_RANGE("value",Ce,x)}ce(E,O,te)}function k(x,m){if(typeof x!="number")throw new W.ERR_INVALID_ARG_TYPE(m,"number",x)}function P(x,m,h){throw Math.floor(x)!==x?(k(x,h),new W.ERR_OUT_OF_RANGE("offset","an integer",x)):m<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,x)}let V=/[^+/0-9A-Za-z-_]/g;function R(x){if(x=x.split("=")[0],x=x.trim().replace(V,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function H(x,m){m=m||1/0;let h,E=x.length,O=null,te=[];for(let he=0;he<E;++he){if(h=x.charCodeAt(he),h>55295&&h<57344){if(!O){if(h>56319){(m-=3)>-1&&te.push(239,191,189);continue}else if(he+1===E){(m-=3)>-1&&te.push(239,191,189);continue}O=h;continue}if(h<56320){(m-=3)>-1&&te.push(239,191,189),O=h;continue}h=(O-55296<<10|h-56320)+65536}else O&&(m-=3)>-1&&te.push(239,191,189);if(O=null,h<128){if((m-=1)<0)break;te.push(h)}else if(h<2048){if((m-=2)<0)break;te.push(h>>6|192,h&63|128)}else if(h<65536){if((m-=3)<0)break;te.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((m-=4)<0)break;te.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return te}function q(x){let m=[];for(let h=0;h<x.length;++h)m.push(x.charCodeAt(h)&255);return m}function ue(x,m){let h,E,O,te=[];for(let he=0;he<x.length&&!((m-=2)<0);++he)h=x.charCodeAt(he),E=h>>8,O=h%256,te.push(O),te.push(E);return te}function Z(x){return t.toByteArray(R(x))}function Y(x,m,h,E){let O;for(O=0;O<E&&!(O+h>=m.length||O>=x.length);++O)m[O+h]=x[O];return O}function se(x,m){return x instanceof m||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===m.name}function Q(x){return x!==x}let oe=function(){let x="0123456789abcdef",m=new Array(256);for(let h=0;h<16;++h){let E=h*16;for(let O=0;O<16;++O)m[E+O]=x[h]+x[O]}return m}();function me(x){return typeof BigInt>"u"?Te:x}function Te(){throw new Error("BigInt not supported")}return Bi}var vo,Yp,ja,Kp,Bi,Xp,ti,gc,B1,$1,cr=lr(()=>{Oe(),Re(),Le(),vo={},Yp=!1,ja={},Kp=!1,Bi={},Xp=!1,ti=F2(),ti.Buffer,ti.SlowBuffer,ti.INSPECT_MAX_BYTES,ti.kMaxLength,gc=ti.Buffer,B1=ti.INSPECT_MAX_BYTES,$1=ti.kMaxLength}),Re=lr(()=>{cr()}),V2=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};t.default=e}),Jt=De((t,e)=>{Oe(),Re(),Le(),e.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,n){return r.includes(n)},ArrayPrototypeIndexOf(r,n){return r.indexOf(n)},ArrayPrototypeJoin(r,n){return r.join(n)},ArrayPrototypeMap(r,n){return r.map(n)},ArrayPrototypePop(r,n){return r.pop(n)},ArrayPrototypePush(r,n){return r.push(n)},ArrayPrototypeSlice(r,n,s){return r.slice(n,s)},Error,FunctionPrototypeCall(r,n,...s){return r.call(n,...s)},FunctionPrototypeSymbolHasInstance(r,n){return Function.prototype[Symbol.hasInstance].call(r,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,n){return Object.defineProperties(r,n)},ObjectDefineProperty(r,n,s){return Object.defineProperty(r,n,s)},ObjectGetOwnPropertyDescriptor(r,n){return Object.getOwnPropertyDescriptor(r,n)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,n){return Object.setPrototypeOf(r,n)},Promise,PromisePrototypeCatch(r,n){return r.catch(n)},PromisePrototypeThen(r,n,s){return r.then(n,s)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,n){return r.test(n)},SafeSet:Set,String,StringPrototypeSlice(r,n,s){return r.slice(n,s)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,n,s){return r.set(n,s)},Uint8Array}}),Ei=De((t,e)=>{Oe(),Re(),Le();var r=(cr(),At(ur)),n=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||r.Blob,i=typeof s<"u"?function(o){return o instanceof s}:function(o){return!1},a=class extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let l="";for(let u=0;u<o.length;u++)l+=`    ${o[u].stack}
`;super(l),this.name="AggregateError",this.errors=o}};e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(o){let l=!1;return function(...u){l||(l=!0,o.apply(this,u))}},createDeferredPromise:function(){let o,l;return{promise:new Promise((u,c)=>{o=u,l=c}),resolve:o,reject:l}},promisify(o){return new Promise((l,u)=>{o((c,...f)=>c?u(c):l(...f))})},debuglog(){return function(){}},format(o,...l){return o.replace(/%([sdifj])/g,function(...[u,c]){let f=l.shift();return c==="f"?f.toFixed(6):c==="j"?JSON.stringify(f):c==="s"&&typeof f=="object"?`${f.constructor!==Object?f.constructor.name:""} {}`.trim():f.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof n},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:i},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),vm=De((t,e)=>{Oe(),Re(),Le();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=r,e.exports.AbortSignal=n,e.exports.default=r}),Br=De((t,e)=>{Oe(),Re(),Le();var{format:r,inspect:n,AggregateError:s}=Ei(),i=globalThis.AggregateError||s,a=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",c={};function f(_,y){if(!_)throw new c.ERR_INTERNAL_ASSERTION(y)}function d(_){let y="",S=_.length,T=_[0]==="-"?1:0;for(;S>=T+4;S-=3)y=`_${_.slice(S-3,S)}${y}`;return`${_.slice(0,S)}${y}`}function p(_,y,S){if(typeof y=="function")return f(y.length<=S.length,`Code: ${_}; The provided arguments length (${S.length}) does not match the required ones (${y.length}).`),y(...S);let T=(y.match(/%[dfijoOs]/g)||[]).length;return f(T===S.length,`Code: ${_}; The provided arguments length (${S.length}) does not match the required ones (${T}).`),S.length===0?y:r(y,...S)}function g(_,y,S){S||(S=Error);class T extends S{constructor(...C){super(p(_,y,C))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:S.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=_,T.prototype[a]=!0,c[_]=T}function b(_){let y=u+_.name;return Object.defineProperty(_,"name",{value:y}),_}function v(_,y){if(_&&y&&_!==y){if(Array.isArray(y.errors))return y.errors.push(_),y;let S=new i([y,_],y.message);return S.code=y.code,S}return _||y}var w=class extends Error{constructor(_="The operation was aborted",y=void 0){if(y!==void 0&&typeof y!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",y);super(_,y),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(_,y,S)=>{f(typeof _=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let T="The ";_.endsWith(" argument")?T+=`${_} `:T+=`"${_}" ${_.includes(".")?"property":"argument"} `,T+="must be ";let A=[],C=[],L=[];for(let F of y)f(typeof F=="string","All expected entries have to be of type string"),o.includes(F)?A.push(F.toLowerCase()):l.test(F)?C.push(F):(f(F!=="object",'The value "object" should be written as "Object"'),L.push(F));if(C.length>0){let F=A.indexOf("object");F!==-1&&(A.splice(A,F,1),C.push("Object"))}if(A.length>0){switch(A.length){case 1:T+=`of type ${A[0]}`;break;case 2:T+=`one of type ${A[0]} or ${A[1]}`;break;default:{let F=A.pop();T+=`one of type ${A.join(", ")}, or ${F}`}}(C.length>0||L.length>0)&&(T+=" or ")}if(C.length>0){switch(C.length){case 1:T+=`an instance of ${C[0]}`;break;case 2:T+=`an instance of ${C[0]} or ${C[1]}`;break;default:{let F=C.pop();T+=`an instance of ${C.join(", ")}, or ${F}`}}L.length>0&&(T+=" or ")}switch(L.length){case 0:break;case 1:L[0].toLowerCase()!==L[0]&&(T+="an "),T+=`${L[0]}`;break;case 2:T+=`one of ${L[0]} or ${L[1]}`;break;default:{let F=L.pop();T+=`one of ${L.join(", ")}, or ${F}`}}if(S==null)T+=`. Received ${S}`;else if(typeof S=="function"&&S.name)T+=`. Received function ${S.name}`;else if(typeof S=="object"){var j;if((j=S.constructor)!==null&&j!==void 0&&j.name)T+=`. Received an instance of ${S.constructor.name}`;else{let F=n(S,{depth:-1});T+=`. Received ${F}`}}else{let F=n(S,{colors:!1});F.length>25&&(F=`${F.slice(0,25)}...`),T+=`. Received type ${typeof S} (${F})`}return T},TypeError),g("ERR_INVALID_ARG_VALUE",(_,y,S="is invalid")=>{let T=n(y);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${S}. Received ${T}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(_,y,S)=>{var T;let A=S!=null&&(T=S.constructor)!==null&&T!==void 0&&T.name?`instance of ${S.constructor.name}`:`type ${typeof S}`;return`Expected ${_} to be returned from the "${y}" function but got ${A}.`},TypeError),g("ERR_MISSING_ARGS",(..._)=>{f(_.length>0,"At least one arg needs to be specified");let y,S=_.length;switch(_=(Array.isArray(_)?_:[_]).map(T=>`"${T}"`).join(" or "),S){case 1:y+=`The ${_[0]} argument`;break;case 2:y+=`The ${_[0]} and ${_[1]} arguments`;break;default:{let T=_.pop();y+=`The ${_.join(", ")}, and ${T} arguments`}break}return`${y} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(_,y,S)=>{f(y,'Missing "range" argument');let T;return Number.isInteger(S)&&Math.abs(S)>2**32?T=d(String(S)):typeof S=="bigint"?(T=String(S),(S>2n**32n||S<-(2n**32n))&&(T=d(T)),T+="n"):T=n(S),`The value of "${_}" is out of range. It must be ${y}. Received ${T}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:w,aggregateTwoErrors:b(v),hideStackFrames:b,codes:c}}),Kc=De((t,e)=>{Oe(),Re(),Le();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:s,ArrayPrototypeMap:i,NumberIsInteger:a,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:b}=Jt(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:T}}=Br(),{normalizeEncoding:A}=Ei(),{isAsyncFunction:C,isArrayBufferView:L}=Ei().types,j={};function F(Y){return Y===(Y|0)}function $(Y){return Y===Y>>>0}var I=/^[0-7]+$/,M="must be a 32-bit unsigned integer or an octal string";function B(Y,se,Q){if(typeof Y>"u"&&(Y=Q),typeof Y=="string"){if(d(I,Y)===null)throw new y(se,Y,M);Y=c(Y,8)}return re(Y,se),Y}var J=v((Y,se,Q=u,oe=l)=>{if(typeof Y!="number")throw new _(se,"number",Y);if(!a(Y))throw new S(se,"an integer",Y);if(Y<Q||Y>oe)throw new S(se,`>= ${Q} && <= ${oe}`,Y)}),ie=v((Y,se,Q=-2147483648,oe=2147483647)=>{if(typeof Y!="number")throw new _(se,"number",Y);if(!a(Y))throw new S(se,"an integer",Y);if(Y<Q||Y>oe)throw new S(se,`>= ${Q} && <= ${oe}`,Y)}),re=v((Y,se,Q=!1)=>{if(typeof Y!="number")throw new _(se,"number",Y);if(!a(Y))throw new S(se,"an integer",Y);let oe=Q?1:0,me=4294967295;if(Y<oe||Y>me)throw new S(se,`>= ${oe} && <= ${me}`,Y)});function N(Y,se){if(typeof Y!="string")throw new _(se,"string",Y)}function fe(Y,se,Q=void 0,oe){if(typeof Y!="number")throw new _(se,"number",Y);if(Q!=null&&Y<Q||oe!=null&&Y>oe||(Q!=null||oe!=null)&&o(Y))throw new S(se,`${Q!=null?`>= ${Q}`:""}${Q!=null&&oe!=null?" && ":""}${oe!=null?`<= ${oe}`:""}`,Y)}var G=v((Y,se,Q)=>{if(!n(Q,Y)){let oe="must be one of: "+s(i(Q,me=>typeof me=="string"?`'${me}'`:p(me)),", ");throw new y(se,Y,oe)}});function pe(Y,se){if(typeof Y!="boolean")throw new _(se,"boolean",Y)}function U(Y,se,Q){return Y==null||!f(Y,se)?Q:Y[se]}var de=v((Y,se,Q=null)=>{let oe=U(Q,"allowArray",!1),me=U(Q,"allowFunction",!1);if(!U(Q,"nullable",!1)&&Y===null||!oe&&r(Y)||typeof Y!="object"&&(!me||typeof Y!="function"))throw new _(se,"Object",Y)}),xe=v((Y,se)=>{if(Y!=null&&typeof Y!="object"&&typeof Y!="function")throw new _(se,"a dictionary",Y)}),ee=v((Y,se,Q=0)=>{if(!r(Y))throw new _(se,"Array",Y);if(Y.length<Q){let oe=`must be longer than ${Q}`;throw new y(se,Y,oe)}});function K(Y,se){ee(Y,se);for(let Q=0;Q<Y.length;Q++)N(Y[Q],`${se}[${Q}]`)}function W(Y,se){ee(Y,se);for(let Q=0;Q<Y.length;Q++)pe(Y[Q],`${se}[${Q}]`)}function D(Y,se="signal"){if(N(Y,se),j[Y]===void 0)throw j[g(Y)]!==void 0?new T(Y+" (signals must use all capital letters)"):new T(Y)}var X=v((Y,se="buffer")=>{if(!L(Y))throw new _(se,["Buffer","TypedArray","DataView"],Y)});function ce(Y,se){let Q=A(se),oe=Y.length;if(Q==="hex"&&oe%2!==0)throw new y("encoding",se,`is invalid for data of length ${oe}`)}function le(Y,se="Port",Q=!0){if(typeof Y!="number"&&typeof Y!="string"||typeof Y=="string"&&b(Y).length===0||+Y!==+Y>>>0||Y>65535||Y===0&&!Q)throw new w(se,Y,Q);return Y|0}var k=v((Y,se)=>{if(Y!==void 0&&(Y===null||typeof Y!="object"||!("aborted"in Y)))throw new _(se,"AbortSignal",Y)}),P=v((Y,se)=>{if(typeof Y!="function")throw new _(se,"Function",Y)}),V=v((Y,se)=>{if(typeof Y!="function"||C(Y))throw new _(se,"Function",Y)}),R=v((Y,se)=>{if(Y!==void 0)throw new _(se,"undefined",Y)});function H(Y,se,Q){if(!n(Q,Y))throw new _(se,`('${s(Q,"|")}')`,Y)}var q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(Y,se){if(typeof Y>"u"||!d(q,Y))throw new y(se,Y,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Z(Y){if(typeof Y=="string")return ue(Y,"hints"),Y;if(r(Y)){let se=Y.length,Q="";if(se===0)return Q;for(let oe=0;oe<se;oe++){let me=Y[oe];ue(me,"hints"),Q+=me,oe!==se-1&&(Q+=", ")}return Q}throw new y("hints",Y,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:F,isUint32:$,parseFileMode:B,validateArray:ee,validateStringArray:K,validateBooleanArray:W,validateBoolean:pe,validateBuffer:X,validateDictionary:xe,validateEncoding:ce,validateFunction:P,validateInt32:ie,validateInteger:J,validateNumber:fe,validateObject:de,validateOneOf:G,validatePlainFunction:V,validatePort:le,validateSignalName:D,validateString:N,validateUint32:re,validateUndefined:R,validateUnion:H,validateAbortSignal:k,validateLinkHeaderValue:Z}}),ro=De((t,e)=>{Oe(),Re(),Le();var r=e.exports={},n,s;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?s=clearTimeout:s=a}catch{s=a}})();function o(w){if(n===setTimeout)return setTimeout(w,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(w,0);try{return n(w,0)}catch{try{return n.call(null,w,0)}catch{return n.call(this,w,0)}}}function l(w){if(s===clearTimeout)return clearTimeout(w);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(w);try{return s(w)}catch{try{return s.call(null,w)}catch{return s.call(this,w)}}}var u=[],c=!1,f,d=-1;function p(){!c||!f||(c=!1,f.length?u=f.concat(u):d=-1,u.length&&g())}function g(){if(!c){var w=o(p);c=!0;for(var _=u.length;_;){for(f=u,u=[];++d<_;)f&&f[d].run();d=-1,_=u.length}f=null,c=!1,l(w)}}r.nextTick=function(w){var _=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)_[y-1]=arguments[y];u.push(new b(w,_)),u.length===1&&!c&&o(g)};function b(w,_){this.fun=w,this.array=_}b.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function v(){}r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(w){return[]},r.binding=function(w){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(w){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Mi=De((t,e)=>{Oe(),Re(),Le();var{Symbol:r,SymbolAsyncIterator:n,SymbolIterator:s,SymbolFor:i}=Jt(),a=r("kDestroyed"),o=r("kIsErrored"),l=r("kIsReadable"),u=r("kIsDisturbed"),c=i("nodejs.webstream.isClosedPromise"),f=i("nodejs.webstream.controllerErrorFunction");function d(U,de=!1){var xe;return!!(U&&typeof U.pipe=="function"&&typeof U.on=="function"&&(!de||typeof U.pause=="function"&&typeof U.resume=="function")&&(!U._writableState||((xe=U._readableState)===null||xe===void 0?void 0:xe.readable)!==!1)&&(!U._writableState||U._readableState))}function p(U){var de;return!!(U&&typeof U.write=="function"&&typeof U.on=="function"&&(!U._readableState||((de=U._writableState)===null||de===void 0?void 0:de.writable)!==!1))}function g(U){return!!(U&&typeof U.pipe=="function"&&U._readableState&&typeof U.on=="function"&&typeof U.write=="function")}function b(U){return U&&(U._readableState||U._writableState||typeof U.write=="function"&&typeof U.on=="function"||typeof U.pipe=="function"&&typeof U.on=="function")}function v(U){return!!(U&&!b(U)&&typeof U.pipeThrough=="function"&&typeof U.getReader=="function"&&typeof U.cancel=="function")}function w(U){return!!(U&&!b(U)&&typeof U.getWriter=="function"&&typeof U.abort=="function")}function _(U){return!!(U&&!b(U)&&typeof U.readable=="object"&&typeof U.writable=="object")}function y(U){return v(U)||w(U)||_(U)}function S(U,de){return U==null?!1:de===!0?typeof U[n]=="function":de===!1?typeof U[s]=="function":typeof U[n]=="function"||typeof U[s]=="function"}function T(U){if(!b(U))return null;let de=U._writableState,xe=U._readableState,ee=de||xe;return!!(U.destroyed||U[a]||ee!=null&&ee.destroyed)}function A(U){if(!p(U))return null;if(U.writableEnded===!0)return!0;let de=U._writableState;return de!=null&&de.errored?!1:typeof(de==null?void 0:de.ended)!="boolean"?null:de.ended}function C(U,de){if(!p(U))return null;if(U.writableFinished===!0)return!0;let xe=U._writableState;return xe!=null&&xe.errored?!1:typeof(xe==null?void 0:xe.finished)!="boolean"?null:!!(xe.finished||de===!1&&xe.ended===!0&&xe.length===0)}function L(U){if(!d(U))return null;if(U.readableEnded===!0)return!0;let de=U._readableState;return!de||de.errored?!1:typeof(de==null?void 0:de.ended)!="boolean"?null:de.ended}function j(U,de){if(!d(U))return null;let xe=U._readableState;return xe!=null&&xe.errored?!1:typeof(xe==null?void 0:xe.endEmitted)!="boolean"?null:!!(xe.endEmitted||de===!1&&xe.ended===!0&&xe.length===0)}function F(U){return U&&U[l]!=null?U[l]:typeof(U==null?void 0:U.readable)!="boolean"?null:T(U)?!1:d(U)&&U.readable&&!j(U)}function $(U){return typeof(U==null?void 0:U.writable)!="boolean"?null:T(U)?!1:p(U)&&U.writable&&!A(U)}function I(U,de){return b(U)?T(U)?!0:!((de==null?void 0:de.readable)!==!1&&F(U)||(de==null?void 0:de.writable)!==!1&&$(U)):null}function M(U){var de,xe;return b(U)?U.writableErrored?U.writableErrored:(de=(xe=U._writableState)===null||xe===void 0?void 0:xe.errored)!==null&&de!==void 0?de:null:null}function B(U){var de,xe;return b(U)?U.readableErrored?U.readableErrored:(de=(xe=U._readableState)===null||xe===void 0?void 0:xe.errored)!==null&&de!==void 0?de:null:null}function J(U){if(!b(U))return null;if(typeof U.closed=="boolean")return U.closed;let de=U._writableState,xe=U._readableState;return typeof(de==null?void 0:de.closed)=="boolean"||typeof(xe==null?void 0:xe.closed)=="boolean"?(de==null?void 0:de.closed)||(xe==null?void 0:xe.closed):typeof U._closed=="boolean"&&ie(U)?U._closed:null}function ie(U){return typeof U._closed=="boolean"&&typeof U._defaultKeepAlive=="boolean"&&typeof U._removedConnection=="boolean"&&typeof U._removedContLen=="boolean"}function re(U){return typeof U._sent100=="boolean"&&ie(U)}function N(U){var de;return typeof U._consuming=="boolean"&&typeof U._dumped=="boolean"&&((de=U.req)===null||de===void 0?void 0:de.upgradeOrConnect)===void 0}function fe(U){if(!b(U))return null;let de=U._writableState,xe=U._readableState,ee=de||xe;return!ee&&re(U)||!!(ee&&ee.autoDestroy&&ee.emitClose&&ee.closed===!1)}function G(U){var de;return!!(U&&((de=U[u])!==null&&de!==void 0?de:U.readableDidRead||U.readableAborted))}function pe(U){var de,xe,ee,K,W,D,X,ce,le,k;return!!(U&&((de=(xe=(ee=(K=(W=(D=U[o])!==null&&D!==void 0?D:U.readableErrored)!==null&&W!==void 0?W:U.writableErrored)!==null&&K!==void 0?K:(X=U._readableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&ee!==void 0?ee:(ce=U._writableState)===null||ce===void 0?void 0:ce.errorEmitted)!==null&&xe!==void 0?xe:(le=U._readableState)===null||le===void 0?void 0:le.errored)!==null&&de!==void 0?de:!((k=U._writableState)===null||k===void 0)&&k.errored))}e.exports={kDestroyed:a,isDisturbed:G,kIsDisturbed:u,isErrored:pe,kIsErrored:o,isReadable:F,kIsReadable:l,kIsClosedPromise:c,kControllerErrorFunction:f,isClosed:J,isDestroyed:T,isDuplexNodeStream:g,isFinished:I,isIterable:S,isReadableNodeStream:d,isReadableStream:v,isReadableEnded:L,isReadableFinished:j,isReadableErrored:B,isNodeStream:b,isWebStream:y,isWritable:$,isWritableNodeStream:p,isWritableStream:w,isWritableEnded:A,isWritableFinished:C,isWritableErrored:M,isServerRequest:N,isServerResponse:re,willEmitClose:fe,isTransformStream:_}}),ss=De((t,e)=>{Oe(),Re(),Le();var r=ro(),{AbortError:n,codes:s}=Br(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:a}=s,{kEmptyObject:o,once:l}=Ei(),{validateAbortSignal:u,validateFunction:c,validateObject:f,validateBoolean:d}=Kc(),{Promise:p,PromisePrototypeThen:g}=Jt(),{isClosed:b,isReadable:v,isReadableNodeStream:w,isReadableStream:_,isReadableFinished:y,isReadableErrored:S,isWritable:T,isWritableNodeStream:A,isWritableStream:C,isWritableFinished:L,isWritableErrored:j,isNodeStream:F,willEmitClose:$,kIsClosedPromise:I}=Mi();function M(N){return N.setHeader&&typeof N.abort=="function"}var B=()=>{};function J(N,fe,G){var pe,U;if(arguments.length===2?(G=fe,fe=o):fe==null?fe=o:f(fe,"options"),c(G,"callback"),u(fe.signal,"options.signal"),G=l(G),_(N)||C(N))return ie(N,fe,G);if(!F(N))throw new i("stream",["ReadableStream","WritableStream","Stream"],N);let de=(pe=fe.readable)!==null&&pe!==void 0?pe:w(N),xe=(U=fe.writable)!==null&&U!==void 0?U:A(N),ee=N._writableState,K=N._readableState,W=()=>{N.writable||ce()},D=$(N)&&w(N)===de&&A(N)===xe,X=L(N,!1),ce=()=>{X=!0,N.destroyed&&(D=!1),!(D&&(!N.readable||de))&&(!de||le)&&G.call(N)},le=y(N,!1),k=()=>{le=!0,N.destroyed&&(D=!1),!(D&&(!N.writable||xe))&&(!xe||X)&&G.call(N)},P=Z=>{G.call(N,Z)},V=b(N),R=()=>{V=!0;let Z=j(N)||S(N);if(Z&&typeof Z!="boolean")return G.call(N,Z);if(de&&!le&&w(N,!0)&&!y(N,!1))return G.call(N,new a);if(xe&&!X&&!L(N,!1))return G.call(N,new a);G.call(N)},H=()=>{V=!0;let Z=j(N)||S(N);if(Z&&typeof Z!="boolean")return G.call(N,Z);G.call(N)},q=()=>{N.req.on("finish",ce)};M(N)?(N.on("complete",ce),D||N.on("abort",R),N.req?q():N.on("request",q)):xe&&!ee&&(N.on("end",W),N.on("close",W)),!D&&typeof N.aborted=="boolean"&&N.on("aborted",R),N.on("end",k),N.on("finish",ce),fe.error!==!1&&N.on("error",P),N.on("close",R),V?r.nextTick(R):ee!=null&&ee.errorEmitted||K!=null&&K.errorEmitted?D||r.nextTick(H):(!de&&(!D||v(N))&&(X||T(N)===!1)||!xe&&(!D||T(N))&&(le||v(N)===!1)||K&&N.req&&N.aborted)&&r.nextTick(H);let ue=()=>{G=B,N.removeListener("aborted",R),N.removeListener("complete",ce),N.removeListener("abort",R),N.removeListener("request",q),N.req&&N.req.removeListener("finish",ce),N.removeListener("end",W),N.removeListener("close",W),N.removeListener("finish",ce),N.removeListener("end",k),N.removeListener("error",P),N.removeListener("close",R)};if(fe.signal&&!V){let Z=()=>{let Y=G;ue(),Y.call(N,new n(void 0,{cause:fe.signal.reason}))};if(fe.signal.aborted)r.nextTick(Z);else{let Y=G;G=l((...se)=>{fe.signal.removeEventListener("abort",Z),Y.apply(N,se)}),fe.signal.addEventListener("abort",Z)}}return ue}function ie(N,fe,G){let pe=!1,U=B;if(fe.signal)if(U=()=>{pe=!0,G.call(N,new n(void 0,{cause:fe.signal.reason}))},fe.signal.aborted)r.nextTick(U);else{let xe=G;G=l((...ee)=>{fe.signal.removeEventListener("abort",U),xe.apply(N,ee)}),fe.signal.addEventListener("abort",U)}let de=(...xe)=>{pe||r.nextTick(()=>G.apply(N,xe))};return g(N[I].promise,de,de),B}function re(N,fe){var G;let pe=!1;return fe===null&&(fe=o),(G=fe)!==null&&G!==void 0&&G.cleanup&&(d(fe.cleanup,"cleanup"),pe=fe.cleanup),new p((U,de)=>{let xe=J(N,fe,ee=>{pe&&xe(),ee?de(ee):U()})})}e.exports=J,e.exports.finished=re}),oa=De((t,e)=>{Oe(),Re(),Le();var r=ro(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:i}=Br(),{Symbol:a}=Jt(),{kDestroyed:o,isDestroyed:l,isFinished:u,isServerRequest:c}=Mi(),f=a("kDestroy"),d=a("kConstruct");function p(I,M,B){I&&(I.stack,M&&!M.errored&&(M.errored=I),B&&!B.errored&&(B.errored=I))}function g(I,M){let B=this._readableState,J=this._writableState,ie=J||B;return J!=null&&J.destroyed||B!=null&&B.destroyed?(typeof M=="function"&&M(),this):(p(I,J,B),J&&(J.destroyed=!0),B&&(B.destroyed=!0),ie.constructed?b(this,I,M):this.once(f,function(re){b(this,n(re,I),M)}),this)}function b(I,M,B){let J=!1;function ie(re){if(J)return;J=!0;let N=I._readableState,fe=I._writableState;p(re,fe,N),fe&&(fe.closed=!0),N&&(N.closed=!0),typeof B=="function"&&B(re),re?r.nextTick(v,I,re):r.nextTick(w,I)}try{I._destroy(M||null,ie)}catch(re){ie(re)}}function v(I,M){_(I,M),w(I)}function w(I){let M=I._readableState,B=I._writableState;B&&(B.closeEmitted=!0),M&&(M.closeEmitted=!0),(B!=null&&B.emitClose||M!=null&&M.emitClose)&&I.emit("close")}function _(I,M){let B=I._readableState,J=I._writableState;J!=null&&J.errorEmitted||B!=null&&B.errorEmitted||(J&&(J.errorEmitted=!0),B&&(B.errorEmitted=!0),I.emit("error",M))}function y(){let I=this._readableState,M=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),M&&(M.constructed=!0,M.destroyed=!1,M.closed=!1,M.closeEmitted=!1,M.errored=null,M.errorEmitted=!1,M.finalCalled=!1,M.prefinished=!1,M.ended=M.writable===!1,M.ending=M.writable===!1,M.finished=M.writable===!1)}function S(I,M,B){let J=I._readableState,ie=I._writableState;if(ie!=null&&ie.destroyed||J!=null&&J.destroyed)return this;J!=null&&J.autoDestroy||ie!=null&&ie.autoDestroy?I.destroy(M):M&&(M.stack,ie&&!ie.errored&&(ie.errored=M),J&&!J.errored&&(J.errored=M),B?r.nextTick(_,I,M):_(I,M))}function T(I,M){if(typeof I._construct!="function")return;let B=I._readableState,J=I._writableState;B&&(B.constructed=!1),J&&(J.constructed=!1),I.once(d,M),!(I.listenerCount(d)>1)&&r.nextTick(A,I)}function A(I){let M=!1;function B(J){if(M){S(I,J??new s);return}M=!0;let ie=I._readableState,re=I._writableState,N=re||ie;ie&&(ie.constructed=!0),re&&(re.constructed=!0),N.destroyed?I.emit(f,J):J?S(I,J,!0):r.nextTick(C,I)}try{I._construct(J=>{r.nextTick(B,J)})}catch(J){r.nextTick(B,J)}}function C(I){I.emit(d)}function L(I){return(I==null?void 0:I.setHeader)&&typeof I.abort=="function"}function j(I){I.emit("close")}function F(I,M){I.emit("error",M),r.nextTick(j,I)}function $(I,M){!I||l(I)||(!M&&!u(I)&&(M=new i),c(I)?(I.socket=null,I.destroy(M)):L(I)?I.abort():L(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy(M):typeof I.close=="function"?I.close():M?r.nextTick(F,I,M):r.nextTick(j,I),I.destroyed||(I[o]=!0))}e.exports={construct:T,destroyer:$,destroy:g,undestroy:y,errorOrDestroy:S}});function _t(){_t.init.call(this)}function Bu(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function N1(t){return t._maxListeners===void 0?_t.defaultMaxListeners:t._maxListeners}function Ny(t,e,r,n){var s,i,a,o;if(Bu(r),(i=t._events)===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),a===void 0)a=i[e]=r,++t._eventsCount;else if(typeof a=="function"?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(s=N1(t))>0&&a.length>s&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return t}function j2(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Dy(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=j2.bind(n);return s.listener=r,n.wrapFn=s,s}function Uy(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?function(i){for(var a=new Array(i.length),o=0;o<a.length;++o)a[o]=i[o].listener||i[o];return a}(s):D1(s,s.length)}function Fy(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function D1(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}var Vy,jy,ms,Vf,jf,Wf,Fr,Wy=lr(()=>{Oe(),Re(),Le(),ms=typeof Reflect=="object"?Reflect:null,Vf=ms&&typeof ms.apply=="function"?ms.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},jy=ms&&typeof ms.ownKeys=="function"?ms.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},jf=Number.isNaN||function(t){return t!=t},Vy=_t,_t.EventEmitter=_t,_t.prototype._events=void 0,_t.prototype._eventsCount=0,_t.prototype._maxListeners=void 0,Wf=10,Object.defineProperty(_t,"defaultMaxListeners",{enumerable:!0,get:function(){return Wf},set:function(t){if(typeof t!="number"||t<0||jf(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Wf=t}}),_t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_t.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||jf(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},_t.prototype.getMaxListeners=function(){return N1(this)},_t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")Vf(o,this,e);else{var l=o.length,u=D1(o,l);for(r=0;r<l;++r)Vf(u[r],this,e)}return!0},_t.prototype.addListener=function(t,e){return Ny(this,t,e,!1)},_t.prototype.on=_t.prototype.addListener,_t.prototype.prependListener=function(t,e){return Ny(this,t,e,!0)},_t.prototype.once=function(t,e){return Bu(e),this.on(t,Dy(this,t,e)),this},_t.prototype.prependOnceListener=function(t,e){return Bu(e),this.prependListener(t,Dy(this,t,e)),this},_t.prototype.removeListener=function(t,e){var r,n,s,i,a;if(Bu(e),(n=this._events)===void 0)return this;if((r=n[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(s=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,s=i;break}if(s<0)return this;s===0?r.shift():function(o,l){for(;l+1<o.length;l++)o[l]=o[l+1];o.pop()}(r,s),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this},_t.prototype.off=_t.prototype.removeListener,_t.prototype.removeAllListeners=function(t){var e,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s,i=Object.keys(r);for(n=0;n<i.length;++n)(s=i[n])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},_t.prototype.listeners=function(t){return Uy(this,t,!0)},_t.prototype.rawListeners=function(t){return Uy(this,t,!1)},_t.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Fy.call(t,e)},_t.prototype.listenerCount=Fy,_t.prototype.eventNames=function(){return this._eventsCount>0?jy(this._events):[]},Fr=Vy,Fr.EventEmitter,Fr.defaultMaxListeners,Fr.init,Fr.listenerCount,Fr.EventEmitter,Fr.defaultMaxListeners,Fr.init,Fr.listenerCount}),no={};to(no,{EventEmitter:()=>U1,default:()=>Fr,defaultMaxListeners:()=>F1,init:()=>V1,listenerCount:()=>j1,on:()=>W1,once:()=>z1});var U1,F1,V1,j1,W1,z1,aa=lr(()=>{Oe(),Re(),Le(),Wy(),Wy(),Fr.once=function(t,e){return new Promise((r,n)=>{function s(...a){i!==void 0&&t.removeListener("error",i),r(a)}let i;e!=="error"&&(i=a=>{t.removeListener(name,s),n(a)},t.once("error",i)),t.once(e,s)})},Fr.on=function(t,e){let r=[],n=[],s=null,i=!1,a={async next(){let u=r.shift();if(u)return createIterResult(u,!1);if(s){let c=Promise.reject(s);return s=null,c}return i?createIterResult(void 0,!0):new Promise((c,f)=>n.push({resolve:c,reject:f}))},async return(){t.removeListener(e,o),t.removeListener("error",l),i=!0;for(let u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){s=u,t.removeListener(e,o),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(e,o),t.on("error",l),a;function o(...u){let c=n.shift();c?c.resolve(createIterResult(u,!1)):r.push(u)}function l(u){i=!0;let c=n.shift();c?c.reject(u):s=u,a.return()}},{EventEmitter:U1,defaultMaxListeners:F1,init:V1,listenerCount:j1,on:W1,once:z1}=Fr}),_m=De((t,e)=>{Oe(),Re(),Le();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=Jt(),{EventEmitter:s}=(aa(),At(no));function i(o){s.call(this,o)}n(i.prototype,s.prototype),n(i,s),i.prototype.pipe=function(o,l){let u=this;function c(w){o.writable&&o.write(w)===!1&&u.pause&&u.pause()}u.on("data",c);function f(){u.readable&&u.resume&&u.resume()}o.on("drain",f),!o._isStdio&&(!l||l.end!==!1)&&(u.on("end",p),u.on("close",g));let d=!1;function p(){d||(d=!0,o.end())}function g(){d||(d=!0,typeof o.destroy=="function"&&o.destroy())}function b(w){v(),s.listenerCount(this,"error")===0&&this.emit("error",w)}a(u,"error",b),a(o,"error",b);function v(){u.removeListener("data",c),o.removeListener("drain",f),u.removeListener("end",p),u.removeListener("close",g),u.removeListener("error",b),o.removeListener("error",b),u.removeListener("end",v),u.removeListener("close",v),o.removeListener("close",v)}return u.on("end",v),u.on("close",v),o.on("close",v),o.emit("pipe",u),o};function a(o,l,u){if(typeof o.prependListener=="function")return o.prependListener(l,u);!o._events||!o._events[l]?o.on(l,u):r(o._events[l])?o._events[l].unshift(u):o._events[l]=[u,o._events[l]]}e.exports={Stream:i,prependListener:a}}),Xc=De((t,e)=>{Oe(),Re(),Le();var{AbortError:r,codes:n}=Br(),{isNodeStream:s,isWebStream:i,kControllerErrorFunction:a}=Mi(),o=ss(),{ERR_INVALID_ARG_TYPE:l}=n,u=(c,f)=>{if(typeof c!="object"||!("aborted"in c))throw new l(f,"AbortSignal",c)};e.exports.addAbortSignal=function(c,f){if(u(c,"signal"),!s(f)&&!i(f))throw new l("stream",["ReadableStream","WritableStream","Stream"],f);return e.exports.addAbortSignalNoValidate(c,f)},e.exports.addAbortSignalNoValidate=function(c,f){if(typeof c!="object"||!("aborted"in c))return f;let d=s(f)?()=>{f.destroy(new r(void 0,{cause:c.reason}))}:()=>{f[a](new r(void 0,{cause:c.reason}))};return c.aborted?d():(c.addEventListener("abort",d),o(f,()=>c.removeEventListener("abort",d))),f}}),W2=De((t,e)=>{Oe(),Re(),Le();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:s,Uint8Array:i}=Jt(),{Buffer:a}=(cr(),At(ur)),{inspect:o}=Ei();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(l){let u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=l+u.data;return c}concat(l){if(this.length===0)return a.alloc(0);let u=a.allocUnsafe(l>>>0),c=this.head,f=0;for(;c;)s(u,c.data,f),f+=c.data.length,c=c.next;return u}consume(l,u){let c=this.head.data;if(l<c.length){let f=c.slice(0,l);return this.head.data=c.slice(l),f}return l===c.length?this.shift():u?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[n](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let u="",c=this.head,f=0;do{let d=c.data;if(l>d.length)u+=d,l-=d.length;else{l===d.length?(u+=d,++f,c.next?this.head=c.next:this.head=this.tail=null):(u+=r(d,0,l),this.head=c,c.data=r(d,l));break}++f}while((c=c.next)!==null);return this.length-=f,u}_getBuffer(l){let u=a.allocUnsafe(l),c=l,f=this.head,d=0;do{let p=f.data;if(l>p.length)s(u,p,c-l),l-=p.length;else{l===p.length?(s(u,p,c-l),++d,f.next?this.head=f.next:this.head=this.tail=null):(s(u,new i(p.buffer,p.byteOffset,l),c-l),this.head=f,f.data=p.slice(l));break}++d}while((f=f.next)!==null);return this.length-=d,u}[Symbol.for("nodejs.util.inspect.custom")](l,u){return o(this,{...u,depth:0,customInspect:!1})}}}),Em=De((t,e)=>{Oe(),Re(),Le();var{MathFloor:r,NumberIsInteger:n}=Jt(),{ERR_INVALID_ARG_VALUE:s}=Br().codes;function i(l,u,c){return l.highWaterMark!=null?l.highWaterMark:u?l[c]:null}function a(l){return l?16:16*1024}function o(l,u,c,f){let d=i(u,f,c);if(d!=null){if(!n(d)||d<0){let p=f?`options.${c}`:"options.highWaterMark";throw new s(p,d)}return r(d)}return a(l.objectMode)}e.exports={getHighWaterMark:o,getDefaultHighWaterMark:a}});function zy(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function z2(t,e,r){for(var n,s,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(mn[(s=n)>>18&63]+mn[s>>12&63]+mn[s>>6&63]+mn[63&s]);return i.join("")}function di(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,$e.prototype),e}function $e(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Qp(t)}return H1(t,e,r)}function H1(t,e,r){if(typeof t=="string")return function(i,a){if(typeof a=="string"&&a!==""||(a="utf8"),!$e.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var o=0|G1(i,a),l=di(o),u=l.write(i,a);return u!==o&&(l=l.slice(0,u)),l}(t,e);if(ArrayBuffer.isView(t))return zf(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(hi(t,ArrayBuffer)||t&&hi(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(hi(t,SharedArrayBuffer)||t&&hi(t.buffer,SharedArrayBuffer)))return H2(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return $e.from(n,e,r);var s=function(i){if($e.isBuffer(i)){var a=0|Sm(i.length),o=di(a);return o.length===0||i.copy(o,0,0,a),o}if(i.length!==void 0)return typeof i.length!="number"||xm(i.length)?di(0):zf(i);if(i.type==="Buffer"&&Array.isArray(i.data))return zf(i.data)}(t);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return $e.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function q1(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Qp(t){return q1(t),di(t<0?0:0|Sm(t))}function zf(t){for(var e=t.length<0?0:0|Sm(t.length),r=di(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function H2(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,$e.prototype),n}function Sm(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function G1(t,e){if($e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||hi(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Jp(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q1(t).length;default:if(s)return n?-1:Jp(t).length;e=(""+e).toLowerCase(),s=!0}}function q2(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return tL(this,e,r);case"utf8":case"utf-8":return K1(this,e,r);case"ascii":return Z2(this,e,r);case"latin1":case"binary":return eL(this,e,r);case"base64":return J2(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rL(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function bs(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Hy(t,e,r,n,s){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),xm(r=+r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0){if(!s)return-1;r=0}if(typeof e=="string"&&(e=$e.from(e,n)),$e.isBuffer(e))return e.length===0?-1:qy(t,e,r,n,s);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):qy(t,[e],r,n,s);throw new TypeError("val must be string, number or Buffer")}function qy(t,e,r,n,s){var i,a=1,o=t.length,l=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,o/=2,l/=2,r/=2}function u(p,g){return a===1?p[g]:p.readUInt16BE(g*a)}if(s){var c=-1;for(i=r;i<o;i++)if(u(t,i)===u(e,c===-1?0:i-c)){if(c===-1&&(c=i),i-c+1===l)return c*a}else c!==-1&&(i-=i-c),c=-1}else for(r+l>o&&(r=o-l),i=r;i>=0;i--){for(var f=!0,d=0;d<l;d++)if(u(t,i+d)!==u(e,d)){f=!1;break}if(f)return i}return-1}function G2(t,e,r,n){r=Number(r)||0;var s=t.length-r;n?(n=Number(n))>s&&(n=s):n=s;var i=e.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(xm(o))return a;t[r+a]=o}return a}function Y2(t,e,r,n){return Qc(Jp(e,t.length-r),t,r,n)}function Y1(t,e,r,n){return Qc(function(s){for(var i=[],a=0;a<s.length;++a)i.push(255&s.charCodeAt(a));return i}(e),t,r,n)}function K2(t,e,r,n){return Y1(t,e,r,n)}function X2(t,e,r,n){return Qc(Q1(e),t,r,n)}function Q2(t,e,r,n){return Qc(function(s,i){for(var a,o,l,u=[],c=0;c<s.length&&!((i-=2)<0);++c)a=s.charCodeAt(c),o=a>>8,l=a%256,u.push(l),u.push(o);return u}(e,t.length-r),t,r,n)}function J2(t,e,r){return e===0&&r===t.length?mc.fromByteArray(t):mc.fromByteArray(t.slice(e,r))}function K1(t,e,r){r=Math.min(t.length,r);for(var n=[],s=e;s<r;){var i,a,o,l,u=t[s],c=null,f=u>239?4:u>223?3:u>191?2:1;if(s+f<=r)switch(f){case 1:u<128&&(c=u);break;case 2:(192&(i=t[s+1]))==128&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=t[s+1],a=t[s+2],(192&i)==128&&(192&a)==128&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=t[s+1],a=t[s+2],o=t[s+3],(192&i)==128&&(192&a)==128&&(192&o)==128&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(c=l)}c===null?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),s+=f}return function(d){var p=d.length;if(p<=4096)return String.fromCharCode.apply(String,d);for(var g="",b=0;b<p;)g+=String.fromCharCode.apply(String,d.slice(b,b+=4096));return g}(n)}function Z2(t,e,r){var n="";r=Math.min(t.length,r);for(var s=e;s<r;++s)n+=String.fromCharCode(127&t[s]);return n}function eL(t,e,r){var n="";r=Math.min(t.length,r);for(var s=e;s<r;++s)n+=String.fromCharCode(t[s]);return n}function tL(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var s="",i=e;i<r;++i)s+=Z1[t[i]];return s}function rL(t,e,r){for(var n=t.slice(e,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}function er(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function kr(t,e,r,n,s,i){if(!$e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function X1(t,e,r,n,s,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Gy(t,e,r,n,s){return e=+e,r>>>=0,s||X1(t,0,r,4),As.write(t,e,r,n,23,4),r+4}function Yy(t,e,r,n,s){return e=+e,r>>>=0,s||X1(t,0,r,8),As.write(t,e,r,n,52,8),r+8}function Jp(t,e){var r;e=e||1/0;for(var n=t.length,s=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),s=r;continue}r=65536+(s-55296<<10|r-56320)}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Q1(t){return mc.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J1,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function Qc(t,e,r,n){for(var s=0;s<n&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}function hi(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function xm(t){return t!=t}function Ky(t,e){for(var r in t)e[r]=t[r]}function ys(t,e,r){return hn(t,e,r)}function Aa(t){var e;switch(this.encoding=function(r){var n=function(s){if(!s)return"utf8";for(var i;;)switch(s){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return s;default:if(i)return;s=(""+s).toLowerCase(),i=!0}}(r);if(typeof n!="string"&&(bc.isEncoding===Zp||!Zp(r)))throw new Error("Unknown encoding: "+r);return n||r}(t),this.encoding){case"utf16le":this.text=iL,this.end=sL,e=4;break;case"utf8":this.fillLast=nL,e=4;break;case"base64":this.text=oL,this.end=aL,e=3;break;default:return this.write=lL,this.end=uL,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=bc.allocUnsafe(e)}function Hf(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function nL(t){var e=this.lastTotal-this.lastNeed,r=function(n,s,i){if((192&s[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&s.length>1){if((192&s[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&s.length>2&&(192&s[2])!=128)return n.lastNeed=2,"�"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function iL(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function sL(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function oL(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function aL(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function lL(t){return t.toString(this.encoding)}function uL(t){return t&&t.length?this.write(t):""}var Xy,mn,$r,Qy,Xl,ws,Jy,Zy,kn,mc,As,qf,J1,Z1,Ca,Ia,hn,ew,Co,bc,Zp,tw=lr(()=>{for(Oe(),Re(),Le(),Xy={byteLength:function(t){var e=zy(t),r=e[0],n=e[1];return 3*(r+n)/4-n},toByteArray:function(t){var e,r,n=zy(t),s=n[0],i=n[1],a=new Qy(function(u,c,f){return 3*(c+f)/4-f}(0,s,i)),o=0,l=i>0?s-4:s;for(r=0;r<l;r+=4)e=$r[t.charCodeAt(r)]<<18|$r[t.charCodeAt(r+1)]<<12|$r[t.charCodeAt(r+2)]<<6|$r[t.charCodeAt(r+3)],a[o++]=e>>16&255,a[o++]=e>>8&255,a[o++]=255&e;return i===2&&(e=$r[t.charCodeAt(r)]<<2|$r[t.charCodeAt(r+1)]>>4,a[o++]=255&e),i===1&&(e=$r[t.charCodeAt(r)]<<10|$r[t.charCodeAt(r+1)]<<4|$r[t.charCodeAt(r+2)]>>2,a[o++]=e>>8&255,a[o++]=255&e),a},fromByteArray:function(t){for(var e,r=t.length,n=r%3,s=[],i=0,a=r-n;i<a;i+=16383)s.push(z2(t,i,i+16383>a?a:i+16383));return n===1?(e=t[r-1],s.push(mn[e>>2]+mn[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(mn[e>>10]+mn[e>>4&63]+mn[e<<2&63]+"=")),s.join("")}},mn=[],$r=[],Qy=typeof Uint8Array<"u"?Uint8Array:Array,Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ws=0,Jy=Xl.length;ws<Jy;++ws)mn[ws]=Xl[ws],$r[Xl.charCodeAt(ws)]=ws;$r[45]=62,$r[95]=63,Zy={read:function(t,e,r,n,s){var i,a,o=8*s-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?s-1:0,d=r?-1:1,p=t[e+f];for(f+=d,i=p&(1<<-c)-1,p>>=-c,c+=o;c>0;i=256*i+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+f],f+=d,c-=8);if(i===0)i=1-u;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},write:function(t,e,r,n,s,i){var a,o,l,u=8*i-s-1,c=(1<<u)-1,f=c>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(e*l-1)*Math.pow(2,s),a+=f):(o=e*Math.pow(2,f-1)*Math.pow(2,s),a=0));s>=8;t[r+p]=255&o,p+=g,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;t[r+p]=255&a,p+=g,a/=256,u-=8);t[r+p-g]|=128*b}},kn={},mc=Xy,As=Zy,qf=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,kn.Buffer=$e,kn.SlowBuffer=function(t){return+t!=t&&(t=0),$e.alloc(+t)},kn.INSPECT_MAX_BYTES=50,kn.kMaxLength=2147483647,$e.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}(),$e.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty($e.prototype,"parent",{enumerable:!0,get:function(){if($e.isBuffer(this))return this.buffer}}),Object.defineProperty($e.prototype,"offset",{enumerable:!0,get:function(){if($e.isBuffer(this))return this.byteOffset}}),$e.poolSize=8192,$e.from=function(t,e,r){return H1(t,e,r)},Object.setPrototypeOf($e.prototype,Uint8Array.prototype),Object.setPrototypeOf($e,Uint8Array),$e.alloc=function(t,e,r){return function(n,s,i){return q1(n),n<=0?di(n):s!==void 0?typeof i=="string"?di(n).fill(s,i):di(n).fill(s):di(n)}(t,e,r)},$e.allocUnsafe=function(t){return Qp(t)},$e.allocUnsafeSlow=function(t){return Qp(t)},$e.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==$e.prototype},$e.compare=function(t,e){if(hi(t,Uint8Array)&&(t=$e.from(t,t.offset,t.byteLength)),hi(e,Uint8Array)&&(e=$e.from(e,e.offset,e.byteLength)),!$e.isBuffer(t)||!$e.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,s=0,i=Math.min(r,n);s<i;++s)if(t[s]!==e[s]){r=t[s],n=e[s];break}return r<n?-1:n<r?1:0},$e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$e.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return $e.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=$e.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){var i=t[r];if(hi(i,Uint8Array)&&(i=$e.from(i)),!$e.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,s),s+=i.length}return n},$e.byteLength=G1,$e.prototype._isBuffer=!0,$e.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)bs(this,e,e+1);return this},$e.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)bs(this,e,e+3),bs(this,e+1,e+2);return this},$e.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)bs(this,e,e+7),bs(this,e+1,e+6),bs(this,e+2,e+5),bs(this,e+3,e+4);return this},$e.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?K1(this,0,t):q2.apply(this,arguments)},$e.prototype.toLocaleString=$e.prototype.toString,$e.prototype.equals=function(t){if(!$e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||$e.compare(this,t)===0},$e.prototype.inspect=function(){var t="",e=kn.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},qf&&($e.prototype[qf]=$e.prototype.inspect),$e.prototype.compare=function(t,e,r,n,s){if(hi(t,Uint8Array)&&(t=$e.from(t,t.offset,t.byteLength)),!$e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),e<0||r>t.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&e>=r)return 0;if(n>=s)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(s>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),o=Math.min(i,a),l=this.slice(n,s),u=t.slice(e,r),c=0;c<o;++c)if(l[c]!==u[c]){i=l[c],a=u[c];break}return i<a?-1:a<i?1:0},$e.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},$e.prototype.indexOf=function(t,e,r){return Hy(this,t,e,r,!0)},$e.prototype.lastIndexOf=function(t,e,r){return Hy(this,t,e,r,!1)},$e.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var s=this.length-e;if((r===void 0||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return G2(this,t,e,r);case"utf8":case"utf-8":return Y2(this,t,e,r);case"ascii":return Y1(this,t,e,r);case"latin1":case"binary":return K2(this,t,e,r);case"base64":return X2(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q2(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},$e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},$e.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,$e.prototype),n},$e.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||er(t,e,this.length);for(var n=this[t],s=1,i=0;++i<e&&(s*=256);)n+=this[t+i]*s;return n},$e.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||er(t,e,this.length);for(var n=this[t+--e],s=1;e>0&&(s*=256);)n+=this[t+--e]*s;return n},$e.prototype.readUInt8=function(t,e){return t>>>=0,e||er(t,1,this.length),this[t]},$e.prototype.readUInt16LE=function(t,e){return t>>>=0,e||er(t,2,this.length),this[t]|this[t+1]<<8},$e.prototype.readUInt16BE=function(t,e){return t>>>=0,e||er(t,2,this.length),this[t]<<8|this[t+1]},$e.prototype.readUInt32LE=function(t,e){return t>>>=0,e||er(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},$e.prototype.readUInt32BE=function(t,e){return t>>>=0,e||er(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},$e.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||er(t,e,this.length);for(var n=this[t],s=1,i=0;++i<e&&(s*=256);)n+=this[t+i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*e)),n},$e.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||er(t,e,this.length);for(var n=e,s=1,i=this[t+--n];n>0&&(s*=256);)i+=this[t+--n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*e)),i},$e.prototype.readInt8=function(t,e){return t>>>=0,e||er(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},$e.prototype.readInt16LE=function(t,e){t>>>=0,e||er(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},$e.prototype.readInt16BE=function(t,e){t>>>=0,e||er(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},$e.prototype.readInt32LE=function(t,e){return t>>>=0,e||er(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},$e.prototype.readInt32BE=function(t,e){return t>>>=0,e||er(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},$e.prototype.readFloatLE=function(t,e){return t>>>=0,e||er(t,4,this.length),As.read(this,t,!0,23,4)},$e.prototype.readFloatBE=function(t,e){return t>>>=0,e||er(t,4,this.length),As.read(this,t,!1,23,4)},$e.prototype.readDoubleLE=function(t,e){return t>>>=0,e||er(t,8,this.length),As.read(this,t,!0,52,8)},$e.prototype.readDoubleBE=function(t,e){return t>>>=0,e||er(t,8,this.length),As.read(this,t,!1,52,8)},$e.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||kr(this,t,e,r,Math.pow(2,8*r)-1,0);var s=1,i=0;for(this[e]=255&t;++i<r&&(s*=256);)this[e+i]=t/s&255;return e+r},$e.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||kr(this,t,e,r,Math.pow(2,8*r)-1,0);var s=r-1,i=1;for(this[e+s]=255&t;--s>=0&&(i*=256);)this[e+s]=t/i&255;return e+r},$e.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,1,255,0),this[e]=255&t,e+1},$e.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},$e.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},$e.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},$e.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},$e.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var s=Math.pow(2,8*r-1);kr(this,t,e,r,s-1,-s)}var i=0,a=1,o=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&o===0&&this[e+i-1]!==0&&(o=1),this[e+i]=(t/a>>0)-o&255;return e+r},$e.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var s=Math.pow(2,8*r-1);kr(this,t,e,r,s-1,-s)}var i=r-1,a=1,o=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&o===0&&this[e+i+1]!==0&&(o=1),this[e+i]=(t/a>>0)-o&255;return e+r},$e.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},$e.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},$e.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},$e.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},$e.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||kr(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},$e.prototype.writeFloatLE=function(t,e,r){return Gy(this,t,e,!0,r)},$e.prototype.writeFloatBE=function(t,e,r){return Gy(this,t,e,!1,r)},$e.prototype.writeDoubleLE=function(t,e,r){return Yy(this,t,e,!0,r)},$e.prototype.writeDoubleBE=function(t,e,r){return Yy(this,t,e,!1,r)},$e.prototype.copy=function(t,e,r,n){if(!$e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var s=n-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var i=s-1;i>=0;--i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return s},$e.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!$e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){var s=t.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(t=s)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(i=e;i<r;++i)this[i]=t;else{var a=$e.isBuffer(t)?t:$e.from(t,n),o=a.length;if(o===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=a[i%o]}return this},J1=/[^+/0-9A-Za-z-_]/g,Z1=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}(),kn.Buffer,kn.INSPECT_MAX_BYTES,kn.kMaxLength,Ca={},Ia=kn,hn=Ia.Buffer,hn.from&&hn.alloc&&hn.allocUnsafe&&hn.allocUnsafeSlow?Ca=Ia:(Ky(Ia,Ca),Ca.Buffer=ys),ys.prototype=Object.create(hn.prototype),Ky(hn,ys),ys.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return hn(t,e,r)},ys.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=hn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n},ys.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return hn(t)},ys.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ia.SlowBuffer(t)},ew=Ca,Co={},bc=ew.Buffer,Zp=bc.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Co.StringDecoder=Aa,Aa.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},Aa.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},Aa.prototype.text=function(t,e){var r=function(s,i,a){var o=i.length-1;if(o<a)return 0;var l=Hf(i[o]);return l>=0?(l>0&&(s.lastNeed=l-1),l):--o<a||l===-2?0:(l=Hf(i[o]))>=0?(l>0&&(s.lastNeed=l-2),l):--o<a||l===-2?0:(l=Hf(i[o]))>=0?(l>0&&(l===2?l=0:s.lastNeed=l-3),l):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},Aa.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},Co.StringDecoder,Co.StringDecoder}),eE={};to(eE,{StringDecoder:()=>tE,default:()=>Co});var tE,cL=lr(()=>{Oe(),Re(),Le(),tw(),tw(),tE=Co.StringDecoder}),rE=De((t,e)=>{Oe(),Re(),Le();var r=ro(),{PromisePrototypeThen:n,SymbolAsyncIterator:s,SymbolIterator:i}=Jt(),{Buffer:a}=(cr(),At(ur)),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:l}=Br().codes;function u(c,f,d){let p;if(typeof f=="string"||f instanceof a)return new c({objectMode:!0,...d,read(){this.push(f),this.push(null)}});let g;if(f&&f[s])g=!0,p=f[s]();else if(f&&f[i])g=!1,p=f[i]();else throw new o("iterable",["Iterable"],f);let b=new c({objectMode:!0,highWaterMark:1,...d}),v=!1;b._read=function(){v||(v=!0,_())},b._destroy=function(y,S){n(w(y),()=>r.nextTick(S,y),T=>r.nextTick(S,T||y))};async function w(y){let S=y!=null,T=typeof p.throw=="function";if(S&&T){let{value:A,done:C}=await p.throw(y);if(await A,C)return}if(typeof p.return=="function"){let{value:A}=await p.return();await A}}async function _(){for(;;){try{let{value:y,done:S}=g?await p.next():p.next();if(S)b.push(null);else{let T=y&&typeof y.then=="function"?await y:y;if(T===null)throw v=!1,new l;if(b.push(T))continue;v=!1}}catch(y){b.destroy(y)}break}}return b}e.exports=u}),Jc=De((t,e)=>{Oe(),Re(),Le();var r=ro(),{ArrayPrototypeIndexOf:n,NumberIsInteger:s,NumberIsNaN:i,NumberParseInt:a,ObjectDefineProperties:o,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:c,SafeSet:f,SymbolAsyncIterator:d,Symbol:p}=Jt();e.exports=U,U.ReadableState=pe;var{EventEmitter:g}=(aa(),At(no)),{Stream:b,prependListener:v}=_m(),{Buffer:w}=(cr(),At(ur)),{addAbortSignal:_}=Xc(),y=ss(),S=Ei().debuglog("stream",m=>{S=m}),T=W2(),A=oa(),{getHighWaterMark:C,getDefaultHighWaterMark:L}=Em(),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:F,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:M,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B}}=Br(),{validateObject:J}=Kc(),ie=p("kPaused"),{StringDecoder:re}=(cL(),At(eE)),N=rE();u(U.prototype,b.prototype),u(U,b);var fe=()=>{},{errorOrDestroy:G}=A;function pe(m,h,E){typeof E!="boolean"&&(E=h instanceof Si()),this.objectMode=!!(m&&m.objectMode),E&&(this.objectMode=this.objectMode||!!(m&&m.readableObjectMode)),this.highWaterMark=m?C(this,m,"readableHighWaterMark",E):L(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ie]=null,this.errorEmitted=!1,this.emitClose=!m||m.emitClose!==!1,this.autoDestroy=!m||m.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new re(m.encoding),this.encoding=m.encoding)}function U(m){if(!(this instanceof U))return new U(m);let h=this instanceof Si();this._readableState=new pe(m,this,h),m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.construct=="function"&&(this._construct=m.construct),m.signal&&!h&&_(m.signal,this)),b.call(this,m),A.construct(this,()=>{this._readableState.needReadable&&le(this,this._readableState)})}U.prototype.destroy=A.destroy,U.prototype._undestroy=A.undestroy,U.prototype._destroy=function(m,h){h(m)},U.prototype[g.captureRejectionSymbol]=function(m){this.destroy(m)},U.prototype.push=function(m,h){return de(this,m,h,!1)},U.prototype.unshift=function(m,h){return de(this,m,h,!0)};function de(m,h,E,O){S("readableAddChunk",h);let te=m._readableState,he;if(te.objectMode||(typeof h=="string"?(E=E||te.defaultEncoding,te.encoding!==E&&(O&&te.encoding?h=w.from(h,E).toString(te.encoding):(h=w.from(h,E),E=""))):h instanceof w?E="":b._isUint8Array(h)?(h=b._uint8ArrayToBuffer(h),E=""):h!=null&&(he=new F("chunk",["string","Buffer","Uint8Array"],h))),he)G(m,he);else if(h===null)te.reading=!1,D(m,te);else if(te.objectMode||h&&h.length>0)if(O)if(te.endEmitted)G(m,new B);else{if(te.destroyed||te.errored)return!1;xe(m,te,h,!0)}else if(te.ended)G(m,new M);else{if(te.destroyed||te.errored)return!1;te.reading=!1,te.decoder&&!E?(h=te.decoder.write(h),te.objectMode||h.length!==0?xe(m,te,h,!1):le(m,te)):xe(m,te,h,!1)}else O||(te.reading=!1,le(m,te));return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function xe(m,h,E,O){h.flowing&&h.length===0&&!h.sync&&m.listenerCount("data")>0?(h.multiAwaitDrain?h.awaitDrainWriters.clear():h.awaitDrainWriters=null,h.dataEmitted=!0,m.emit("data",E)):(h.length+=h.objectMode?1:E.length,O?h.buffer.unshift(E):h.buffer.push(E),h.needReadable&&X(m)),le(m,h)}U.prototype.isPaused=function(){let m=this._readableState;return m[ie]===!0||m.flowing===!1},U.prototype.setEncoding=function(m){let h=new re(m);this._readableState.decoder=h,this._readableState.encoding=this._readableState.decoder.encoding;let E=this._readableState.buffer,O="";for(let te of E)O+=h.write(te);return E.clear(),O!==""&&E.push(O),this._readableState.length=O.length,this};var ee=1073741824;function K(m){if(m>ee)throw new I("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,m++,m}function W(m,h){return m<=0||h.length===0&&h.ended?0:h.objectMode?1:i(m)?h.flowing&&h.length?h.buffer.first().length:h.length:m<=h.length?m:h.ended?h.length:0}U.prototype.read=function(m){S("read",m),m===void 0?m=NaN:s(m)||(m=a(m,10));let h=this._readableState,E=m;if(m>h.highWaterMark&&(h.highWaterMark=K(m)),m!==0&&(h.emittedReadable=!1),m===0&&h.needReadable&&((h.highWaterMark!==0?h.length>=h.highWaterMark:h.length>0)||h.ended))return S("read: emitReadable",h.length,h.ended),h.length===0&&h.ended?Q(this):X(this),null;if(m=W(m,h),m===0&&h.ended)return h.length===0&&Q(this),null;let O=h.needReadable;if(S("need readable",O),(h.length===0||h.length-m<h.highWaterMark)&&(O=!0,S("length less than watermark",O)),h.ended||h.reading||h.destroyed||h.errored||!h.constructed)O=!1,S("reading, ended or constructing",O);else if(O){S("do read"),h.reading=!0,h.sync=!0,h.length===0&&(h.needReadable=!0);try{this._read(h.highWaterMark)}catch(he){G(this,he)}h.sync=!1,h.reading||(m=W(E,h))}let te;return m>0?te=se(m,h):te=null,te===null?(h.needReadable=h.length<=h.highWaterMark,m=0):(h.length-=m,h.multiAwaitDrain?h.awaitDrainWriters.clear():h.awaitDrainWriters=null),h.length===0&&(h.ended||(h.needReadable=!0),E!==m&&h.ended&&Q(this)),te!==null&&!h.errorEmitted&&!h.closeEmitted&&(h.dataEmitted=!0,this.emit("data",te)),te};function D(m,h){if(S("onEofChunk"),!h.ended){if(h.decoder){let E=h.decoder.end();E&&E.length&&(h.buffer.push(E),h.length+=h.objectMode?1:E.length)}h.ended=!0,h.sync?X(m):(h.needReadable=!1,h.emittedReadable=!0,ce(m))}}function X(m){let h=m._readableState;S("emitReadable",h.needReadable,h.emittedReadable),h.needReadable=!1,h.emittedReadable||(S("emitReadable",h.flowing),h.emittedReadable=!0,r.nextTick(ce,m))}function ce(m){let h=m._readableState;S("emitReadable_",h.destroyed,h.length,h.ended),!h.destroyed&&!h.errored&&(h.length||h.ended)&&(m.emit("readable"),h.emittedReadable=!1),h.needReadable=!h.flowing&&!h.ended&&h.length<=h.highWaterMark,ue(m)}function le(m,h){!h.readingMore&&h.constructed&&(h.readingMore=!0,r.nextTick(k,m,h))}function k(m,h){for(;!h.reading&&!h.ended&&(h.length<h.highWaterMark||h.flowing&&h.length===0);){let E=h.length;if(S("maybeReadMore read 0"),m.read(0),E===h.length)break}h.readingMore=!1}U.prototype._read=function(m){throw new $("_read()")},U.prototype.pipe=function(m,h){let E=this,O=this._readableState;O.pipes.length===1&&(O.multiAwaitDrain||(O.multiAwaitDrain=!0,O.awaitDrainWriters=new f(O.awaitDrainWriters?[O.awaitDrainWriters]:[]))),O.pipes.push(m),S("pipe count=%d opts=%j",O.pipes.length,h);let te=(!h||h.end!==!1)&&m!==r.stdout&&m!==r.stderr?Ce:Ht;O.endEmitted?r.nextTick(te):E.once("end",te),m.on("unpipe",he);function he(ir,Kt){S("onunpipe"),ir===E&&Kt&&Kt.hasUnpiped===!1&&(Kt.hasUnpiped=!0,Ue())}function Ce(){S("onend"),m.end()}let Fe,ze=!1;function Ue(){S("cleanup"),m.removeListener("close",Yt),m.removeListener("finish",Ot),Fe&&m.removeListener("drain",Fe),m.removeListener("error",yt),m.removeListener("unpipe",he),E.removeListener("end",Ce),E.removeListener("end",Ht),E.removeListener("data",He),ze=!0,Fe&&O.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&Fe()}function qe(){ze||(O.pipes.length===1&&O.pipes[0]===m?(S("false write response, pause",0),O.awaitDrainWriters=m,O.multiAwaitDrain=!1):O.pipes.length>1&&O.pipes.includes(m)&&(S("false write response, pause",O.awaitDrainWriters.size),O.awaitDrainWriters.add(m)),E.pause()),Fe||(Fe=P(E,m),m.on("drain",Fe))}E.on("data",He);function He(ir){S("ondata");let Kt=m.write(ir);S("dest.write",Kt),Kt===!1&&qe()}function yt(ir){if(S("onerror",ir),Ht(),m.removeListener("error",yt),m.listenerCount("error")===0){let Kt=m._writableState||m._readableState;Kt&&!Kt.errorEmitted?G(m,ir):m.emit("error",ir)}}v(m,"error",yt);function Yt(){m.removeListener("finish",Ot),Ht()}m.once("close",Yt);function Ot(){S("onfinish"),m.removeListener("close",Yt),Ht()}m.once("finish",Ot);function Ht(){S("unpipe"),E.unpipe(m)}return m.emit("pipe",E),m.writableNeedDrain===!0?O.flowing&&qe():O.flowing||(S("pipe resume"),E.resume()),m};function P(m,h){return function(){let E=m._readableState;E.awaitDrainWriters===h?(S("pipeOnDrain",1),E.awaitDrainWriters=null):E.multiAwaitDrain&&(S("pipeOnDrain",E.awaitDrainWriters.size),E.awaitDrainWriters.delete(h)),(!E.awaitDrainWriters||E.awaitDrainWriters.size===0)&&m.listenerCount("data")&&m.resume()}}U.prototype.unpipe=function(m){let h=this._readableState,E={hasUnpiped:!1};if(h.pipes.length===0)return this;if(!m){let te=h.pipes;h.pipes=[],this.pause();for(let he=0;he<te.length;he++)te[he].emit("unpipe",this,{hasUnpiped:!1});return this}let O=n(h.pipes,m);return O===-1?this:(h.pipes.splice(O,1),h.pipes.length===0&&this.pause(),m.emit("unpipe",this,E),this)},U.prototype.on=function(m,h){let E=b.prototype.on.call(this,m,h),O=this._readableState;return m==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):m==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,S("on readable",O.length,O.reading),O.length?X(this):O.reading||r.nextTick(R,this)),E},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(m,h){let E=b.prototype.removeListener.call(this,m,h);return m==="readable"&&r.nextTick(V,this),E},U.prototype.off=U.prototype.removeListener,U.prototype.removeAllListeners=function(m){let h=b.prototype.removeAllListeners.apply(this,arguments);return(m==="readable"||m===void 0)&&r.nextTick(V,this),h};function V(m){let h=m._readableState;h.readableListening=m.listenerCount("readable")>0,h.resumeScheduled&&h[ie]===!1?h.flowing=!0:m.listenerCount("data")>0?m.resume():h.readableListening||(h.flowing=null)}function R(m){S("readable nexttick read 0"),m.read(0)}U.prototype.resume=function(){let m=this._readableState;return m.flowing||(S("resume"),m.flowing=!m.readableListening,H(this,m)),m[ie]=!1,this};function H(m,h){h.resumeScheduled||(h.resumeScheduled=!0,r.nextTick(q,m,h))}function q(m,h){S("resume",h.reading),h.reading||m.read(0),h.resumeScheduled=!1,m.emit("resume"),ue(m),h.flowing&&!h.reading&&m.read(0)}U.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ie]=!0,this};function ue(m){let h=m._readableState;for(S("flow",h.flowing);h.flowing&&m.read()!==null;);}U.prototype.wrap=function(m){let h=!1;m.on("data",O=>{!this.push(O)&&m.pause&&(h=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",O=>{G(this,O)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{h&&m.resume&&(h=!1,m.resume())};let E=l(m);for(let O=1;O<E.length;O++){let te=E[O];this[te]===void 0&&typeof m[te]=="function"&&(this[te]=m[te].bind(m))}return this},U.prototype[d]=function(){return Z(this)},U.prototype.iterator=function(m){return m!==void 0&&J(m,"options"),Z(this,m)};function Z(m,h){typeof m.read!="function"&&(m=U.wrap(m,{objectMode:!0}));let E=Y(m,h);return E.stream=m,E}async function*Y(m,h){let E=fe;function O(Ce){this===m?(E(),E=fe):E=Ce}m.on("readable",O);let te,he=y(m,{writable:!1},Ce=>{te=Ce?j(te,Ce):null,E(),E=fe});try{for(;;){let Ce=m.destroyed?null:m.read();if(Ce!==null)yield Ce;else{if(te)throw te;if(te===null)return;await new c(O)}}}catch(Ce){throw te=j(te,Ce),te}finally{(te||(h==null?void 0:h.destroyOnReturn)!==!1)&&(te===void 0||m._readableState.autoDestroy)?A.destroyer(m,null):(m.off("readable",O),he())}}o(U.prototype,{readable:{__proto__:null,get(){let m=this._readableState;return!!m&&m.readable!==!1&&!m.destroyed&&!m.errorEmitted&&!m.endEmitted},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(pe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ie]!==!1},set(m){this[ie]=!!m}}}),U._fromList=se;function se(m,h){if(h.length===0)return null;let E;return h.objectMode?E=h.buffer.shift():!m||m>=h.length?(h.decoder?E=h.buffer.join(""):h.buffer.length===1?E=h.buffer.first():E=h.buffer.concat(h.length),h.buffer.clear()):E=h.buffer.consume(m,h.decoder),E}function Q(m){let h=m._readableState;S("endReadable",h.endEmitted),h.endEmitted||(h.ended=!0,r.nextTick(oe,h,m))}function oe(m,h){if(S("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&m.length===0){if(m.endEmitted=!0,h.emit("end"),h.writable&&h.allowHalfOpen===!1)r.nextTick(me,h);else if(m.autoDestroy){let E=h._writableState;(!E||E.autoDestroy&&(E.finished||E.writable===!1))&&h.destroy()}}}function me(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}U.from=function(m,h){return N(U,m,h)};var Te;function x(){return Te===void 0&&(Te={}),Te}U.fromWeb=function(m,h){return x().newStreamReadableFromReadableStream(m,h)},U.toWeb=function(m,h){return x().newReadableStreamFromStreamReadable(m,h)},U.wrap=function(m,h){var E,O;return new U({objectMode:(E=(O=m.readableObjectMode)!==null&&O!==void 0?O:m.objectMode)!==null&&E!==void 0?E:!0,...h,destroy(te,he){A.destroyer(m,te),he(te)}}).wrap(m)}}),nE=De((t,e)=>{Oe(),Re(),Le();var r=ro(),{ArrayPrototypeSlice:n,Error:s,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:a,ObjectDefineProperties:o,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:f}=Jt();e.exports=re,re.WritableState=J;var{EventEmitter:d}=(aa(),At(no)),p=_m().Stream,{Buffer:g}=(cr(),At(ur)),b=oa(),{addAbortSignal:v}=Xc(),{getHighWaterMark:w,getDefaultHighWaterMark:_}=Em(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:C,ERR_STREAM_ALREADY_FINISHED:L,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:F,ERR_UNKNOWN_ENCODING:$}=Br().codes,{errorOrDestroy:I}=b;l(re.prototype,p.prototype),l(re,p);function M(){}var B=c("kOnFinished");function J(R,H,q){typeof q!="boolean"&&(q=H instanceof Si()),this.objectMode=!!(R&&R.objectMode),q&&(this.objectMode=this.objectMode||!!(R&&R.writableObjectMode)),this.highWaterMark=R?w(this,R,"writableHighWaterMark",q):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ue=!!(R&&R.decodeStrings===!1);this.decodeStrings=!ue,this.defaultEncoding=R&&R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=U.bind(void 0,H),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ie(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!R||R.emitClose!==!1,this.autoDestroy=!R||R.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function ie(R){R.buffered=[],R.bufferedIndex=0,R.allBuffers=!0,R.allNoop=!0}J.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},a(J.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function re(R){let H=this instanceof Si();if(!H&&!i(re,this))return new re(R);this._writableState=new J(R,this,H),R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final),typeof R.construct=="function"&&(this._construct=R.construct),R.signal&&v(R.signal,this)),p.call(this,R),b.construct(this,()=>{let q=this._writableState;q.writing||K(this,q),ce(this,q)})}a(re,f,{__proto__:null,value:function(R){return i(this,R)?!0:this!==re?!1:R&&R._writableState instanceof J}}),re.prototype.pipe=function(){I(this,new A)};function N(R,H,q,ue){let Z=R._writableState;if(typeof q=="function")ue=q,q=Z.defaultEncoding;else{if(!q)q=Z.defaultEncoding;else if(q!=="buffer"&&!g.isEncoding(q))throw new $(q);typeof ue!="function"&&(ue=M)}if(H===null)throw new j;if(!Z.objectMode)if(typeof H=="string")Z.decodeStrings!==!1&&(H=g.from(H,q),q="buffer");else if(H instanceof g)q="buffer";else if(p._isUint8Array(H))H=p._uint8ArrayToBuffer(H),q="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],H);let Y;return Z.ending?Y=new F:Z.destroyed&&(Y=new C("write")),Y?(r.nextTick(ue,Y),I(R,Y,!0),Y):(Z.pendingcb++,fe(R,Z,H,q,ue))}re.prototype.write=function(R,H,q){return N(this,R,H,q)===!0},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){let R=this._writableState;R.corked&&(R.corked--,R.writing||K(this,R))},re.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=u(R)),!g.isEncoding(R))throw new $(R);return this._writableState.defaultEncoding=R,this};function fe(R,H,q,ue,Z){let Y=H.objectMode?1:q.length;H.length+=Y;let se=H.length<H.highWaterMark;return se||(H.needDrain=!0),H.writing||H.corked||H.errored||!H.constructed?(H.buffered.push({chunk:q,encoding:ue,callback:Z}),H.allBuffers&&ue!=="buffer"&&(H.allBuffers=!1),H.allNoop&&Z!==M&&(H.allNoop=!1)):(H.writelen=Y,H.writecb=Z,H.writing=!0,H.sync=!0,R._write(q,ue,H.onwrite),H.sync=!1),se&&!H.errored&&!H.destroyed}function G(R,H,q,ue,Z,Y,se){H.writelen=ue,H.writecb=se,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new C("write")):q?R._writev(Z,H.onwrite):R._write(Z,Y,H.onwrite),H.sync=!1}function pe(R,H,q,ue){--H.pendingcb,ue(q),ee(H),I(R,q)}function U(R,H){let q=R._writableState,ue=q.sync,Z=q.writecb;if(typeof Z!="function"){I(R,new T);return}q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0,H?(H.stack,q.errored||(q.errored=H),R._readableState&&!R._readableState.errored&&(R._readableState.errored=H),ue?r.nextTick(pe,R,q,H,Z):pe(R,q,H,Z)):(q.buffered.length>q.bufferedIndex&&K(R,q),ue?q.afterWriteTickInfo!==null&&q.afterWriteTickInfo.cb===Z?q.afterWriteTickInfo.count++:(q.afterWriteTickInfo={count:1,cb:Z,stream:R,state:q},r.nextTick(de,q.afterWriteTickInfo)):xe(R,q,1,Z))}function de({stream:R,state:H,count:q,cb:ue}){return H.afterWriteTickInfo=null,xe(R,H,q,ue)}function xe(R,H,q,ue){for(!H.ending&&!R.destroyed&&H.length===0&&H.needDrain&&(H.needDrain=!1,R.emit("drain"));q-- >0;)H.pendingcb--,ue();H.destroyed&&ee(H),ce(R,H)}function ee(R){if(R.writing)return;for(let Z=R.bufferedIndex;Z<R.buffered.length;++Z){var H;let{chunk:Y,callback:se}=R.buffered[Z],Q=R.objectMode?1:Y.length;R.length-=Q,se((H=R.errored)!==null&&H!==void 0?H:new C("write"))}let q=R[B].splice(0);for(let Z=0;Z<q.length;Z++){var ue;q[Z]((ue=R.errored)!==null&&ue!==void 0?ue:new C("end"))}ie(R)}function K(R,H){if(H.corked||H.bufferProcessing||H.destroyed||!H.constructed)return;let{buffered:q,bufferedIndex:ue,objectMode:Z}=H,Y=q.length-ue;if(!Y)return;let se=ue;if(H.bufferProcessing=!0,Y>1&&R._writev){H.pendingcb-=Y-1;let Q=H.allNoop?M:me=>{for(let Te=se;Te<q.length;++Te)q[Te].callback(me)},oe=H.allNoop&&se===0?q:n(q,se);oe.allBuffers=H.allBuffers,G(R,H,!0,H.length,oe,"",Q),ie(H)}else{do{let{chunk:Q,encoding:oe,callback:me}=q[se];q[se++]=null;let Te=Z?1:Q.length;G(R,H,!1,Te,Q,oe,me)}while(se<q.length&&!H.writing);se===q.length?ie(H):se>256?(q.splice(0,se),H.bufferedIndex=0):H.bufferedIndex=se}H.bufferProcessing=!1}re.prototype._write=function(R,H,q){if(this._writev)this._writev([{chunk:R,encoding:H}],q);else throw new S("_write()")},re.prototype._writev=null,re.prototype.end=function(R,H,q){let ue=this._writableState;typeof R=="function"?(q=R,R=null,H=null):typeof H=="function"&&(q=H,H=null);let Z;if(R!=null){let Y=N(this,R,H);Y instanceof s&&(Z=Y)}return ue.corked&&(ue.corked=1,this.uncork()),Z||(!ue.errored&&!ue.ending?(ue.ending=!0,ce(this,ue,!0),ue.ended=!0):ue.finished?Z=new L("end"):ue.destroyed&&(Z=new C("end"))),typeof q=="function"&&(Z||ue.finished?r.nextTick(q,Z):ue[B].push(q)),this};function W(R){return R.ending&&!R.destroyed&&R.constructed&&R.length===0&&!R.errored&&R.buffered.length===0&&!R.finished&&!R.writing&&!R.errorEmitted&&!R.closeEmitted}function D(R,H){let q=!1;function ue(Z){if(q){I(R,Z??T());return}if(q=!0,H.pendingcb--,Z){let Y=H[B].splice(0);for(let se=0;se<Y.length;se++)Y[se](Z);I(R,Z,H.sync)}else W(H)&&(H.prefinished=!0,R.emit("prefinish"),H.pendingcb++,r.nextTick(le,R,H))}H.sync=!0,H.pendingcb++;try{R._final(ue)}catch(Z){ue(Z)}H.sync=!1}function X(R,H){!H.prefinished&&!H.finalCalled&&(typeof R._final=="function"&&!H.destroyed?(H.finalCalled=!0,D(R,H)):(H.prefinished=!0,R.emit("prefinish")))}function ce(R,H,q){W(H)&&(X(R,H),H.pendingcb===0&&(q?(H.pendingcb++,r.nextTick((ue,Z)=>{W(Z)?le(ue,Z):Z.pendingcb--},R,H)):W(H)&&(H.pendingcb++,le(R,H))))}function le(R,H){H.pendingcb--,H.finished=!0;let q=H[B].splice(0);for(let ue=0;ue<q.length;ue++)q[ue]();if(R.emit("finish"),H.autoDestroy){let ue=R._readableState;(!ue||ue.autoDestroy&&(ue.endEmitted||ue.readable===!1))&&R.destroy()}}o(re.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(R){this._writableState&&(this._writableState.destroyed=R)}},writable:{__proto__:null,get(){let R=this._writableState;return!!R&&R.writable!==!1&&!R.destroyed&&!R.errored&&!R.ending&&!R.ended},set(R){this._writableState&&(this._writableState.writable=!!R)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let R=this._writableState;return R?!R.destroyed&&!R.ending&&R.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var k=b.destroy;re.prototype.destroy=function(R,H){let q=this._writableState;return!q.destroyed&&(q.bufferedIndex<q.buffered.length||q[B].length)&&r.nextTick(ee,q),k.call(this,R,H),this},re.prototype._undestroy=b.undestroy,re.prototype._destroy=function(R,H){H(R)},re.prototype[d.captureRejectionSymbol]=function(R){this.destroy(R)};var P;function V(){return P===void 0&&(P={}),P}re.fromWeb=function(R,H){return V().newStreamWritableFromWritableStream(R,H)},re.toWeb=function(R){return V().newWritableStreamFromStreamWritable(R)}}),fL=De((t,e)=>{Oe(),Re(),Le();var r=ro(),n=(cr(),At(ur)),{isReadable:s,isWritable:i,isIterable:a,isNodeStream:o,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:c}=Mi(),f=ss(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=Br(),{destroyer:b}=oa(),v=Si(),w=Jc(),{createDeferredPromise:_}=Ei(),y=rE(),S=globalThis.Blob||n.Blob,T=typeof S<"u"?function($){return $ instanceof S}:function($){return!1},A=globalThis.AbortController||vm().AbortController,{FunctionPrototypeCall:C}=Jt(),L=class extends v{constructor($){super($),($==null?void 0:$.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),($==null?void 0:$.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function $(I,M){if(c(I))return I;if(l(I))return F({readable:I});if(u(I))return F({writable:I});if(o(I))return F({writable:!1,readable:!1});if(typeof I=="function"){let{value:J,write:ie,final:re,destroy:N}=j(I);if(a(J))return y(L,J,{objectMode:!0,write:ie,final:re,destroy:N});let fe=J==null?void 0:J.then;if(typeof fe=="function"){let G,pe=C(fe,J,U=>{if(U!=null)throw new g("nully","body",U)},U=>{b(G,U)});return G=new L({objectMode:!0,readable:!1,write:ie,final(U){re(async()=>{try{await pe,r.nextTick(U,null)}catch(de){r.nextTick(U,de)}})},destroy:N})}throw new g("Iterable, AsyncIterable or AsyncFunction",M,J)}if(T(I))return $(I.arrayBuffer());if(a(I))return y(L,I,{objectMode:!0,writable:!1});if(typeof(I==null?void 0:I.writable)=="object"||typeof(I==null?void 0:I.readable)=="object"){let J=I!=null&&I.readable?l(I==null?void 0:I.readable)?I==null?void 0:I.readable:$(I.readable):void 0,ie=I!=null&&I.writable?u(I==null?void 0:I.writable)?I==null?void 0:I.writable:$(I.writable):void 0;return F({readable:J,writable:ie})}let B=I==null?void 0:I.then;if(typeof B=="function"){let J;return C(B,I,ie=>{ie!=null&&J.push(ie),J.push(null)},ie=>{b(J,ie)}),J=new L({objectMode:!0,writable:!1,read(){}})}throw new p(M,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],I)};function j($){let{promise:I,resolve:M}=_(),B=new A,J=B.signal;return{value:$(async function*(){for(;;){let ie=I;I=null;let{chunk:re,done:N,cb:fe}=await ie;if(r.nextTick(fe),N)return;if(J.aborted)throw new d(void 0,{cause:J.reason});({promise:I,resolve:M}=_()),yield re}}(),{signal:J}),write(ie,re,N){let fe=M;M=null,fe({chunk:ie,done:!1,cb:N})},final(ie){let re=M;M=null,re({done:!0,cb:ie})},destroy(ie,re){B.abort(),re(ie)}}}function F($){let I=$.readable&&typeof $.readable.read!="function"?w.wrap($.readable):$.readable,M=$.writable,B=!!s(I),J=!!i(M),ie,re,N,fe,G;function pe(U){let de=fe;fe=null,de?de(U):U&&G.destroy(U)}return G=new L({readableObjectMode:!!(I!=null&&I.readableObjectMode),writableObjectMode:!!(M!=null&&M.writableObjectMode),readable:B,writable:J}),J&&(f(M,U=>{J=!1,U&&b(I,U),pe(U)}),G._write=function(U,de,xe){M.write(U,de)?xe():ie=xe},G._final=function(U){M.end(),re=U},M.on("drain",function(){if(ie){let U=ie;ie=null,U()}}),M.on("finish",function(){if(re){let U=re;re=null,U()}})),B&&(f(I,U=>{B=!1,U&&b(I,U),pe(U)}),I.on("readable",function(){if(N){let U=N;N=null,U()}}),I.on("end",function(){G.push(null)}),G._read=function(){for(;;){let U=I.read();if(U===null){N=G._read;return}if(!G.push(U))return}}),G._destroy=function(U,de){!U&&fe!==null&&(U=new d),N=null,ie=null,re=null,fe===null?de(U):(fe=de,b(M,U),b(I,U))},G}}),Si=De((t,e)=>{Oe(),Re(),Le();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:s,ObjectSetPrototypeOf:i}=Jt();e.exports=l;var a=Jc(),o=nE();i(l.prototype,a.prototype),i(l,a);{let d=s(o.prototype);for(let p=0;p<d.length;p++){let g=d[p];l.prototype[g]||(l.prototype[g]=o.prototype[g])}}function l(d){if(!(this instanceof l))return new l(d);a.call(this,d),o.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(l.prototype,{writable:{__proto__:null,...n(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(o.prototype,"writableLength")},writableFinished:{__proto__:null,...n(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});var u;function c(){return u===void 0&&(u={}),u}l.fromWeb=function(d,p){return c().newStreamDuplexFromReadableWritablePair(d,p)},l.toWeb=function(d){return c().newReadableWritablePairFromDuplex(d)};var f;l.from=function(d){return f||(f=fL()),f(d,"body")}}),iE=De((t,e)=>{Oe(),Re(),Le();var{ObjectSetPrototypeOf:r,Symbol:n}=Jt();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:s}=Br().codes,i=Si(),{getHighWaterMark:a}=Em();r(l.prototype,i.prototype),r(l,i);var o=n("kCallback");function l(f){if(!(this instanceof l))return new l(f);let d=f?a(this,f,"readableHighWaterMark",!0):null;d===0&&(f={...f,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:f.writableHighWaterMark||0}),i.call(this,f),this._readableState.sync=!1,this[o]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function u(f){typeof this._flush=="function"&&!this.destroyed?this._flush((d,p)=>{if(d){f?f(d):this.destroy(d);return}p!=null&&this.push(p),this.push(null),f&&f()}):(this.push(null),f&&f())}function c(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(f,d,p){throw new s("_transform()")},l.prototype._write=function(f,d,p){let g=this._readableState,b=this._writableState,v=g.length;this._transform(f,d,(w,_)=>{if(w){p(w);return}_!=null&&this.push(_),b.ended||v===g.length||g.length<g.highWaterMark?p():this[o]=p})},l.prototype._read=function(){if(this[o]){let f=this[o];this[o]=null,f()}}}),sE=De((t,e)=>{Oe(),Re(),Le();var{ObjectSetPrototypeOf:r}=Jt();e.exports=s;var n=iE();r(s.prototype,n.prototype),r(s,n);function s(i){if(!(this instanceof s))return new s(i);n.call(this,i)}s.prototype._transform=function(i,a,o){o(null,i)}}),Tm=De((t,e)=>{Oe(),Re(),Le();var r=ro(),{ArrayIsArray:n,Promise:s,SymbolAsyncIterator:i}=Jt(),a=ss(),{once:o}=Ei(),l=oa(),u=Si(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:v}=Br(),{validateFunction:w,validateAbortSignal:_}=Kc(),{isIterable:y,isReadable:S,isReadableNodeStream:T,isNodeStream:A,isTransformStream:C,isWebStream:L,isReadableStream:j,isReadableEnded:F}=Mi(),$=globalThis.AbortController||vm().AbortController,I,M;function B(de,xe,ee){let K=!1;de.on("close",()=>{K=!0});let W=a(de,{readable:xe,writable:ee},D=>{K=!D});return{destroy:D=>{K||(K=!0,l.destroyer(de,D||new g("pipe")))},cleanup:W}}function J(de){return w(de[de.length-1],"streams[stream.length - 1]"),de.pop()}function ie(de){if(y(de))return de;if(T(de))return re(de);throw new f("val",["Readable","Iterable","AsyncIterable"],de)}async function*re(de){M||(M=Jc()),yield*M.prototype[i].call(de)}async function N(de,xe,ee,{end:K}){let W,D=null,X=k=>{if(k&&(W=k),D){let P=D;D=null,P()}},ce=()=>new s((k,P)=>{W?P(W):D=()=>{W?P(W):k()}});xe.on("drain",X);let le=a(xe,{readable:!1},X);try{xe.writableNeedDrain&&await ce();for await(let k of de)xe.write(k)||await ce();K&&xe.end(),await ce(),ee()}catch(k){ee(W!==k?c(W,k):k)}finally{le(),xe.off("drain",X)}}async function fe(de,xe,ee,{end:K}){C(xe)&&(xe=xe.writable);let W=xe.getWriter();try{for await(let D of de)await W.ready,W.write(D).catch(()=>{});await W.ready,K&&await W.close(),ee()}catch(D){try{await W.abort(D),ee(D)}catch(X){ee(X)}}}function G(...de){return pe(de,o(J(de)))}function pe(de,xe,ee){if(de.length===1&&n(de[0])&&(de=de[0]),de.length<2)throw new p("streams");let K=new $,W=K.signal,D=ee==null?void 0:ee.signal,X=[];_(D,"options.signal");function ce(){H(new v)}D==null||D.addEventListener("abort",ce);let le,k,P=[],V=0;function R(Y){H(Y,--V===0)}function H(Y,se){if(Y&&(!le||le.code==="ERR_STREAM_PREMATURE_CLOSE")&&(le=Y),!(!le&&!se)){for(;P.length;)P.shift()(le);D==null||D.removeEventListener("abort",ce),K.abort(),se&&(le||X.forEach(Q=>Q()),r.nextTick(xe,le,k))}}let q;for(let Y=0;Y<de.length;Y++){let se=de[Y],Q=Y<de.length-1,oe=Y>0,me=Q||(ee==null?void 0:ee.end)!==!1,Te=Y===de.length-1;if(A(se)){let x=function(m){m&&m.name!=="AbortError"&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"&&R(m)};if(me){let{destroy:m,cleanup:h}=B(se,Q,oe);P.push(m),S(se)&&Te&&X.push(h)}se.on("error",x),S(se)&&Te&&X.push(()=>{se.removeListener("error",x)})}if(Y===0)if(typeof se=="function"){if(q=se({signal:W}),!y(q))throw new d("Iterable, AsyncIterable or Stream","source",q)}else y(se)||T(se)||C(se)?q=se:q=u.from(se);else if(typeof se=="function"){if(C(q)){var ue;q=ie((ue=q)===null||ue===void 0?void 0:ue.readable)}else q=ie(q);if(q=se(q,{signal:W}),Q){if(!y(q,!0))throw new d("AsyncIterable",`transform[${Y-1}]`,q)}else{var Z;I||(I=sE());let x=new I({objectMode:!0}),m=(Z=q)===null||Z===void 0?void 0:Z.then;if(typeof m=="function")V++,m.call(q,O=>{k=O,O!=null&&x.write(O),me&&x.end(),r.nextTick(R)},O=>{x.destroy(O),r.nextTick(R,O)});else if(y(q,!0))V++,N(q,x,R,{end:me});else if(j(q)||C(q)){let O=q.readable||q;V++,N(O,x,R,{end:me})}else throw new d("AsyncIterable or Promise","destination",q);q=x;let{destroy:h,cleanup:E}=B(q,!1,!0);P.push(h),Te&&X.push(E)}}else if(A(se)){if(T(q)){V+=2;let x=U(q,se,R,{end:me});S(se)&&Te&&X.push(x)}else if(C(q)||j(q)){let x=q.readable||q;V++,N(x,se,R,{end:me})}else if(y(q))V++,N(q,se,R,{end:me});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],q);q=se}else if(L(se)){if(T(q))V++,fe(ie(q),se,R,{end:me});else if(j(q)||y(q))V++,fe(q,se,R,{end:me});else if(C(q))V++,fe(q.readable,se,R,{end:me});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],q);q=se}else q=u.from(se)}return(W!=null&&W.aborted||D!=null&&D.aborted)&&r.nextTick(ce),q}function U(de,xe,ee,{end:K}){let W=!1;if(xe.on("close",()=>{W||ee(new b)}),de.pipe(xe,{end:!1}),K){let D=function(){W=!0,xe.end()};F(de)?r.nextTick(D):de.once("end",D)}else ee();return a(de,{readable:!0,writable:!1},D=>{let X=de._readableState;D&&D.code==="ERR_STREAM_PREMATURE_CLOSE"&&X&&X.ended&&!X.errored&&!X.errorEmitted?de.once("end",ee).once("error",ee):ee(D)}),a(xe,{readable:!1,writable:!0},ee)}e.exports={pipelineImpl:pe,pipeline:G}}),oE=De((t,e)=>{Oe(),Re(),Le();var{pipeline:r}=Tm(),n=Si(),{destroyer:s}=oa(),{isNodeStream:i,isReadable:a,isWritable:o,isWebStream:l,isTransformStream:u,isWritableStream:c,isReadableStream:f}=Mi(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=Br(),b=ss();e.exports=function(...v){if(v.length===0)throw new g("streams");if(v.length===1)return n.from(v[0]);let w=[...v];if(typeof v[0]=="function"&&(v[0]=n.from(v[0])),typeof v[v.length-1]=="function"){let I=v.length-1;v[I]=n.from(v[I])}for(let I=0;I<v.length;++I)if(!(!i(v[I])&&!l(v[I]))){if(I<v.length-1&&!(a(v[I])||f(v[I])||u(v[I])))throw new p(`streams[${I}]`,w[I],"must be readable");if(I>0&&!(o(v[I])||c(v[I])||u(v[I])))throw new p(`streams[${I}]`,w[I],"must be writable")}let _,y,S,T,A;function C(I){let M=T;T=null,M?M(I):I?A.destroy(I):!$&&!F&&A.destroy()}let L=v[0],j=r(v,C),F=!!(o(L)||c(L)||u(L)),$=!!(a(j)||f(j)||u(j));if(A=new n({writableObjectMode:!!(L!=null&&L.writableObjectMode),readableObjectMode:!!(j!=null&&j.writableObjectMode),writable:F,readable:$}),F){if(i(L))A._write=function(M,B,J){L.write(M,B)?J():_=J},A._final=function(M){L.end(),y=M},L.on("drain",function(){if(_){let M=_;_=null,M()}});else if(l(L)){let M=(u(L)?L.writable:L).getWriter();A._write=async function(B,J,ie){try{await M.ready,M.write(B).catch(()=>{}),ie()}catch(re){ie(re)}},A._final=async function(B){try{await M.ready,M.close().catch(()=>{}),y=B}catch(J){B(J)}}}let I=u(j)?j.readable:j;b(I,()=>{if(y){let M=y;y=null,M()}})}if($){if(i(j))j.on("readable",function(){if(S){let I=S;S=null,I()}}),j.on("end",function(){A.push(null)}),A._read=function(){for(;;){let I=j.read();if(I===null){S=A._read;return}if(!A.push(I))return}};else if(l(j)){let I=(u(j)?j.readable:j).getReader();A._read=async function(){for(;;)try{let{value:M,done:B}=await I.read();if(!A.push(M))return;if(B){A.push(null);return}}catch{return}}}}return A._destroy=function(I,M){!I&&T!==null&&(I=new d),S=null,_=null,y=null,T===null?M(I):(T=M,i(j)&&s(j,I))},A}}),dL=De((t,e)=>{Oe(),Re(),Le();var r=globalThis.AbortController||vm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:a},AbortError:o}=Br(),{validateAbortSignal:l,validateInteger:u,validateObject:c}=Kc(),f=Jt().Symbol("kWeak"),{finished:d}=ss(),p=oE(),{addAbortSignalNoValidate:g}=Xc(),{isWritable:b,isNodeStream:v}=Mi(),{ArrayPrototypePush:w,MathFloor:_,Number:y,NumberIsNaN:S,Promise:T,PromiseReject:A,PromisePrototypeThen:C,Symbol:L}=Jt(),j=L("kEmpty"),F=L("kEof");function $(K,W){if(W!=null&&c(W,"options"),(W==null?void 0:W.signal)!=null&&l(W.signal,"options.signal"),v(K)&&!b(K))throw new n("stream",K,"must be writable");let D=p(this,K);return W!=null&&W.signal&&g(W.signal,D),D}function I(K,W){if(typeof K!="function")throw new s("fn",["Function","AsyncFunction"],K);W!=null&&c(W,"options"),(W==null?void 0:W.signal)!=null&&l(W.signal,"options.signal");let D=1;return(W==null?void 0:W.concurrency)!=null&&(D=_(W.concurrency)),u(D,"concurrency",1),(async function*(){var X,ce;let le=new r,k=this,P=[],V=le.signal,R={signal:V},H=()=>le.abort();W!=null&&(X=W.signal)!==null&&X!==void 0&&X.aborted&&H(),W==null||(ce=W.signal)===null||ce===void 0||ce.addEventListener("abort",H);let q,ue,Z=!1;function Y(){Z=!0}async function se(){try{for await(let me of k){var Q;if(Z)return;if(V.aborted)throw new o;try{me=K(me,R)}catch(Te){me=A(Te)}me!==j&&(typeof((Q=me)===null||Q===void 0?void 0:Q.catch)=="function"&&me.catch(Y),P.push(me),q&&(q(),q=null),!Z&&P.length&&P.length>=D&&await new T(Te=>{ue=Te}))}P.push(F)}catch(me){let Te=A(me);C(Te,void 0,Y),P.push(Te)}finally{var oe;Z=!0,q&&(q(),q=null),W==null||(oe=W.signal)===null||oe===void 0||oe.removeEventListener("abort",H)}}se();try{for(;;){for(;P.length>0;){let Q=await P[0];if(Q===F)return;if(V.aborted)throw new o;Q!==j&&(yield Q),P.shift(),ue&&(ue(),ue=null)}await new T(Q=>{q=Q})}}finally{le.abort(),Z=!0,ue&&(ue(),ue=null)}}).call(this)}function M(K=void 0){return K!=null&&c(K,"options"),(K==null?void 0:K.signal)!=null&&l(K.signal,"options.signal"),(async function*(){let W=0;for await(let X of this){var D;if(K!=null&&(D=K.signal)!==null&&D!==void 0&&D.aborted)throw new o({cause:K.signal.reason});yield[W++,X]}}).call(this)}async function B(K,W=void 0){for await(let D of N.call(this,K,W))return!0;return!1}async function J(K,W=void 0){if(typeof K!="function")throw new s("fn",["Function","AsyncFunction"],K);return!await B.call(this,async(...D)=>!await K(...D),W)}async function ie(K,W){for await(let D of N.call(this,K,W))return D}async function re(K,W){if(typeof K!="function")throw new s("fn",["Function","AsyncFunction"],K);async function D(X,ce){return await K(X,ce),j}for await(let X of I.call(this,D,W));}function N(K,W){if(typeof K!="function")throw new s("fn",["Function","AsyncFunction"],K);async function D(X,ce){return await K(X,ce)?X:j}return I.call(this,D,W)}var fe=class extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function G(K,W,D){var X;if(typeof K!="function")throw new s("reducer",["Function","AsyncFunction"],K);D!=null&&c(D,"options"),(D==null?void 0:D.signal)!=null&&l(D.signal,"options.signal");let ce=arguments.length>1;if(D!=null&&(X=D.signal)!==null&&X!==void 0&&X.aborted){let R=new o(void 0,{cause:D.signal.reason});throw this.once("error",()=>{}),await d(this.destroy(R)),R}let le=new r,k=le.signal;if(D!=null&&D.signal){let R={once:!0,[f]:this};D.signal.addEventListener("abort",()=>le.abort(),R)}let P=!1;try{for await(let R of this){var V;if(P=!0,D!=null&&(V=D.signal)!==null&&V!==void 0&&V.aborted)throw new o;ce?W=await K(W,R,{signal:k}):(W=R,ce=!0)}if(!P&&!ce)throw new fe}finally{le.abort()}return W}async function pe(K){K!=null&&c(K,"options"),(K==null?void 0:K.signal)!=null&&l(K.signal,"options.signal");let W=[];for await(let X of this){var D;if(K!=null&&(D=K.signal)!==null&&D!==void 0&&D.aborted)throw new o(void 0,{cause:K.signal.reason});w(W,X)}return W}function U(K,W){let D=I.call(this,K,W);return(async function*(){for await(let X of D)yield*X}).call(this)}function de(K){if(K=y(K),S(K))return 0;if(K<0)throw new a("number",">= 0",K);return K}function xe(K,W=void 0){return W!=null&&c(W,"options"),(W==null?void 0:W.signal)!=null&&l(W.signal,"options.signal"),K=de(K),(async function*(){var D;if(W!=null&&(D=W.signal)!==null&&D!==void 0&&D.aborted)throw new o;for await(let ce of this){var X;if(W!=null&&(X=W.signal)!==null&&X!==void 0&&X.aborted)throw new o;K--<=0&&(yield ce)}}).call(this)}function ee(K,W=void 0){return W!=null&&c(W,"options"),(W==null?void 0:W.signal)!=null&&l(W.signal,"options.signal"),K=de(K),(async function*(){var D;if(W!=null&&(D=W.signal)!==null&&D!==void 0&&D.aborted)throw new o;for await(let ce of this){var X;if(W!=null&&(X=W.signal)!==null&&X!==void 0&&X.aborted)throw new o;if(K-- >0)yield ce;else return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:M,drop:xe,filter:N,flatMap:U,map:I,take:ee,compose:$},e.exports.promiseReturningOperators={every:J,forEach:re,reduce:G,toArray:pe,some:B,find:ie}}),aE=De((t,e)=>{Oe(),Re(),Le();var{ArrayPrototypePop:r,Promise:n}=Jt(),{isIterable:s,isNodeStream:i,isWebStream:a}=Mi(),{pipelineImpl:o}=Tm(),{finished:l}=ss();lE();function u(...c){return new n((f,d)=>{let p,g,b=c[c.length-1];if(b&&typeof b=="object"&&!i(b)&&!s(b)&&!a(b)){let v=r(c);p=v.signal,g=v.end}o(c,(v,w)=>{v?d(v):f(w)},{signal:p,end:g})})}e.exports={finished:l,pipeline:u}}),lE=De((t,e)=>{Oe(),Re(),Le();var{Buffer:r}=(cr(),At(ur)),{ObjectDefineProperty:n,ObjectKeys:s,ReflectApply:i}=Jt(),{promisify:{custom:a}}=Ei(),{streamReturningOperators:o,promiseReturningOperators:l}=dL(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Br(),c=oE(),{pipeline:f}=Tm(),{destroyer:d}=oa(),p=ss(),g=aE(),b=Mi(),v=e.exports=_m().Stream;v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.Readable=Jc();for(let _ of s(o)){let y=function(...T){if(new.target)throw u();return v.Readable.from(i(S,this,T))},S=o[_];n(y,"name",{__proto__:null,value:S.name}),n(y,"length",{__proto__:null,value:S.length}),n(v.Readable.prototype,_,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(let _ of s(l)){let y=function(...T){if(new.target)throw u();return i(S,this,T)},S=l[_];n(y,"name",{__proto__:null,value:S.name}),n(y,"length",{__proto__:null,value:S.length}),n(v.Readable.prototype,_,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=nE(),v.Duplex=Si(),v.Transform=iE(),v.PassThrough=sE(),v.pipeline=f;var{addAbortSignal:w}=Xc();v.addAbortSignal=w,v.finished=p,v.destroy=d,v.compose=c,n(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),n(f,a,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),n(p,a,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(_){return _ instanceof Uint8Array},v._uint8ArrayToBuffer=function(_){return r.from(_.buffer,_.byteOffset,_.byteLength)}}),io=De((t,e)=>{Oe(),Re(),Le();var r=lE(),n=aE(),s=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=s,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=r.Stream,e.exports.default=e.exports}),hL=De((t,e)=>{Oe(),Re(),Le(),typeof Object.create=="function"?e.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,n){if(n){r.super_=n;var s=function(){};s.prototype=n.prototype,r.prototype=new s,r.prototype.constructor=r}}}),pL=De((t,e)=>{Oe(),Re(),Le();var{Buffer:r}=(cr(),At(ur)),n=Symbol.for("BufferList");function s(i){if(!(this instanceof s))return new s(i);s._init.call(this,i)}s._init=function(i){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,i&&this.append(i)},s.prototype._new=function(i){return new s(i)},s.prototype._offset=function(i){if(i===0)return[0,0];let a=0;for(let o=0;o<this._bufs.length;o++){let l=a+this._bufs[o].length;if(i<l||o===this._bufs.length-1)return[o,i-a];a=l}},s.prototype._reverseOffset=function(i){let a=i[0],o=i[1];for(let l=0;l<a;l++)o+=this._bufs[l].length;return o},s.prototype.get=function(i){if(i>this.length||i<0)return;let a=this._offset(i);return this._bufs[a[0]][a[1]]},s.prototype.slice=function(i,a){return typeof i=="number"&&i<0&&(i+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,i,a)},s.prototype.copy=function(i,a,o,l){if((typeof o!="number"||o<0)&&(o=0),(typeof l!="number"||l>this.length)&&(l=this.length),o>=this.length||l<=0)return i||r.alloc(0);let u=!!i,c=this._offset(o),f=l-o,d=f,p=u&&a||0,g=c[1];if(o===0&&l===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(i,p),p+=this._bufs[b].length;return i}if(d<=this._bufs[c[0]].length-g)return u?this._bufs[c[0]].copy(i,a,g,g+d):this._bufs[c[0]].slice(g,g+d);u||(i=r.allocUnsafe(f));for(let b=c[0];b<this._bufs.length;b++){let v=this._bufs[b].length-g;if(d>v)this._bufs[b].copy(i,p,g),p+=v;else{this._bufs[b].copy(i,p,g,g+d),p+=v;break}d-=v,g&&(g=0)}return i.length>p?i.slice(0,p):i},s.prototype.shallowSlice=function(i,a){if(i=i||0,a=typeof a!="number"?this.length:a,i<0&&(i+=this.length),a<0&&(a+=this.length),i===a)return this._new();let o=this._offset(i),l=this._offset(a),u=this._bufs.slice(o[0],l[0]+1);return l[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,l[1]),o[1]!==0&&(u[0]=u[0].slice(o[1])),this._new(u)},s.prototype.toString=function(i,a,o){return this.slice(a,o).toString(i)},s.prototype.consume=function(i){if(i=Math.trunc(i),Number.isNaN(i)||i<=0)return this;for(;this._bufs.length;)if(i>=this._bufs[0].length)i-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(i),this.length-=i;break}return this},s.prototype.duplicate=function(){let i=this._new();for(let a=0;a<this._bufs.length;a++)i.append(this._bufs[a]);return i},s.prototype.append=function(i){if(i==null)return this;if(i.buffer)this._appendBuffer(r.from(i.buffer,i.byteOffset,i.byteLength));else if(Array.isArray(i))for(let a=0;a<i.length;a++)this.append(i[a]);else if(this._isBufferList(i))for(let a=0;a<i._bufs.length;a++)this.append(i._bufs[a]);else typeof i=="number"&&(i=i.toString()),this._appendBuffer(r.from(i));return this},s.prototype._appendBuffer=function(i){this._bufs.push(i),this.length+=i.length},s.prototype.indexOf=function(i,a,o){if(o===void 0&&typeof a=="string"&&(o=a,a=void 0),typeof i=="function"||Array.isArray(i))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof i=="number"?i=r.from([i]):typeof i=="string"?i=r.from(i,o):this._isBufferList(i)?i=i.slice():Array.isArray(i.buffer)?i=r.from(i.buffer,i.byteOffset,i.byteLength):r.isBuffer(i)||(i=r.from(i)),a=Number(a||0),isNaN(a)&&(a=0),a<0&&(a=this.length+a),a<0&&(a=0),i.length===0)return a>this.length?this.length:a;let l=this._offset(a),u=l[0],c=l[1];for(;u<this._bufs.length;u++){let f=this._bufs[u];for(;c<f.length;)if(f.length-c>=i.length){let d=f.indexOf(i,c);if(d!==-1)return this._reverseOffset([u,d]);c=f.length-i.length+1}else{let d=this._reverseOffset([u,c]);if(this._match(d,i))return d;c++}c=0}return-1},s.prototype._match=function(i,a){if(this.length-i<a.length)return!1;for(let o=0;o<a.length;o++)if(this.get(i+o)!==a[o])return!1;return!0},function(){let i={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let a in i)(function(o){i[o]===null?s.prototype[o]=function(l,u){return this.slice(l,l+u)[o](0,u)}:s.prototype[o]=function(l=0){return this.slice(l,l+i[o])[o](0)}})(a)}(),s.prototype._isBufferList=function(i){return i instanceof s||s.isBufferList(i)},s.isBufferList=function(i){return i!=null&&i[n]},e.exports=s}),gL=De((t,e)=>{Oe(),Re(),Le();var r=io().Duplex,n=hL(),s=pL();function i(a){if(!(this instanceof i))return new i(a);if(typeof a=="function"){this._callback=a;let o=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",o)}),this.on("unpipe",function(l){l.removeListener("error",o)}),a=null}s._init.call(this,a),r.call(this)}n(i,r),Object.assign(i.prototype,s.prototype),i.prototype._new=function(a){return new i(a)},i.prototype._write=function(a,o,l){this._appendBuffer(a),typeof l=="function"&&l()},i.prototype._read=function(a){if(!this.length)return this.push(null);a=Math.min(a,this.length),this.push(this.slice(0,a)),this.consume(a)},i.prototype.end=function(a){r.prototype.end.call(this,a),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype._destroy=function(a,o){this._bufs.length=0,this.length=0,o(a)},i.prototype._isBufferList=function(a){return a instanceof i||a instanceof s||i.isBufferList(a)},i.isBufferList=s.isBufferList,e.exports=i,e.exports.BufferListStream=i,e.exports.BufferList=s}),mL=De((t,e)=>{Oe(),Re(),Le();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=r}),uE=De((t,e)=>{Oe(),Re(),Le();var r=e.exports,{Buffer:n}=(cr(),At(ur));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let i in r.requiredHeaderFlags){let a=r.requiredHeaderFlags[i];r.requiredHeaderFlagsErrors[i]="Invalid header flag bits, must be 0x"+a.toString(16)+" for "+r.types[i]+" packet"}r.codes={};for(let i in r.types){let a=r.types[i];r.codes[a]=i}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=n.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=n.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=n.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let i in r.properties){let a=r.properties[i];r.propertiesCodes[a]=i}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function s(i){return[0,1,2].map(a=>[0,1].map(o=>[0,1].map(l=>{let u=n.alloc(1);return u.writeUInt8(r.codes[i]<<r.CMD_SHIFT|(o?r.DUP_MASK:0)|a<<r.QOS_SHIFT|l,0,!0),u})))}r.PUBLISH_HEADER=s("publish"),r.SUBSCRIBE_HEADER=s("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=s("unsubscribe"),r.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},r.SUBACK_HEADER=n.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=n.from([3]),r.VERSION4=n.from([4]),r.VERSION5=n.from([5]),r.VERSION131=n.from([131]),r.VERSION132=n.from([132]),r.QOS=[0,1,2].map(i=>n.from([i])),r.EMPTY={pingreq:n.from([r.codes.pingreq<<4,0]),pingresp:n.from([r.codes.pingresp<<4,0]),disconnect:n.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),bL=De((t,e)=>{Oe(),Re(),Le();var r=1e3,n=r*60,s=n*60,i=s*24,a=i*7,o=i*365.25;e.exports=function(d,p){p=p||{};var g=typeof d;if(g==="string"&&d.length>0)return l(d);if(g==="number"&&isFinite(d))return p.long?c(d):u(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function l(d){if(d=String(d),!(d.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(p){var g=parseFloat(p[1]),b=(p[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return g*o;case"weeks":case"week":case"w":return g*a;case"days":case"day":case"d":return g*i;case"hours":case"hour":case"hrs":case"hr":case"h":return g*s;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(d){var p=Math.abs(d);return p>=i?Math.round(d/i)+"d":p>=s?Math.round(d/s)+"h":p>=n?Math.round(d/n)+"m":p>=r?Math.round(d/r)+"s":d+"ms"}function c(d){var p=Math.abs(d);return p>=i?f(d,p,i,"day"):p>=s?f(d,p,s,"hour"):p>=n?f(d,p,n,"minute"):p>=r?f(d,p,r,"second"):d+" ms"}function f(d,p,g,b){var v=p>=g*1.5;return Math.round(d/g)+" "+b+(v?"s":"")}}),yL=De((t,e)=>{Oe(),Re(),Le();function r(n){i.debug=i,i.default=i,i.coerce=f,i.disable=l,i.enable=o,i.enabled=u,i.humanize=bL(),i.destroy=d,Object.keys(n).forEach(p=>{i[p]=n[p]}),i.names=[],i.skips=[],i.formatters={};function s(p){let g=0;for(let b=0;b<p.length;b++)g=(g<<5)-g+p.charCodeAt(b),g|=0;return i.colors[Math.abs(g)%i.colors.length]}i.selectColor=s;function i(p){let g,b=null,v,w;function _(...y){if(!_.enabled)return;let S=_,T=Number(new Date),A=T-(g||T);S.diff=A,S.prev=g,S.curr=T,g=T,y[0]=i.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(L,j)=>{if(L==="%%")return"%";C++;let F=i.formatters[j];if(typeof F=="function"){let $=y[C];L=F.call(S,$),y.splice(C,1),C--}return L}),i.formatArgs.call(S,y),(S.log||i.log).apply(S,y)}return _.namespace=p,_.useColors=i.useColors(),_.color=i.selectColor(p),_.extend=a,_.destroy=i.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(v!==i.namespaces&&(v=i.namespaces,w=i.enabled(p)),w),set:y=>{b=y}}),typeof i.init=="function"&&i.init(_),_}function a(p,g){let b=i(this.namespace+(typeof g>"u"?":":g)+p);return b.log=this.log,b}function o(p){i.save(p),i.namespaces=p,i.names=[],i.skips=[];let g,b=(typeof p=="string"?p:"").split(/[\s,]+/),v=b.length;for(g=0;g<v;g++)b[g]&&(p=b[g].replace(/\*/g,".*?"),p[0]==="-"?i.skips.push(new RegExp("^"+p.slice(1)+"$")):i.names.push(new RegExp("^"+p+"$")))}function l(){let p=[...i.names.map(c),...i.skips.map(c).map(g=>"-"+g)].join(",");return i.enable(""),p}function u(p){if(p[p.length-1]==="*")return!0;let g,b;for(g=0,b=i.skips.length;g<b;g++)if(i.skips[g].test(p))return!1;for(g=0,b=i.names.length;g<b;g++)if(i.names[g].test(p))return!0;return!1}function c(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function f(p){return p instanceof Error?p.stack||p.message:p}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}e.exports=r}),xi=De((t,e)=>{Oe(),Re(),Le(),t.formatArgs=n,t.save=s,t.load=i,t.useColors=r,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,f=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(c++,d==="%c"&&(f=c))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function s(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function i(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof bt<"u"&&"env"in bt&&(l=bt.env.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=yL()(t);var{formatters:o}=e.exports;o.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),wL=De((t,e)=>{Oe(),Re(),Le();var r=gL(),{EventEmitter:n}=(aa(),At(no)),s=mL(),i=uE(),a=xi()("mqtt-packet:parser"),o=class eg extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof eg?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new eg().parser(u)}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new s,this.error=null,this._list=r(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),a("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),c=u>>i.CMD_SHIFT;this.packet.cmd=i.types[c];let f=u&15,d=i.requiredHeaderFlags[c];return d!=null&&f!==d?this._emitError(new Error(i.requiredHeaderFlagsErrors[c])):(this.packet.retain=(u&i.RETAIN_MASK)!==0,this.packet.qos=u>>i.QOS_SHIFT&i.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&i.DUP_MASK)!==0,a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),a("_parseLength %d",u.value),!!u}_parsePayload(){a("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return a("_parsePayload complete result: %s",u),u}_parseConnect(){a("_parseConnect");let u,c,f,d,p={},g=this.packet,b=this._parseString();if(b===null)return this._emitError(new Error("Cannot parse protocolId"));if(b!=="MQTT"&&b!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=b,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));p.username=this._list.readUInt8(this._pos)&i.USERNAME_MASK,p.password=this._list.readUInt8(this._pos)&i.PASSWORD_MASK,p.will=this._list.readUInt8(this._pos)&i.WILL_FLAG_MASK;let v=!!(this._list.readUInt8(this._pos)&i.WILL_RETAIN_MASK),w=(this._list.readUInt8(this._pos)&i.WILL_QOS_MASK)>>i.WILL_QOS_SHIFT;if(p.will)g.will={},g.will.retain=v,g.will.qos=w;else{if(v)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(w)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&i.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(g.properties=y)}let _=this._parseString();if(_===null)return this._emitError(new Error("Packet too short"));if(g.clientId=_,a("_parseConnect: packet.clientId: %s",g.clientId),p.will){if(g.protocolVersion===5){let y=this._parseProperties();Object.getOwnPropertyNames(y).length&&(g.will.properties=y)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=u,a("_parseConnect: packet.will.topic: %s",g.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=c,a("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(p.username){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse username"));g.username=d,a("_parseConnect: packet.username: %s",g.username)}if(p.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));g.password=f}return this.settings=g,a("_parseConnect: complete"),g}_parseConnack(){a("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(c&i.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(u.properties=f)}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}u.payload=this._list.slice(this._pos,u.length),a("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){a("_parseSubscribe");let u=this.packet,c,f,d,p,g,b,v;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(u.properties=w)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(d=f&i.SUBSCRIBE_OPTIONS_QOS_MASK,d>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(b=(f>>i.SUBSCRIBE_OPTIONS_NL_SHIFT&i.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(f>>i.SUBSCRIBE_OPTIONS_RAP_SHIFT&i.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,p=f>>i.SUBSCRIBE_OPTIONS_RH_SHIFT&i.SUBSCRIBE_OPTIONS_RH_MASK,p>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));v={topic:c,qos:d},this.settings.protocolVersion===5?(v.nl=b,v.rap=g,v.rh=p):this.settings.bridgeMode&&(v.rh=0,v.rap=!0,v.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",v),u.subscriptions.push(v)}}}_parseSuback(){a("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!i.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){a("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),u.unsubscriptions.push(c)}}}_parseUnsuback(){a("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(u.properties=c),u.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!i.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!i.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!i.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}a("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}}return!0}_parseDisconnect(){let u=this.packet;if(a("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),i.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}return a("_parseDisconnect result: true"),!0}_parseAuth(){a("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!i.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(u.properties=c),a("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let c=this._parseNum(),f=c+this._pos;if(c===-1||f>this._list.length||f>this.packet.length)return null;let d=this._list.toString("utf8",this._pos,f);return this._pos+=c,a("_parseString: result: %s",d),d}_parseStringPair(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),c=u+this._pos;if(u===-1||c>this._list.length||c>this.packet.length)return null;let f=this._list.slice(this._pos,c);return this._pos+=u,a("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){a("_parseVarByteNum");let c=4,f=0,d=1,p=0,g=!1,b,v=this._pos?this._pos:0;for(;f<c&&v+f<this._list.length;){if(b=this._list.readUInt8(v+f++),p+=d*(b&i.VARBYTEINT_MASK),d*=128,!(b&i.VARBYTEINT_FIN_MASK)){g=!0;break}if(this._list.length<=f)break}return!g&&f===c&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),v&&(this._pos+=f),g?u?g={bytes:f,value:p}:g=p:g=!1,a("_parseVarByteNum: result: %o",g),g}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",u),u}_parseByType(u){switch(a("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){a("_parseProperties");let u=this._parseVarByteNum(),c=this._pos+u,f={};for(;this._pos<c;){let d=this._parseByte();if(!d)return this._emitError(new Error("Cannot parse property code type")),!1;let p=i.propertiesCodes[d];if(!p)return this._emitError(new Error("Unknown property")),!1;if(p==="userProperties"){f[p]||(f[p]=Object.create(null));let g=this._parseByType(i.propertiesTypes[p]);if(f[p][g.name])if(Array.isArray(f[p][g.name]))f[p][g.name].push(g.value);else{let b=f[p][g.name];f[p][g.name]=[b],f[p][g.name].push(g.value)}else f[p][g.name]=g.value;continue}f[p]?Array.isArray(f[p])?f[p].push(this._parseByType(i.propertiesTypes[p])):(f[p]=[f[p]],f[p].push(this._parseByType(i.propertiesTypes[p]))):f[p]=this._parseByType(i.propertiesTypes[p])}return f}_newPacket(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new s,this._pos=0,!0}_emitError(u){a("_emitError",u),this.error=u,this.emit("error",u)}};e.exports=o}),vL=De((t,e)=>{Oe(),Re(),Le();var{Buffer:r}=(cr(),At(ur)),n=65536,s={},i=r.isBuffer(r.from([1,2]).subarray(0,1));function a(c){let f=r.allocUnsafe(2);return f.writeUInt8(c>>8,0),f.writeUInt8(c&255,1),f}function o(){for(let c=0;c<n;c++)s[c]=a(c)}function l(c){let f=0,d=0,p=r.allocUnsafe(4);do f=c%128|0,c=c/128|0,c>0&&(f=f|128),p.writeUInt8(f,d++);while(c>0&&d<4);return c>0&&(d=0),i?p.subarray(0,d):p.slice(0,d)}function u(c){let f=r.allocUnsafe(4);return f.writeUInt32BE(c,0),f}e.exports={cache:s,generateCache:o,generateNumber:a,genBufVariableByteInt:l,generate4ByteBuffer:u}}),_L=De((t,e)=>{Oe(),Re(),Le(),typeof bt>"u"||!bt.version||bt.version.indexOf("v0.")===0||bt.version.indexOf("v1.")===0&&bt.version.indexOf("v1.8.")!==0?e.exports={nextTick:r}:e.exports=bt;function r(n,s,i,a){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,l,u;switch(o){case 0:case 1:return bt.nextTick(n);case 2:return bt.nextTick(function(){n.call(null,s)});case 3:return bt.nextTick(function(){n.call(null,s,i)});case 4:return bt.nextTick(function(){n.call(null,s,i,a)});default:for(l=new Array(o-1),u=0;u<l.length;)l[u++]=arguments[u];return bt.nextTick(function(){n.apply(null,l)})}}}),cE=De((t,e)=>{Oe(),Re(),Le();var r=uE(),{Buffer:n}=(cr(),At(ur)),s=n.allocUnsafe(0),i=n.from([0]),a=vL(),o=_L().nextTick,l=xi()("mqtt-packet:writeToStream"),u=a.cache,c=a.generateNumber,f=a.generateCache,d=a.genBufVariableByteInt,p=a.generate4ByteBuffer,g=re,b=!0;function v(W,D,X){switch(l("generate called"),D.cork&&(D.cork(),o(w,D)),b&&(b=!1,f()),l("generate: packet.cmd: %s",W.cmd),W.cmd){case"connect":return _(W,D);case"connack":return y(W,D,X);case"publish":return S(W,D,X);case"puback":case"pubrec":case"pubrel":case"pubcomp":return T(W,D,X);case"subscribe":return A(W,D,X);case"suback":return C(W,D,X);case"unsubscribe":return L(W,D,X);case"unsuback":return j(W,D,X);case"pingreq":case"pingresp":return F(W,D);case"disconnect":return $(W,D,X);case"auth":return I(W,D,X);default:return D.destroy(new Error("Unknown command")),!1}}Object.defineProperty(v,"cacheNumbers",{get(){return g===re},set(W){W?((!u||Object.keys(u).length===0)&&(b=!0),g=re):(b=!1,g=N)}});function w(W){W.uncork()}function _(W,D,X){let ce=W||{},le=ce.protocolId||"MQTT",k=ce.protocolVersion||4,P=ce.will,V=ce.clean,R=ce.keepalive||0,H=ce.clientId||"",q=ce.username,ue=ce.password,Z=ce.properties;V===void 0&&(V=!0);let Y=0;if(!le||typeof le!="string"&&!n.isBuffer(le))return D.destroy(new Error("Invalid protocolId")),!1;if(Y+=le.length+2,k!==3&&k!==4&&k!==5)return D.destroy(new Error("Invalid protocol version")),!1;if(Y+=1,(typeof H=="string"||n.isBuffer(H))&&(H||k>=4)&&(H||V))Y+=n.byteLength(H)+2;else{if(k<4)return D.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(V*1===0)return D.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof R!="number"||R<0||R>65535||R%1!==0)return D.destroy(new Error("Invalid keepalive")),!1;Y+=2,Y+=1;let se,Q;if(k===5){if(se=pe(D,Z),!se)return!1;Y+=se.length}if(P){if(typeof P!="object")return D.destroy(new Error("Invalid will")),!1;if(!P.topic||typeof P.topic!="string")return D.destroy(new Error("Invalid will topic")),!1;if(Y+=n.byteLength(P.topic)+2,Y+=2,P.payload)if(P.payload.length>=0)typeof P.payload=="string"?Y+=n.byteLength(P.payload):Y+=P.payload.length;else return D.destroy(new Error("Invalid will payload")),!1;if(Q={},k===5){if(Q=pe(D,P.properties),!Q)return!1;Y+=Q.length}}let oe=!1;if(q!=null)if(K(q))oe=!0,Y+=n.byteLength(q)+2;else return D.destroy(new Error("Invalid username")),!1;if(ue!=null){if(!oe)return D.destroy(new Error("Username is required to use password")),!1;if(K(ue))Y+=ee(ue)+2;else return D.destroy(new Error("Invalid password")),!1}D.write(r.CONNECT_HEADER),B(D,Y),G(D,le),ce.bridgeMode&&(k+=128),D.write(k===131?r.VERSION131:k===132?r.VERSION132:k===4?r.VERSION4:k===5?r.VERSION5:r.VERSION3);let me=0;return me|=q!=null?r.USERNAME_MASK:0,me|=ue!=null?r.PASSWORD_MASK:0,me|=P&&P.retain?r.WILL_RETAIN_MASK:0,me|=P&&P.qos?P.qos<<r.WILL_QOS_SHIFT:0,me|=P?r.WILL_FLAG_MASK:0,me|=V?r.CLEAN_SESSION_MASK:0,D.write(n.from([me])),g(D,R),k===5&&se.write(),G(D,H),P&&(k===5&&Q.write(),J(D,P.topic),G(D,P.payload)),q!=null&&G(D,q),ue!=null&&G(D,ue),!0}function y(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=ce===5?le.reasonCode:le.returnCode,P=le.properties,V=2;if(typeof k!="number")return D.destroy(new Error("Invalid return code")),!1;let R=null;if(ce===5){if(R=pe(D,P),!R)return!1;V+=R.length}return D.write(r.CONNACK_HEADER),B(D,V),D.write(le.sessionPresent?r.SESSIONPRESENT_HEADER:i),D.write(n.from([k])),R==null||R.write(),!0}function S(W,D,X){l("publish: packet: %o",W);let ce=X?X.protocolVersion:4,le=W||{},k=le.qos||0,P=le.retain?r.RETAIN_MASK:0,V=le.topic,R=le.payload||s,H=le.messageId,q=le.properties,ue=0;if(typeof V=="string")ue+=n.byteLength(V)+2;else if(n.isBuffer(V))ue+=V.length+2;else return D.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(R)?ue+=R.length:ue+=n.byteLength(R),k&&typeof H!="number")return D.destroy(new Error("Invalid messageId")),!1;k&&(ue+=2);let Z=null;if(ce===5){if(Z=pe(D,q),!Z)return!1;ue+=Z.length}return D.write(r.PUBLISH_HEADER[k][le.dup?1:0][P?1:0]),B(D,ue),g(D,ee(V)),D.write(V),k>0&&g(D,H),Z==null||Z.write(),l("publish: payload: %o",R),D.write(R)}function T(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=le.cmd||"puback",P=le.messageId,V=le.dup&&k==="pubrel"?r.DUP_MASK:0,R=0,H=le.reasonCode,q=le.properties,ue=ce===5?3:2;if(k==="pubrel"&&(R=1),typeof P!="number")return D.destroy(new Error("Invalid messageId")),!1;let Z=null;if(ce===5&&typeof q=="object"){if(Z=U(D,q,X,ue),!Z)return!1;ue+=Z.length}return D.write(r.ACKS[k][R][V][0]),ue===3&&(ue+=H!==0?1:-1),B(D,ue),g(D,P),ce===5&&ue!==2&&D.write(n.from([H])),Z!==null?Z.write():ue===4&&D.write(n.from([0])),!0}function A(W,D,X){l("subscribe: packet: ");let ce=X?X.protocolVersion:4,le=W||{},k=le.dup?r.DUP_MASK:0,P=le.messageId,V=le.subscriptions,R=le.properties,H=0;if(typeof P!="number")return D.destroy(new Error("Invalid messageId")),!1;H+=2;let q=null;if(ce===5){if(q=pe(D,R),!q)return!1;H+=q.length}if(typeof V=="object"&&V.length)for(let Z=0;Z<V.length;Z+=1){let Y=V[Z].topic,se=V[Z].qos;if(typeof Y!="string")return D.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof se!="number")return D.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ce===5){if(typeof(V[Z].nl||!1)!="boolean")return D.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(V[Z].rap||!1)!="boolean")return D.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Q=V[Z].rh||0;if(typeof Q!="number"||Q>2)return D.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}H+=n.byteLength(Y)+2+1}else return D.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),D.write(r.SUBSCRIBE_HEADER[1][k?1:0][0]),B(D,H),g(D,P),q!==null&&q.write();let ue=!0;for(let Z of V){let Y=Z.topic,se=Z.qos,Q=+Z.nl,oe=+Z.rap,me=Z.rh,Te;J(D,Y),Te=r.SUBSCRIBE_OPTIONS_QOS[se],ce===5&&(Te|=Q?r.SUBSCRIBE_OPTIONS_NL:0,Te|=oe?r.SUBSCRIBE_OPTIONS_RAP:0,Te|=me?r.SUBSCRIBE_OPTIONS_RH[me]:0),ue=D.write(n.from([Te]))}return ue}function C(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=le.messageId,P=le.granted,V=le.properties,R=0;if(typeof k!="number")return D.destroy(new Error("Invalid messageId")),!1;if(R+=2,typeof P=="object"&&P.length)for(let q=0;q<P.length;q+=1){if(typeof P[q]!="number")return D.destroy(new Error("Invalid qos vector")),!1;R+=1}else return D.destroy(new Error("Invalid qos vector")),!1;let H=null;if(ce===5){if(H=U(D,V,X,R),!H)return!1;R+=H.length}return D.write(r.SUBACK_HEADER),B(D,R),g(D,k),H!==null&&H.write(),D.write(n.from(P))}function L(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=le.messageId,P=le.dup?r.DUP_MASK:0,V=le.unsubscriptions,R=le.properties,H=0;if(typeof k!="number")return D.destroy(new Error("Invalid messageId")),!1;if(H+=2,typeof V=="object"&&V.length)for(let Z=0;Z<V.length;Z+=1){if(typeof V[Z]!="string")return D.destroy(new Error("Invalid unsubscriptions")),!1;H+=n.byteLength(V[Z])+2}else return D.destroy(new Error("Invalid unsubscriptions")),!1;let q=null;if(ce===5){if(q=pe(D,R),!q)return!1;H+=q.length}D.write(r.UNSUBSCRIBE_HEADER[1][P?1:0][0]),B(D,H),g(D,k),q!==null&&q.write();let ue=!0;for(let Z=0;Z<V.length;Z++)ue=J(D,V[Z]);return ue}function j(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=le.messageId,P=le.dup?r.DUP_MASK:0,V=le.granted,R=le.properties,H=le.cmd,q=0,ue=2;if(typeof k!="number")return D.destroy(new Error("Invalid messageId")),!1;if(ce===5)if(typeof V=="object"&&V.length)for(let Y=0;Y<V.length;Y+=1){if(typeof V[Y]!="number")return D.destroy(new Error("Invalid qos vector")),!1;ue+=1}else return D.destroy(new Error("Invalid qos vector")),!1;let Z=null;if(ce===5){if(Z=U(D,R,X,ue),!Z)return!1;ue+=Z.length}return D.write(r.ACKS[H][q][P][0]),B(D,ue),g(D,k),Z!==null&&Z.write(),ce===5&&D.write(n.from(V)),!0}function F(W,D,X){return D.write(r.EMPTY[W.cmd])}function $(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=le.reasonCode,P=le.properties,V=ce===5?1:0,R=null;if(ce===5){if(R=U(D,P,X,V),!R)return!1;V+=R.length}return D.write(n.from([r.codes.disconnect<<4])),B(D,V),ce===5&&D.write(n.from([k])),R!==null&&R.write(),!0}function I(W,D,X){let ce=X?X.protocolVersion:4,le=W||{},k=le.reasonCode,P=le.properties,V=ce===5?1:0;ce!==5&&D.destroy(new Error("Invalid mqtt version for auth packet"));let R=U(D,P,X,V);return R?(V+=R.length,D.write(n.from([r.codes.auth<<4])),B(D,V),D.write(n.from([k])),R!==null&&R.write(),!0):!1}var M={};function B(W,D){if(D>r.VARBYTEINT_MAX)return W.destroy(new Error(`Invalid variable byte integer: ${D}`)),!1;let X=M[D];return X||(X=d(D),D<16384&&(M[D]=X)),l("writeVarByteInt: writing to stream: %o",X),W.write(X)}function J(W,D){let X=n.byteLength(D);return g(W,X),l("writeString: %s",D),W.write(D,"utf8")}function ie(W,D,X){J(W,D),J(W,X)}function re(W,D){return l("writeNumberCached: number: %d",D),l("writeNumberCached: %o",u[D]),W.write(u[D])}function N(W,D){let X=c(D);return l("writeNumberGenerated: %o",X),W.write(X)}function fe(W,D){let X=p(D);return l("write4ByteNumber: %o",X),W.write(X)}function G(W,D){typeof D=="string"?J(W,D):D?(g(W,D.length),W.write(D)):g(W,0)}function pe(W,D){if(typeof D!="object"||D.length!=null)return{length:1,write(){xe(W,{},0)}};let X=0;function ce(le,k){let P=r.propertiesTypes[le],V=0;switch(P){case"byte":{if(typeof k!="boolean")return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=2;break}case"int8":{if(typeof k!="number"||k<0||k>255)return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=2;break}case"binary":{if(k&&k===null)return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=1+n.byteLength(k)+2;break}case"int16":{if(typeof k!="number"||k<0||k>65535)return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=3;break}case"int32":{if(typeof k!="number"||k<0||k>4294967295)return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=5;break}case"var":{if(typeof k!="number"||k<0||k>268435455)return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=1+n.byteLength(d(k));break}case"string":{if(typeof k!="string")return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=3+n.byteLength(k.toString());break}case"pair":{if(typeof k!="object")return W.destroy(new Error(`Invalid ${le}: ${k}`)),!1;V+=Object.getOwnPropertyNames(k).reduce((R,H)=>{let q=k[H];return Array.isArray(q)?R+=q.reduce((ue,Z)=>(ue+=3+n.byteLength(H.toString())+2+n.byteLength(Z.toString()),ue),0):R+=3+n.byteLength(H.toString())+2+n.byteLength(k[H].toString()),R},0);break}default:return W.destroy(new Error(`Invalid property ${le}: ${k}`)),!1}return V}if(D)for(let le in D){let k=0,P=0,V=D[le];if(Array.isArray(V))for(let R=0;R<V.length;R++){if(P=ce(le,V[R]),!P)return!1;k+=P}else{if(P=ce(le,V),!P)return!1;k=P}if(!k)return!1;X+=k}return{length:n.byteLength(d(X))+X,write(){xe(W,D,X)}}}function U(W,D,X,ce){let le=["reasonString","userProperties"],k=X&&X.properties&&X.properties.maximumPacketSize?X.properties.maximumPacketSize:0,P=pe(W,D);if(k)for(;ce+P.length>k;){let V=le.shift();if(V&&D[V])delete D[V],P=pe(W,D);else return!1}return P}function de(W,D,X){switch(r.propertiesTypes[D]){case"byte":{W.write(n.from([r.properties[D]])),W.write(n.from([+X]));break}case"int8":{W.write(n.from([r.properties[D]])),W.write(n.from([X]));break}case"binary":{W.write(n.from([r.properties[D]])),G(W,X);break}case"int16":{W.write(n.from([r.properties[D]])),g(W,X);break}case"int32":{W.write(n.from([r.properties[D]])),fe(W,X);break}case"var":{W.write(n.from([r.properties[D]])),B(W,X);break}case"string":{W.write(n.from([r.properties[D]])),J(W,X);break}case"pair":{Object.getOwnPropertyNames(X).forEach(ce=>{let le=X[ce];Array.isArray(le)?le.forEach(k=>{W.write(n.from([r.properties[D]])),ie(W,ce.toString(),k.toString())}):(W.write(n.from([r.properties[D]])),ie(W,ce.toString(),le.toString()))});break}default:return W.destroy(new Error(`Invalid property ${D} value: ${X}`)),!1}}function xe(W,D,X){B(W,X);for(let ce in D)if(Object.prototype.hasOwnProperty.call(D,ce)&&D[ce]!==null){let le=D[ce];if(Array.isArray(le))for(let k=0;k<le.length;k++)de(W,ce,le[k]);else de(W,ce,le)}}function ee(W){return W?W instanceof n?W.length:n.byteLength(W):0}function K(W){return typeof W=="string"||W instanceof n}e.exports=v}),EL=De((t,e)=>{Oe(),Re(),Le();var r=cE(),{EventEmitter:n}=(aa(),At(no)),{Buffer:s}=(cr(),At(ur));function i(o,l){let u=new a;return r(o,u,l),u.concat()}var a=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(o){return this._array[this._i++]=o,!0}concat(){let o=0,l=new Array(this._array.length),u=this._array,c=0,f;for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?l[f]=u[f].length:l[f]=s.byteLength(u[f]),o+=l[f];let d=s.allocUnsafe(o);for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?(u[f].copy(d,c),c+=l[f]):(d.write(u[f],c),c+=l[f]);return d}destroy(o){o&&this.emit("error",o)}};e.exports=i}),SL=De(t=>{Oe(),Re(),Le(),t.parser=wL().parser,t.generate=EL(),t.writeToStream=cE()}),fE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};t.default=e}),xL=De((t,e)=>{Oe(),Re(),Le(),e.exports=n;function r(i){return i instanceof gc?gc.from(i):new i.constructor(i.buffer.slice(),i.byteOffset,i.length)}function n(i){if(i=i||{},i.circles)return s(i);return i.proto?l:o;function a(u,c){for(var f=Object.keys(u),d=new Array(f.length),p=0;p<f.length;p++){var g=f[p],b=u[g];typeof b!="object"||b===null?d[g]=b:b instanceof Date?d[g]=new Date(b):ArrayBuffer.isView(b)?d[g]=r(b):d[g]=c(b)}return d}function o(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return a(u,o);if(u instanceof Map)return new Map(a(Array.from(u),o));if(u instanceof Set)return new Set(a(Array.from(u),o));var c={};for(var f in u)if(Object.hasOwnProperty.call(u,f)!==!1){var d=u[f];typeof d!="object"||d===null?c[f]=d:d instanceof Date?c[f]=new Date(d):d instanceof Map?c[f]=new Map(a(Array.from(d),o)):d instanceof Set?c[f]=new Set(a(Array.from(d),o)):ArrayBuffer.isView(d)?c[f]=r(d):c[f]=o(d)}return c}function l(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return a(u,l);if(u instanceof Map)return new Map(a(Array.from(u),l));if(u instanceof Set)return new Set(a(Array.from(u),l));var c={};for(var f in u){var d=u[f];typeof d!="object"||d===null?c[f]=d:d instanceof Date?c[f]=new Date(d):d instanceof Map?c[f]=new Map(a(Array.from(d),l)):d instanceof Set?c[f]=new Set(a(Array.from(d),l)):ArrayBuffer.isView(d)?c[f]=r(d):c[f]=l(d)}return c}}function s(i){var a=[],o=[];return i.proto?c:u;function l(f,d){for(var p=Object.keys(f),g=new Array(p.length),b=0;b<p.length;b++){var v=p[b],w=f[v];if(typeof w!="object"||w===null)g[v]=w;else if(w instanceof Date)g[v]=new Date(w);else if(ArrayBuffer.isView(w))g[v]=r(w);else{var _=a.indexOf(w);_!==-1?g[v]=o[_]:g[v]=d(w)}}return g}function u(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return l(f,u);if(f instanceof Map)return new Map(l(Array.from(f),u));if(f instanceof Set)return new Set(l(Array.from(f),u));var d={};a.push(f),o.push(d);for(var p in f)if(Object.hasOwnProperty.call(f,p)!==!1){var g=f[p];if(typeof g!="object"||g===null)d[p]=g;else if(g instanceof Date)d[p]=new Date(g);else if(g instanceof Map)d[p]=new Map(l(Array.from(g),u));else if(g instanceof Set)d[p]=new Set(l(Array.from(g),u));else if(ArrayBuffer.isView(g))d[p]=r(g);else{var b=a.indexOf(g);b!==-1?d[p]=o[b]:d[p]=u(g)}}return a.pop(),o.pop(),d}function c(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return l(f,c);if(f instanceof Map)return new Map(l(Array.from(f),c));if(f instanceof Set)return new Set(l(Array.from(f),c));var d={};a.push(f),o.push(d);for(var p in f){var g=f[p];if(typeof g!="object"||g===null)d[p]=g;else if(g instanceof Date)d[p]=new Date(g);else if(g instanceof Map)d[p]=new Map(l(Array.from(g),c));else if(g instanceof Set)d[p]=new Set(l(Array.from(g),c));else if(ArrayBuffer.isView(g))d[p]=r(g);else{var b=a.indexOf(g);b!==-1?d[p]=o[b]:d[p]=c(g)}}return a.pop(),o.pop(),d}}}),TL=De((t,e)=>{Oe(),Re(),Le(),e.exports=xL()()}),AL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function e(n){let s=n.split("/");for(let i=0;i<s.length;i++)if(s[i]!=="+"){if(s[i]==="#")return i===s.length-1;if(s[i].indexOf("+")!==-1||s[i].indexOf("#")!==-1)return!1}return!0}t.validateTopic=e;function r(n){if(n.length===0)return"empty_topic_list";for(let s=0;s<n.length;s++)if(!e(n[s]))return n[s];return null}t.validateTopics=r}),dE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=io(),r={objectMode:!0},n={clean:!0},s=class{constructor(i){this.options=i||{},this.options=Object.assign(Object.assign({},n),i),this._inflights=new Map}put(i,a){return this._inflights.set(i.messageId,i),a&&a(),this}createStream(){let i=new e.Readable(r),a=[],o=!1,l=0;return this._inflights.forEach((u,c)=>{a.push(u)}),i._read=()=>{!o&&l<a.length?i.push(a[l++]):i.push(null)},i.destroy=u=>{if(!o)return o=!0,setTimeout(()=>{i.emit("close")},0),i},i}del(i,a){let o=this._inflights.get(i.messageId);return o?(this._inflights.delete(i.messageId),a(null,o)):a&&a(new Error("missing packet")),this}get(i,a){let o=this._inflights.get(i.messageId);return o?a(null,o):a&&a(new Error("missing packet")),this}close(i){this.options.clean&&(this._inflights=null),i&&i()}};t.default=s}),CL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],r=(n,s,i)=>{n.log("handlePublish: packet %o",s),i=typeof i<"u"?i:n.noop;let a=s.topic.toString(),o=s.payload,{qos:l}=s,{messageId:u}=s,{options:c}=n;if(n.options.protocolVersion===5){let f;if(s.properties&&(f=s.properties.topicAlias),typeof f<"u")if(a.length===0)if(f>0&&f<=65535){let d=n.topicAliasRecv.getTopicByAlias(f);if(d)a=d,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",a,f);else{n.log("handlePublish :: unregistered topic alias. alias: %d",f),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",f),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(a,f))n.log("handlePublish :: registered topic: %s - alias: %d",a,f);else{n.log("handlePublish :: topic alias out of range. alias: %d",f),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(a,o,s,(f,d)=>{if(typeof f=="number"&&(d=f,f=null),f)return n.emit("error",f);if(e.indexOf(d)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));d?n._sendPacket({cmd:"pubrec",messageId:u,reasonCode:d},i):n.incomingStore.put(s,()=>{n._sendPacket({cmd:"pubrec",messageId:u},i)})});break}case 1:{c.customHandleAcks(a,o,s,(f,d)=>{if(typeof f=="number"&&(d=f,f=null),f)return n.emit("error",f);if(e.indexOf(d)===-1)return n.emit("error",new Error("Wrong reason code for puback"));d||n.emit("message",a,o,s),n.handleMessage(s,p=>{if(p)return i&&i(p);n._sendPacket({cmd:"puback",messageId:u,reasonCode:d},i)})});break}case 0:n.emit("message",a,o,s),n.handleMessage(s,i);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=r}),IL=De((t,e)=>{e.exports={version:"5.10.3"}}),la=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var e=class hE extends Error{constructor(s,i){super(s),this.code=i,Object.setPrototypeOf(this,hE.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=e;function r(n,s,i=!1){var a;let o=[s];for(;;){let l=o[0],u=Object.getPrototypeOf(l);if(u!=null&&u.prototype)o.unshift(u);else break}for(let l of o)for(let u of Object.getOwnPropertyNames(l.prototype))(i||u!=="constructor")&&Object.defineProperty(n.prototype,u,(a=Object.getOwnPropertyDescriptor(l.prototype,u))!==null&&a!==void 0?a:Object.create(null))}t.applyMixin=r,t.nextTick=typeof(bt==null?void 0:bt.nextTick)=="function"?bt.nextTick:n=>{setTimeout(n,0)},t.MQTTJS_VERSION=IL().version}),Zc=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var e=la();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var r=(n,s)=>{let{messageId:i}=s,a=s.cmd,o=null,l=n.outgoing[i]?n.outgoing[i].cb:null,u=null;if(!l){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",a),a){case"pubcomp":case"puback":{let c=s.reasonCode;c&&c>0&&c!==16?(u=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(i,()=>{l(u,s)})):n._removeOutgoingAndStoreMessage(i,l);break}case"pubrec":{o={cmd:"pubrel",qos:2,messageId:i};let c=s.reasonCode;c&&c>0&&c!==16?(u=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(i,()=>{l(u,s)})):n._sendPacket(o);break}case"suback":{delete n.outgoing[i],n.messageIdProvider.deallocate(i);let c=s.granted;for(let f=0;f<c.length;f++){let d=c[f];if(d&128){u=new Error(`Subscribe error: ${t.ReasonCodes[d]}`),u.code=d;let p=n.messageIdToTopic[i];p&&p.forEach(g=>{delete n._resubscribeTopics[g]})}}delete n.messageIdToTopic[i],n._invokeStoreProcessingQueue(),l(u,s);break}case"unsuback":{delete n.outgoing[i],n.messageIdProvider.deallocate(i),n._invokeStoreProcessingQueue(),l(null,s);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};t.default=r}),ML=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=la(),r=Zc(),n=(s,i)=>{let{options:a}=s,o=a.protocolVersion,l=o===5?i.reasonCode:i.returnCode;if(o!==5){let u=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${o}`,l);s.emit("error",u);return}s.handleAuth(i,(u,c)=>{if(u){s.emit("error",u);return}if(l===24)s.reconnecting=!1,s._sendPacket(c);else{let f=new e.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[l]}`,l);s.emit("error",f)}})};t.default=n}),kL=De(t=>{var p,g,b,v,w,_,y,S,T,A,C,L,j,F,$,I,M,B,J,ie,re,N,fe,G,pe,U,tg,xe,ee,K,W,pE,X,ce,le,$i,Ni,rg,$u,Nu,Lt,ng,Wa,Y;Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,n=typeof bt=="object"&&bt?bt:{},s=(se,Q,oe,me)=>{typeof n.emitWarning=="function"?n.emitWarning(se,Q,oe,me):console.error(`[${oe}] ${Q}: ${se}`)},i=globalThis.AbortController,a=globalThis.AbortSignal;if(typeof i>"u"){a=class{constructor(){ve(this,"onabort");ve(this,"_onabort",[]);ve(this,"reason");ve(this,"aborted",!1)}addEventListener(oe,me){this._onabort.push(me)}},i=class{constructor(){ve(this,"signal",new a);Q()}abort(oe){var me,Te;if(!this.signal.aborted){this.signal.reason=oe,this.signal.aborted=!0;for(let x of this.signal._onabort)x(oe);(Te=(me=this.signal).onabort)==null||Te.call(me,oe)}}};let se=((p=n.env)==null?void 0:p.LRU_CACHE_IGNORE_AC_WARNING)!=="1",Q=()=>{se&&(se=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",Q))}}var o=se=>!r.has(se),l=se=>se&&se===Math.floor(se)&&se>0&&isFinite(se),u=se=>l(se)?se<=Math.pow(2,8)?Uint8Array:se<=Math.pow(2,16)?Uint16Array:se<=Math.pow(2,32)?Uint32Array:se<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(se){super(se),this.fill(0)}},f=(g=class{constructor(Q,oe){ve(this,"heap");ve(this,"length");if(!ye(g,b))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new oe(Q),this.length=0}static create(Q){let oe=u(Q);if(!oe)return[];Ze(g,b,!0);let me=new g(Q,oe);return Ze(g,b,!1),me}push(Q){this.heap[this.length++]=Q}pop(){return this.heap[--this.length]}},b=new WeakMap,dt(g,b,!1),g),d=(Y=class{constructor(Q){dt(this,U);dt(this,v);dt(this,w);dt(this,_);dt(this,y);dt(this,S);ve(this,"ttl");ve(this,"ttlResolution");ve(this,"ttlAutopurge");ve(this,"updateAgeOnGet");ve(this,"updateAgeOnHas");ve(this,"allowStale");ve(this,"noDisposeOnSet");ve(this,"noUpdateTTL");ve(this,"maxEntrySize");ve(this,"sizeCalculation");ve(this,"noDeleteOnFetchRejection");ve(this,"noDeleteOnStaleGet");ve(this,"allowStaleOnFetchAbort");ve(this,"allowStaleOnFetchRejection");ve(this,"ignoreFetchAbort");dt(this,T);dt(this,A);dt(this,C);dt(this,L);dt(this,j);dt(this,F);dt(this,$);dt(this,I);dt(this,M);dt(this,B);dt(this,J);dt(this,ie);dt(this,re);dt(this,N);dt(this,fe);dt(this,G);dt(this,pe);dt(this,xe,()=>{});dt(this,ee,()=>{});dt(this,K,()=>{});dt(this,W,()=>!1);dt(this,X,Q=>{});dt(this,ce,(Q,oe,me)=>{});dt(this,le,(Q,oe,me,Te)=>{if(me||Te)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:oe=0,ttl:me,ttlResolution:Te=1,ttlAutopurge:x,updateAgeOnGet:m,updateAgeOnHas:h,allowStale:E,dispose:O,disposeAfter:te,noDisposeOnSet:he,noUpdateTTL:Ce,maxSize:Fe=0,maxEntrySize:ze=0,sizeCalculation:Ue,fetchMethod:qe,noDeleteOnFetchRejection:He,noDeleteOnStaleGet:yt,allowStaleOnFetchRejection:Yt,allowStaleOnFetchAbort:Ot,ignoreFetchAbort:Ht}=Q;if(oe!==0&&!l(oe))throw new TypeError("max option must be a nonnegative integer");let ir=oe?u(oe):Array;if(!ir)throw new Error("invalid max value: "+oe);if(Ze(this,v,oe),Ze(this,w,Fe),this.maxEntrySize=ze||ye(this,w),this.sizeCalculation=Ue,this.sizeCalculation){if(!ye(this,w)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(qe!==void 0&&typeof qe!="function")throw new TypeError("fetchMethod must be a function if specified");if(Ze(this,S,qe),Ze(this,G,!!qe),Ze(this,C,new Map),Ze(this,L,new Array(oe).fill(void 0)),Ze(this,j,new Array(oe).fill(void 0)),Ze(this,F,new ir(oe)),Ze(this,$,new ir(oe)),Ze(this,I,0),Ze(this,M,0),Ze(this,B,f.create(oe)),Ze(this,T,0),Ze(this,A,0),typeof O=="function"&&Ze(this,_,O),typeof te=="function"?(Ze(this,y,te),Ze(this,J,[])):(Ze(this,y,void 0),Ze(this,J,void 0)),Ze(this,fe,!!ye(this,_)),Ze(this,pe,!!ye(this,y)),this.noDisposeOnSet=!!he,this.noUpdateTTL=!!Ce,this.noDeleteOnFetchRejection=!!He,this.allowStaleOnFetchRejection=!!Yt,this.allowStaleOnFetchAbort=!!Ot,this.ignoreFetchAbort=!!Ht,this.maxEntrySize!==0){if(ye(this,w)!==0&&!l(ye(this,w)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Xe(this,U,pE).call(this)}if(this.allowStale=!!E,this.noDeleteOnStaleGet=!!yt,this.updateAgeOnGet=!!m,this.updateAgeOnHas=!!h,this.ttlResolution=l(Te)||Te===0?Te:1,this.ttlAutopurge=!!x,this.ttl=me||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Xe(this,U,tg).call(this)}if(ye(this,v)===0&&this.ttl===0&&ye(this,w)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!ye(this,v)&&!ye(this,w)){let Kt="LRU_CACHE_UNBOUNDED";o(Kt)&&(r.add(Kt),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Kt,Y))}}static unsafeExposeInternals(Q){return{starts:ye(Q,re),ttls:ye(Q,N),sizes:ye(Q,ie),keyMap:ye(Q,C),keyList:ye(Q,L),valList:ye(Q,j),next:ye(Q,F),prev:ye(Q,$),get head(){return ye(Q,I)},get tail(){return ye(Q,M)},free:ye(Q,B),isBackgroundFetch:oe=>{var me;return Xe(me=Q,U,Lt).call(me,oe)},backgroundFetch:(oe,me,Te,x)=>{var m;return Xe(m=Q,U,Nu).call(m,oe,me,Te,x)},moveToTail:oe=>{var me;return Xe(me=Q,U,Wa).call(me,oe)},indexes:oe=>{var me;return Xe(me=Q,U,$i).call(me,oe)},rindexes:oe=>{var me;return Xe(me=Q,U,Ni).call(me,oe)},isStale:oe=>{var me;return ye(me=Q,W).call(me,oe)}}}get max(){return ye(this,v)}get maxSize(){return ye(this,w)}get calculatedSize(){return ye(this,A)}get size(){return ye(this,T)}get fetchMethod(){return ye(this,S)}get dispose(){return ye(this,_)}get disposeAfter(){return ye(this,y)}getRemainingTTL(Q){return ye(this,C).has(Q)?1/0:0}*entries(){for(let Q of Xe(this,U,$i).call(this))ye(this,j)[Q]!==void 0&&ye(this,L)[Q]!==void 0&&!Xe(this,U,Lt).call(this,ye(this,j)[Q])&&(yield[ye(this,L)[Q],ye(this,j)[Q]])}*rentries(){for(let Q of Xe(this,U,Ni).call(this))ye(this,j)[Q]!==void 0&&ye(this,L)[Q]!==void 0&&!Xe(this,U,Lt).call(this,ye(this,j)[Q])&&(yield[ye(this,L)[Q],ye(this,j)[Q]])}*keys(){for(let Q of Xe(this,U,$i).call(this)){let oe=ye(this,L)[Q];oe!==void 0&&!Xe(this,U,Lt).call(this,ye(this,j)[Q])&&(yield oe)}}*rkeys(){for(let Q of Xe(this,U,Ni).call(this)){let oe=ye(this,L)[Q];oe!==void 0&&!Xe(this,U,Lt).call(this,ye(this,j)[Q])&&(yield oe)}}*values(){for(let Q of Xe(this,U,$i).call(this))ye(this,j)[Q]!==void 0&&!Xe(this,U,Lt).call(this,ye(this,j)[Q])&&(yield ye(this,j)[Q])}*rvalues(){for(let Q of Xe(this,U,Ni).call(this))ye(this,j)[Q]!==void 0&&!Xe(this,U,Lt).call(this,ye(this,j)[Q])&&(yield ye(this,j)[Q])}[Symbol.iterator](){return this.entries()}find(Q,oe={}){for(let me of Xe(this,U,$i).call(this)){let Te=ye(this,j)[me],x=Xe(this,U,Lt).call(this,Te)?Te.__staleWhileFetching:Te;if(x!==void 0&&Q(x,ye(this,L)[me],this))return this.get(ye(this,L)[me],oe)}}forEach(Q,oe=this){for(let me of Xe(this,U,$i).call(this)){let Te=ye(this,j)[me],x=Xe(this,U,Lt).call(this,Te)?Te.__staleWhileFetching:Te;x!==void 0&&Q.call(oe,x,ye(this,L)[me],this)}}rforEach(Q,oe=this){for(let me of Xe(this,U,Ni).call(this)){let Te=ye(this,j)[me],x=Xe(this,U,Lt).call(this,Te)?Te.__staleWhileFetching:Te;x!==void 0&&Q.call(oe,x,ye(this,L)[me],this)}}purgeStale(){let Q=!1;for(let oe of Xe(this,U,Ni).call(this,{allowStale:!0}))ye(this,W).call(this,oe)&&(this.delete(ye(this,L)[oe]),Q=!0);return Q}dump(){let Q=[];for(let oe of Xe(this,U,$i).call(this,{allowStale:!0})){let me=ye(this,L)[oe],Te=ye(this,j)[oe],x=Xe(this,U,Lt).call(this,Te)?Te.__staleWhileFetching:Te;if(x===void 0||me===void 0)continue;let m={value:x};if(ye(this,N)&&ye(this,re)){m.ttl=ye(this,N)[oe];let h=e.now()-ye(this,re)[oe];m.start=Math.floor(Date.now()-h)}ye(this,ie)&&(m.size=ye(this,ie)[oe]),Q.unshift([me,m])}return Q}load(Q){this.clear();for(let[oe,me]of Q){if(me.start){let Te=Date.now()-me.start;me.start=e.now()-Te}this.set(oe,me.value,me)}}set(Q,oe,me={}){var Ce,Fe,ze,Ue,qe;if(oe===void 0)return this.delete(Q),this;let{ttl:Te=this.ttl,start:x,noDisposeOnSet:m=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:E}=me,{noUpdateTTL:O=this.noUpdateTTL}=me,te=ye(this,le).call(this,Q,oe,me.size||0,h);if(this.maxEntrySize&&te>this.maxEntrySize)return E&&(E.set="miss",E.maxEntrySizeExceeded=!0),this.delete(Q),this;let he=ye(this,T)===0?void 0:ye(this,C).get(Q);if(he===void 0)he=ye(this,T)===0?ye(this,M):ye(this,B).length!==0?ye(this,B).pop():ye(this,T)===ye(this,v)?Xe(this,U,$u).call(this,!1):ye(this,T),ye(this,L)[he]=Q,ye(this,j)[he]=oe,ye(this,C).set(Q,he),ye(this,F)[ye(this,M)]=he,ye(this,$)[he]=ye(this,M),Ze(this,M,he),Ul(this,T)._++,ye(this,ce).call(this,he,te,E),E&&(E.set="add"),O=!1;else{Xe(this,U,Wa).call(this,he);let He=ye(this,j)[he];if(oe!==He){if(ye(this,G)&&Xe(this,U,Lt).call(this,He)){He.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:yt}=He;yt!==void 0&&!m&&(ye(this,fe)&&((Ce=ye(this,_))==null||Ce.call(this,yt,Q,"set")),ye(this,pe)&&((Fe=ye(this,J))==null||Fe.push([yt,Q,"set"])))}else m||(ye(this,fe)&&((ze=ye(this,_))==null||ze.call(this,He,Q,"set")),ye(this,pe)&&((Ue=ye(this,J))==null||Ue.push([He,Q,"set"])));if(ye(this,X).call(this,he),ye(this,ce).call(this,he,te,E),ye(this,j)[he]=oe,E){E.set="replace";let yt=He&&Xe(this,U,Lt).call(this,He)?He.__staleWhileFetching:He;yt!==void 0&&(E.oldValue=yt)}}else E&&(E.set="update")}if(Te!==0&&!ye(this,N)&&Xe(this,U,tg).call(this),ye(this,N)&&(O||ye(this,K).call(this,he,Te,x),E&&ye(this,ee).call(this,E,he)),!m&&ye(this,pe)&&ye(this,J)){let He=ye(this,J),yt;for(;yt=He==null?void 0:He.shift();)(qe=ye(this,y))==null||qe.call(this,...yt)}return this}pop(){var Q;try{for(;ye(this,T);){let oe=ye(this,j)[ye(this,I)];if(Xe(this,U,$u).call(this,!0),Xe(this,U,Lt).call(this,oe)){if(oe.__staleWhileFetching)return oe.__staleWhileFetching}else if(oe!==void 0)return oe}}finally{if(ye(this,pe)&&ye(this,J)){let oe=ye(this,J),me;for(;me=oe==null?void 0:oe.shift();)(Q=ye(this,y))==null||Q.call(this,...me)}}}has(Q,oe={}){let{updateAgeOnHas:me=this.updateAgeOnHas,status:Te}=oe,x=ye(this,C).get(Q);if(x!==void 0){let m=ye(this,j)[x];if(Xe(this,U,Lt).call(this,m)&&m.__staleWhileFetching===void 0)return!1;if(ye(this,W).call(this,x))Te&&(Te.has="stale",ye(this,ee).call(this,Te,x));else return me&&ye(this,xe).call(this,x),Te&&(Te.has="hit",ye(this,ee).call(this,Te,x)),!0}else Te&&(Te.has="miss");return!1}peek(Q,oe={}){let{allowStale:me=this.allowStale}=oe,Te=ye(this,C).get(Q);if(Te!==void 0&&(me||!ye(this,W).call(this,Te))){let x=ye(this,j)[Te];return Xe(this,U,Lt).call(this,x)?x.__staleWhileFetching:x}}async fetch(Q,oe={}){let{allowStale:me=this.allowStale,updateAgeOnGet:Te=this.updateAgeOnGet,noDeleteOnStaleGet:x=this.noDeleteOnStaleGet,ttl:m=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:E=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:te=this.noUpdateTTL,noDeleteOnFetchRejection:he=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ce=this.allowStaleOnFetchRejection,ignoreFetchAbort:Fe=this.ignoreFetchAbort,allowStaleOnFetchAbort:ze=this.allowStaleOnFetchAbort,context:Ue,forceRefresh:qe=!1,status:He,signal:yt}=oe;if(!ye(this,G))return He&&(He.fetch="get"),this.get(Q,{allowStale:me,updateAgeOnGet:Te,noDeleteOnStaleGet:x,status:He});let Yt={allowStale:me,updateAgeOnGet:Te,noDeleteOnStaleGet:x,ttl:m,noDisposeOnSet:h,size:E,sizeCalculation:O,noUpdateTTL:te,noDeleteOnFetchRejection:he,allowStaleOnFetchRejection:Ce,allowStaleOnFetchAbort:ze,ignoreFetchAbort:Fe,status:He,signal:yt},Ot=ye(this,C).get(Q);if(Ot===void 0){He&&(He.fetch="miss");let Ht=Xe(this,U,Nu).call(this,Q,Ot,Yt,Ue);return Ht.__returned=Ht}else{let Ht=ye(this,j)[Ot];if(Xe(this,U,Lt).call(this,Ht)){let ma=me&&Ht.__staleWhileFetching!==void 0;return He&&(He.fetch="inflight",ma&&(He.returnedStale=!0)),ma?Ht.__staleWhileFetching:Ht.__returned=Ht}let ir=ye(this,W).call(this,Ot);if(!qe&&!ir)return He&&(He.fetch="hit"),Xe(this,U,Wa).call(this,Ot),Te&&ye(this,xe).call(this,Ot),He&&ye(this,ee).call(this,He,Ot),Ht;let Kt=Xe(this,U,Nu).call(this,Q,Ot,Yt,Ue),fo=Kt.__staleWhileFetching!==void 0&&me;return He&&(He.fetch=ir?"stale":"refresh",fo&&ir&&(He.returnedStale=!0)),fo?Kt.__staleWhileFetching:Kt.__returned=Kt}}get(Q,oe={}){let{allowStale:me=this.allowStale,updateAgeOnGet:Te=this.updateAgeOnGet,noDeleteOnStaleGet:x=this.noDeleteOnStaleGet,status:m}=oe,h=ye(this,C).get(Q);if(h!==void 0){let E=ye(this,j)[h],O=Xe(this,U,Lt).call(this,E);return m&&ye(this,ee).call(this,m,h),ye(this,W).call(this,h)?(m&&(m.get="stale"),O?(m&&me&&E.__staleWhileFetching!==void 0&&(m.returnedStale=!0),me?E.__staleWhileFetching:void 0):(x||this.delete(Q),m&&me&&(m.returnedStale=!0),me?E:void 0)):(m&&(m.get="hit"),O?E.__staleWhileFetching:(Xe(this,U,Wa).call(this,h),Te&&ye(this,xe).call(this,h),E))}else m&&(m.get="miss")}delete(Q){var me,Te,x,m;let oe=!1;if(ye(this,T)!==0){let h=ye(this,C).get(Q);if(h!==void 0)if(oe=!0,ye(this,T)===1)this.clear();else{ye(this,X).call(this,h);let E=ye(this,j)[h];Xe(this,U,Lt).call(this,E)?E.__abortController.abort(new Error("deleted")):(ye(this,fe)||ye(this,pe))&&(ye(this,fe)&&((me=ye(this,_))==null||me.call(this,E,Q,"delete")),ye(this,pe)&&((Te=ye(this,J))==null||Te.push([E,Q,"delete"]))),ye(this,C).delete(Q),ye(this,L)[h]=void 0,ye(this,j)[h]=void 0,h===ye(this,M)?Ze(this,M,ye(this,$)[h]):h===ye(this,I)?Ze(this,I,ye(this,F)[h]):(ye(this,F)[ye(this,$)[h]]=ye(this,F)[h],ye(this,$)[ye(this,F)[h]]=ye(this,$)[h]),Ul(this,T)._--,ye(this,B).push(h)}}if(ye(this,pe)&&((x=ye(this,J))!=null&&x.length)){let h=ye(this,J),E;for(;E=h==null?void 0:h.shift();)(m=ye(this,y))==null||m.call(this,...E)}return oe}clear(){var Q,oe,me;for(let Te of Xe(this,U,Ni).call(this,{allowStale:!0})){let x=ye(this,j)[Te];if(Xe(this,U,Lt).call(this,x))x.__abortController.abort(new Error("deleted"));else{let m=ye(this,L)[Te];ye(this,fe)&&((Q=ye(this,_))==null||Q.call(this,x,m,"delete")),ye(this,pe)&&((oe=ye(this,J))==null||oe.push([x,m,"delete"]))}}if(ye(this,C).clear(),ye(this,j).fill(void 0),ye(this,L).fill(void 0),ye(this,N)&&ye(this,re)&&(ye(this,N).fill(0),ye(this,re).fill(0)),ye(this,ie)&&ye(this,ie).fill(0),Ze(this,I,0),Ze(this,M,0),ye(this,B).length=0,Ze(this,A,0),Ze(this,T,0),ye(this,pe)&&ye(this,J)){let Te=ye(this,J),x;for(;x=Te==null?void 0:Te.shift();)(me=ye(this,y))==null||me.call(this,...x)}}},v=new WeakMap,w=new WeakMap,_=new WeakMap,y=new WeakMap,S=new WeakMap,T=new WeakMap,A=new WeakMap,C=new WeakMap,L=new WeakMap,j=new WeakMap,F=new WeakMap,$=new WeakMap,I=new WeakMap,M=new WeakMap,B=new WeakMap,J=new WeakMap,ie=new WeakMap,re=new WeakMap,N=new WeakMap,fe=new WeakMap,G=new WeakMap,pe=new WeakMap,U=new WeakSet,tg=function(){let Q=new c(ye(this,v)),oe=new c(ye(this,v));Ze(this,N,Q),Ze(this,re,oe),Ze(this,K,(x,m,h=e.now())=>{if(oe[x]=m!==0?h:0,Q[x]=m,m!==0&&this.ttlAutopurge){let E=setTimeout(()=>{ye(this,W).call(this,x)&&this.delete(ye(this,L)[x])},m+1);E.unref&&E.unref()}}),Ze(this,xe,x=>{oe[x]=Q[x]!==0?e.now():0}),Ze(this,ee,(x,m)=>{if(Q[m]){let h=Q[m],E=oe[m];x.ttl=h,x.start=E,x.now=me||Te();let O=x.now-E;x.remainingTTL=h-O}});let me=0,Te=()=>{let x=e.now();if(this.ttlResolution>0){me=x;let m=setTimeout(()=>me=0,this.ttlResolution);m.unref&&m.unref()}return x};this.getRemainingTTL=x=>{let m=ye(this,C).get(x);if(m===void 0)return 0;let h=Q[m],E=oe[m];if(h===0||E===0)return 1/0;let O=(me||Te())-E;return h-O},Ze(this,W,x=>Q[x]!==0&&oe[x]!==0&&(me||Te())-oe[x]>Q[x])},xe=new WeakMap,ee=new WeakMap,K=new WeakMap,W=new WeakMap,pE=function(){let Q=new c(ye(this,v));Ze(this,A,0),Ze(this,ie,Q),Ze(this,X,oe=>{Ze(this,A,ye(this,A)-Q[oe]),Q[oe]=0}),Ze(this,le,(oe,me,Te,x)=>{if(Xe(this,U,Lt).call(this,me))return 0;if(!l(Te))if(x){if(typeof x!="function")throw new TypeError("sizeCalculation must be a function");if(Te=x(me,oe),!l(Te))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return Te}),Ze(this,ce,(oe,me,Te)=>{if(Q[oe]=me,ye(this,w)){let x=ye(this,w)-Q[oe];for(;ye(this,A)>x;)Xe(this,U,$u).call(this,!0)}Ze(this,A,ye(this,A)+Q[oe]),Te&&(Te.entrySize=me,Te.totalCalculatedSize=ye(this,A))})},X=new WeakMap,ce=new WeakMap,le=new WeakMap,$i=function*({allowStale:Q=this.allowStale}={}){if(ye(this,T))for(let oe=ye(this,M);!(!Xe(this,U,rg).call(this,oe)||((Q||!ye(this,W).call(this,oe))&&(yield oe),oe===ye(this,I)));)oe=ye(this,$)[oe]},Ni=function*({allowStale:Q=this.allowStale}={}){if(ye(this,T))for(let oe=ye(this,I);!(!Xe(this,U,rg).call(this,oe)||((Q||!ye(this,W).call(this,oe))&&(yield oe),oe===ye(this,M)));)oe=ye(this,F)[oe]},rg=function(Q){return Q!==void 0&&ye(this,C).get(ye(this,L)[Q])===Q},$u=function(Q){var x,m;let oe=ye(this,I),me=ye(this,L)[oe],Te=ye(this,j)[oe];return ye(this,G)&&Xe(this,U,Lt).call(this,Te)?Te.__abortController.abort(new Error("evicted")):(ye(this,fe)||ye(this,pe))&&(ye(this,fe)&&((x=ye(this,_))==null||x.call(this,Te,me,"evict")),ye(this,pe)&&((m=ye(this,J))==null||m.push([Te,me,"evict"]))),ye(this,X).call(this,oe),Q&&(ye(this,L)[oe]=void 0,ye(this,j)[oe]=void 0,ye(this,B).push(oe)),ye(this,T)===1?(Ze(this,I,Ze(this,M,0)),ye(this,B).length=0):Ze(this,I,ye(this,F)[oe]),ye(this,C).delete(me),Ul(this,T)._--,oe},Nu=function(Q,oe,me,Te){let x=oe===void 0?void 0:ye(this,j)[oe];if(Xe(this,U,Lt).call(this,x))return x;let m=new i,{signal:h}=me;h==null||h.addEventListener("abort",()=>m.abort(h.reason),{signal:m.signal});let E={signal:m.signal,options:me,context:Te},O=(Ue,qe=!1)=>{let{aborted:He}=m.signal,yt=me.ignoreFetchAbort&&Ue!==void 0;if(me.status&&(He&&!qe?(me.status.fetchAborted=!0,me.status.fetchError=m.signal.reason,yt&&(me.status.fetchAbortIgnored=!0)):me.status.fetchResolved=!0),He&&!yt&&!qe)return he(m.signal.reason);let Yt=Fe;return ye(this,j)[oe]===Fe&&(Ue===void 0?Yt.__staleWhileFetching?ye(this,j)[oe]=Yt.__staleWhileFetching:this.delete(Q):(me.status&&(me.status.fetchUpdated=!0),this.set(Q,Ue,E.options))),Ue},te=Ue=>(me.status&&(me.status.fetchRejected=!0,me.status.fetchError=Ue),he(Ue)),he=Ue=>{let{aborted:qe}=m.signal,He=qe&&me.allowStaleOnFetchAbort,yt=He||me.allowStaleOnFetchRejection,Yt=yt||me.noDeleteOnFetchRejection,Ot=Fe;if(ye(this,j)[oe]===Fe&&(!Yt||Ot.__staleWhileFetching===void 0?this.delete(Q):He||(ye(this,j)[oe]=Ot.__staleWhileFetching)),yt)return me.status&&Ot.__staleWhileFetching!==void 0&&(me.status.returnedStale=!0),Ot.__staleWhileFetching;if(Ot.__returned===Ot)throw Ue},Ce=(Ue,qe)=>{var yt;let He=(yt=ye(this,S))==null?void 0:yt.call(this,Q,x,E);He&&He instanceof Promise&&He.then(Yt=>Ue(Yt===void 0?void 0:Yt),qe),m.signal.addEventListener("abort",()=>{(!me.ignoreFetchAbort||me.allowStaleOnFetchAbort)&&(Ue(void 0),me.allowStaleOnFetchAbort&&(Ue=Yt=>O(Yt,!0)))})};me.status&&(me.status.fetchDispatched=!0);let Fe=new Promise(Ce).then(O,te),ze=Object.assign(Fe,{__abortController:m,__staleWhileFetching:x,__returned:void 0});return oe===void 0?(this.set(Q,ze,{...E.options,status:void 0}),oe=ye(this,C).get(Q)):ye(this,j)[oe]=ze,ze},Lt=function(Q){if(!ye(this,G))return!1;let oe=Q;return!!oe&&oe instanceof Promise&&oe.hasOwnProperty("__staleWhileFetching")&&oe.__abortController instanceof i},ng=function(Q,oe){ye(this,$)[oe]=Q,ye(this,F)[Q]=oe},Wa=function(Q){Q!==ye(this,M)&&(Q===ye(this,I)?Ze(this,I,ye(this,F)[Q]):Xe(this,U,ng).call(this,ye(this,$)[Q],ye(this,F)[Q]),Xe(this,U,ng).call(this,ye(this,M),Q),Ze(this,M,Q))},Y);t.LRUCache=d}),ki=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var e=class{constructor(s=0){this.iteratorType=s}equals(s){return this.o===s.o}};t.ContainerIterator=e;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=r;var n=class extends r{};t.Container=n}),PL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ki(),r=class extends e.Base{constructor(s=[]){super(),this.S=[];let i=this;s.forEach(function(a){i.push(a)})}clear(){this.i=0,this.S=[]}push(s){return this.S.push(s),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=r;t.default=n}),OL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ki(),r=class extends e.Base{constructor(s=[]){super(),this.j=0,this.q=[];let i=this;s.forEach(function(a){i.push(a)})}clear(){this.q=[],this.i=this.j=0}push(s){let i=this.q.length;if(this.j/i>.5&&this.j+this.i>=i&&i>4096){let a=this.i;for(let o=0;o<a;++o)this.q[o]=this.q[this.j+o];this.j=0,this.q[this.i]=s}else this.q[this.j+this.i]=s;return++this.i}pop(){if(this.i===0)return;let s=this.q[this.j++];return this.i-=1,s}front(){if(this.i!==0)return this.q[this.j]}},n=r;t.default=n}),LL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ki(),r=class extends e.Base{constructor(s=[],i=function(o,l){return o>l?-1:o<l?1:0},a=!0){if(super(),this.v=i,Array.isArray(s))this.C=a?[...s]:s;else{this.C=[];let l=this;s.forEach(function(u){l.C.push(u)})}this.i=this.C.length;let o=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,o)}m(s){let i=this.C[s];for(;s>0;){let a=s-1>>1,o=this.C[a];if(this.v(o,i)<=0)break;this.C[s]=o,s=a}this.C[s]=i}k(s,i){let a=this.C[s];for(;s<i;){let o=s<<1|1,l=o+1,u=this.C[o];if(l<this.i&&this.v(u,this.C[l])>0&&(o=l,u=this.C[l]),this.v(u,a)>=0)break;this.C[s]=u,s=o}this.C[s]=a}clear(){this.i=0,this.C.length=0}push(s){this.C.push(s),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let s=this.C[0],i=this.C.pop();return this.i-=1,this.i&&(this.C[0]=i,this.k(0,this.i>>1)),s}top(){return this.C[0]}find(s){return this.C.indexOf(s)>=0}remove(s){let i=this.C.indexOf(s);return i<0?!1:(i===0?this.pop():i===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(i,1,this.C.pop()),this.i-=1,this.m(i),this.k(i,this.i>>1)),!0)}updateItem(s){let i=this.C.indexOf(s);return i<0?!1:(this.m(i),this.k(i,this.i>>1),!0)}toArray(){return[...this.C]}},n=r;t.default=n}),Am=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ki(),r=class extends e.Container{},n=r;t.default=n}),Pi=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),gE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var e=ki(),r=Pi(),n=class extends e.ContainerIterator{constructor(s,i){super(i),this.o=s,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(s){this.container.setElementByPos(this.o,s)}};t.RandomIterator=n}),RL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=n(Am()),r=gE();function n(o){return o&&o.t?o:{default:o}}var s=class mE extends r.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new mE(this.o,this.container,this.iteratorType)}},i=class extends e.default{constructor(o=[],l=!0){if(super(),Array.isArray(o))this.J=l?[...o]:o,this.i=o.length;else{this.J=[];let u=this;o.forEach(function(c){u.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J[o]}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;return this.J.splice(o,1),this.i-=1,this.i}eraseElementByValue(o){let l=0;for(let u=0;u<this.i;++u)this.J[u]!==o&&(this.J[l++]=this.J[u]);return this.i=this.J.length=l,this.i}eraseElementByIterator(o){let l=o.o;return o=o.next(),this.eraseElementByPos(l),o}pushBack(o){return this.J.push(o),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(o,l){if(o<0||o>this.i-1)throw new RangeError;this.J[o]=l}insert(o,l,u=1){if(o<0||o>this.i)throw new RangeError;return this.J.splice(o,0,...new Array(u).fill(l)),this.i+=u,this.i}find(o){for(let l=0;l<this.i;++l)if(this.J[l]===o)return new s(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let o=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[o++]=this.J[l]);return this.i=this.J.length=o,this.i}sort(o){this.J.sort(o)}forEach(o){for(let l=0;l<this.i;++l)o(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},a=i;t.default=a}),BL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=s(Am()),r=ki(),n=Pi();function s(l){return l&&l.t?l:{default:l}}var i=class bE extends r.ContainerIterator{constructor(u,c,f,d){super(d),this.o=u,this.h=c,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=u}copy(){return new bE(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;l.forEach(function(c){u.pushBack(c)})}V(l){let{L:u,B:c}=l;u.B=c,c.L=u,l===this.p&&(this.p=c),l===this._&&(this._=u),this.i-=1}G(l,u){let c=u.B,f={l,L:u,B:c};u.B=f,c.L=f,u===this.h&&(this.p=f),c===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return this.V(u),this.i}eraseElementByValue(l){let u=this.p;for(;u!==this.h;)u.l===l&&this.V(u),u=u.B;return this.i}eraseElementByIterator(l){let u=l.o;return u===this.h&&(0,n.throwIteratorAccessError)(),l=l.next(),this.V(u),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,u){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=u}insert(l,u,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(u);else if(l===this.i)for(;c--;)this.pushBack(u);else{let f=this.p;for(let p=1;p<l;++p)f=f.B;let d=f.B;for(this.i+=c;c--;)f.B={l:u,L:f},f.B.L=f,f=f.B;f.B=d,d.L=f}return this.i}find(l){let u=this.p;for(;u!==this.h;){if(u.l===l)return new i(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,u=this._,c=0;for(;c<<1<this.i;){let f=l.l;l.l=u.l,u.l=f,l=l.B,u=u.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let u=l;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;l.B=u.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let u=[];this.forEach(function(f){u.push(f)}),u.sort(l);let c=this.p;u.forEach(function(f){c.l=f,c=c.B})}merge(l){let u=this;if(this.i===0)l.forEach(function(c){u.pushBack(c)});else{let c=this.p;l.forEach(function(f){for(;c!==u.h&&c.l<=f;)c=c.B;u.G(f,c.L)})}return this.i}forEach(l){let u=this.p,c=0;for(;u!==this.h;)l(u.l,c++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},o=a;t.default=o}),$L=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=n(Am()),r=gE();function n(o){return o&&o.t?o:{default:o}}var s=class yE extends r.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new yE(this.o,this.container,this.iteratorType)}},i=class extends e.default{constructor(o=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size;if(typeof o.size=="function")return o.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(u/this.F),1);for(let d=0;d<this.P;++d)this.A.push(new Array(this.F));let c=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-u%this.F>>1;let f=this;o.forEach(function(d){f.pushBack(d)})}T(){let o=[],l=Math.max(this.P>>1,1);for(let u=0;u<l;++u)o[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)o[o.length]=this.A[u];for(let u=0;u<this.R;++u)o[o.length]=this.A[u];o[o.length]=[...this.A[this.R]],this.j=l,this.R=o.length-1;for(let u=0;u<l;++u)o[o.length]=new Array(this.F);this.A=o,this.P=o.length}O(o){let l=this.D+o+1,u=l%this.F,c=u-1,f=this.j+(l-u)/this.F;return u===0&&(f-=1),f%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(o){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=o,this.i}popBack(){if(this.i===0)return;let o=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,o}pushFront(o){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=o,this.i}popFront(){if(this.i===0)return;let o=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,o}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(o);return this.A[l][u]}setElementByPos(o,l){if(o<0||o>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:c}=this.O(o);this.A[u][c]=l}insert(o,l,u=1){if(o<0||o>this.i)throw new RangeError;if(o===0)for(;u--;)this.pushFront(l);else if(o===this.i)for(;u--;)this.pushBack(l);else{let c=[];for(let f=o;f<this.i;++f)c.push(this.getElementByPos(f));this.cut(o-1);for(let f=0;f<u;++f)this.pushBack(l);for(let f=0;f<c.length;++f)this.pushBack(c[f])}return this.i}cut(o){if(o<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(o);return this.R=l,this.N=u,this.i=o+1,this.i}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;if(o===0)this.popFront();else if(o===this.i-1)this.popBack();else{let l=[];for(let c=o+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(o),this.popBack();let u=this;l.forEach(function(c){u.pushBack(c)})}return this.i}eraseElementByValue(o){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let f=this.getElementByPos(c);f!==o&&l.push(f)}let u=l.length;for(let c=0;c<u;++c)this.setElementByPos(c,l[c]);return this.cut(u-1)}eraseElementByIterator(o){let l=o.o;return this.eraseElementByPos(l),o=o.next(),o}find(o){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===o)return new s(l,this);return this.end()}reverse(){let o=0,l=this.i-1;for(;o<l;){let u=this.getElementByPos(o);this.setElementByPos(o,this.getElementByPos(l)),this.setElementByPos(l,u),o+=1,l-=1}}unique(){if(this.i<=1)return this.i;let o=1,l=this.getElementByPos(0);for(let u=1;u<this.i;++u){let c=this.getElementByPos(u);c!==l&&(l=c,this.setElementByPos(o++,c))}for(;this.i>o;)this.popBack();return this.i}sort(o){let l=[];for(let u=0;u<this.i;++u)l.push(this.getElementByPos(u));l.sort(o);for(let u=0;u<this.i;++u)this.setElementByPos(u,l[u])}shrinkToFit(){if(this.i===0)return;let o=[];this.forEach(function(l){o.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<o.length;++l)this.pushBack(o[l])}forEach(o){for(let l=0;l<this.i;++l)o(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let o=0;o<this.i;++o)yield this.getElementByPos(o)}).bind(this)()}},a=i;t.default=a}),NL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var e=class{constructor(n,s){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=s}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let s=n.tt;for(;s.U===n;)n=s,s=n.tt;n=s}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let s=n.tt;for(;s.W===n;)n=s,s=n.tt;return n.W!==s?s:n}}te(){let n=this.tt,s=this.W,i=s.U;return n.tt===this?n.tt=s:n.U===this?n.U=s:n.W=s,s.tt=n,s.U=this,this.tt=s,this.W=i,i&&(i.tt=this),s}se(){let n=this.tt,s=this.U,i=s.W;return n.tt===this?n.tt=s:n.U===this?n.U=s:n.W=s,s.tt=n,s.W=this,this.tt=s,this.U=i,i&&(i.tt=this),s}};t.TreeNode=e;var r=class extends e{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=r}),wE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=NL(),r=ki(),n=Pi(),s=class extends r.Container{constructor(a=function(l,u){return l<u?-1:l>u?1:0},o=!1){super(),this.Y=void 0,this.v=a,o?(this.re=e.TreeNodeEnableIndex,this.M=function(l,u,c){let f=this.ne(l,u,c);if(f){let d=f.tt;for(;d!==this.h;)d.rt+=1,d=d.tt;let p=this.he(f);if(p){let{parentNode:g,grandParent:b,curNode:v}=p;g.ie(),b.ie(),v.ie()}}return this.i},this.V=function(l){let u=this.fe(l);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=e.TreeNode,this.M=function(l,u,c){let f=this.ne(l,u,c);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(a,o){let l=this.h;for(;a;){let u=this.v(a.u,o);if(u<0)a=a.W;else if(u>0)l=a,a=a.U;else return a}return l}Z(a,o){let l=this.h;for(;a;)this.v(a.u,o)<=0?a=a.W:(l=a,a=a.U);return l}$(a,o){let l=this.h;for(;a;){let u=this.v(a.u,o);if(u<0)l=a,a=a.W;else if(u>0)a=a.U;else return a}return l}rr(a,o){let l=this.h;for(;a;)this.v(a.u,o)<0?(l=a,a=a.W):a=a.U;return l}ue(a){for(;;){let o=a.tt;if(o===this.h)return;if(a.ee===1){a.ee=0;return}if(a===o.U){let l=o.W;if(l.ee===1)l.ee=0,o.ee=1,o===this.Y?this.Y=o.te():o.te();else if(l.W&&l.W.ee===1){l.ee=o.ee,o.ee=0,l.W.ee=0,o===this.Y?this.Y=o.te():o.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,a=o)}else{let l=o.U;if(l.ee===1)l.ee=0,o.ee=1,o===this.Y?this.Y=o.se():o.se();else if(l.U&&l.U.ee===1){l.ee=o.ee,o.ee=0,l.U.ee=0,o===this.Y?this.Y=o.se():o.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,a=o)}}}fe(a){if(this.i===1)return this.clear(),this.h;let o=a;for(;o.U||o.W;){if(o.W)for(o=o.W;o.U;)o=o.U;else o=o.U;[a.u,o.u]=[o.u,a.u],[a.l,o.l]=[o.l,a.l],a=o}this.h.U===o?this.h.U=o.tt:this.h.W===o&&(this.h.W=o.tt),this.ue(o);let l=o.tt;return o===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(a,o){return a===void 0?!1:this.oe(a.U,o)||o(a)?!0:this.oe(a.W,o)}he(a){for(;;){let o=a.tt;if(o.ee===0)return;let l=o.tt;if(o===l.U){let u=l.W;if(u&&u.ee===1){if(u.ee=o.ee=0,l===this.Y)return;l.ee=1,a=l;continue}else if(a===o.W){if(a.ee=0,a.U&&(a.U.tt=o),a.W&&(a.W.tt=l),o.W=a.U,l.U=a.W,a.U=o,a.W=l,l===this.Y)this.Y=a,this.h.tt=a;else{let c=l.tt;c.U===l?c.U=a:c.W=a}return a.tt=l.tt,o.tt=a,l.tt=a,l.ee=1,{parentNode:o,grandParent:l,curNode:a}}else o.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let u=l.U;if(u&&u.ee===1){if(u.ee=o.ee=0,l===this.Y)return;l.ee=1,a=l;continue}else if(a===o.U){if(a.ee=0,a.U&&(a.U.tt=l),a.W&&(a.W.tt=o),l.W=a.U,o.U=a.W,a.U=l,a.W=o,l===this.Y)this.Y=a,this.h.tt=a;else{let c=l.tt;c.U===l?c.U=a:c.W=a}return a.tt=l.tt,o.tt=a,l.tt=a,l.ee=1,{parentNode:o,grandParent:l,curNode:a}}else o.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(a,o,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(a,o),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,c=this.h.U,f=this.v(c.u,a);if(f===0){c.l=o;return}else if(f>0)c.U=new this.re(a,o),c.U.tt=c,u=c.U,this.h.U=u;else{let d=this.h.W,p=this.v(d.u,a);if(p===0){d.l=o;return}else if(p<0)d.W=new this.re(a,o),d.W.tt=d,u=d.W,this.h.W=u;else{if(l!==void 0){let g=l.o;if(g!==this.h){let b=this.v(g.u,a);if(b===0){g.l=o;return}else if(b>0){let v=g.L(),w=this.v(v.u,a);if(w===0){v.l=o;return}else w<0&&(u=new this.re(a,o),v.W===void 0?(v.W=u,u.tt=v):(g.U=u,u.tt=g))}}}if(u===void 0)for(u=this.Y;;){let g=this.v(u.u,a);if(g>0){if(u.U===void 0){u.U=new this.re(a,o),u.U.tt=u,u=u.U;break}u=u.U}else if(g<0){if(u.W===void 0){u.W=new this.re(a,o),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=o;return}}}}return this.i+=1,u}I(a,o){for(;a;){let l=this.v(a.u,o);if(l<0)a=a.W;else if(l>0)a=a.U;else return a}return a||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(a,o){let l=a.o;if(l===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return l.u=o,!0;if(l===this.h.U)return this.v(l.B().u,o)>0?(l.u=o,!0):!1;if(l===this.h.W)return this.v(l.L().u,o)<0?(l.u=o,!0):!1;let u=l.L().u;if(this.v(u,o)>=0)return!1;let c=l.B().u;return this.v(c,o)<=0?!1:(l.u=o,!0)}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o=0,l=this;return this.oe(this.Y,function(u){return a===o?(l.V(u),!0):(o+=1,!1)}),this.i}eraseElementByKey(a){if(this.i===0)return!1;let o=this.I(this.Y,a);return o===this.h?!1:(this.V(o),!0)}eraseElementByIterator(a){let o=a.o;o===this.h&&(0,n.throwIteratorAccessError)();let l=o.W===void 0;return a.iteratorType===0?l&&a.next():(!l||o.U===void 0)&&a.next(),this.V(o),a}forEach(a){let o=0;for(let l of this)a(l,o++,this)}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o,l=0;for(let u of this){if(l===a){o=u;break}l+=1}return o}getHeight(){if(this.i===0)return 0;let a=function(o){return o?Math.max(a(o.U),a(o.W))+1:0};return a(this.Y)}},i=s;t.default=i}),vE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ki(),r=Pi(),n=class extends e.ContainerIterator{constructor(i,a,o){super(o),this.o=i,this.h=a,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let i=this.o,a=this.h.tt;if(i===this.h)return a?a.rt-1:0;let o=0;for(i.U&&(o+=i.U.rt);i!==a;){let l=i.tt;i===l.W&&(o+=1,l.U&&(o+=l.U.rt)),i=l}return o}},s=n;t.default=s}),DL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=s(wE()),r=s(vE()),n=Pi();function s(l){return l&&l.t?l:{default:l}}var i=class _E extends r.default{constructor(u,c,f,d){super(u,c,d),this.container=f}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new _E(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.default{constructor(l=[],u,c){super(u,c);let f=this;l.forEach(function(d){f.insert(d)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,u){return this.M(l,void 0,u)}find(l){let u=this.I(this.Y,l);return new i(u,this.h,this)}lowerBound(l){let u=this.X(this.Y,l);return new i(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new i(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new i(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new i(u,this.h,this)}union(l){let u=this;return l.forEach(function(c){u.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=a;t.default=o}),UL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=s(wE()),r=s(vE()),n=Pi();function s(l){return l&&l.t?l:{default:l}}var i=class EE extends r.default{constructor(u,c,f,d){super(u,c,d),this.container=f}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(c,f,d){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=d,!0}})}copy(){return new EE(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.default{constructor(l=[],u,c){super(u,c);let f=this;l.forEach(function(d){f.setElement(d[0],d[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let u=this.X(this.Y,l);return new i(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new i(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new i(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new i(u,this.h,this)}setElement(l,u,c){return this.M(l,u,c)}find(l){let u=this.I(this.Y,l);return new i(u,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let u=this;return l.forEach(function(c){u.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},o=a;t.default=o}),SE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=e;function e(r){let n=typeof r;return n==="object"&&r!==null||n==="function"}}),xE=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var e=ki(),r=s(SE()),n=Pi();function s(o){return o&&o.t?o:{default:o}}var i=class extends e.ContainerIterator{constructor(o,l,u){super(u),this.o=o,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=i;var a=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(o){let{L:l,B:u}=o;l.B=u,u.L=l,o===this.p&&(this.p=u),o===this._&&(this._=l),this.i-=1}M(o,l,u){u===void 0&&(u=(0,r.default)(o));let c;if(u){let f=o[this.HASH_TAG];if(f!==void 0)return this.H[f].l=l,this.i;Object.defineProperty(o,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:o,l,L:this._,B:this.h},this.H.push(c)}else{let f=this.g[o];if(f)return f.l=l,this.i;c={u:o,l,L:this._,B:this.h},this.g[o]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(o,l){if(l===void 0&&(l=(0,r.default)(o)),l){let u=o[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[o]||this.h}clear(){let o=this.HASH_TAG;this.H.forEach(function(l){delete l.u[o]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(o,l){let u;if(l===void 0&&(l=(0,r.default)(o)),l){let c=o[this.HASH_TAG];if(c===void 0)return!1;delete o[this.HASH_TAG],u=this.H[c],delete this.H[c]}else{if(u=this.g[o],u===void 0)return!1;delete this.g[o]}return this.V(u),!0}eraseElementByIterator(o){let l=o.o;return l===this.h&&(0,n.throwIteratorAccessError)(),this.V(l),o.next()}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let l=this.p;for(;o--;)l=l.B;return this.V(l),this.i}};t.HashContainer=a}),FL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=xE(),r=Pi(),n=class TE extends e.HashContainerIterator{constructor(o,l,u,c){super(o,l,c),this.container=u}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new TE(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.HashContainer{constructor(a=[]){super();let o=this;a.forEach(function(l){o.insert(l)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(a,o){return this.M(a,void 0,o)}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let o=this.p;for(;a--;)o=o.B;return o.u}find(a,o){let l=this.I(a,o);return new n(l,this.h,this)}forEach(a){let o=0,l=this.p;for(;l!==this.h;)a(l.u,o++,this),l=l.B}[Symbol.iterator](){return(function*(){let a=this.p;for(;a!==this.h;)yield a.u,a=a.B}).bind(this)()}},i=s;t.default=i}),VL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=xE(),r=s(SE()),n=Pi();function s(l){return l&&l.t?l:{default:l}}var i=class AE extends e.HashContainerIterator{constructor(u,c,f,d){super(u,c,d),this.container=f}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(c,f,d){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=d,!0}})}copy(){return new AE(this.o,this.h,this.container,this.iteratorType)}},a=class extends e.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(c){u.setElement(c[0],c[1])})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,u,c){return this.M(l,u,c)}getElementByKey(l,u){if(u===void 0&&(u=(0,r.default)(l)),u){let f=l[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return[u.u,u.l]}find(l,u){let c=this.I(l,u);return new i(c,this.h,this)}forEach(l){let u=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],u++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},o=a;t.default=o}),jL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return s.default}});var e=f(PL()),r=f(OL()),n=f(LL()),s=f(RL()),i=f(BL()),a=f($L()),o=f(DL()),l=f(UL()),u=f(FL()),c=f(VL());function f(d){return d&&d.t?d:{default:d}}}),WL=De((t,e)=>{Oe(),Re(),Le();var r=jL().OrderedSet,n=xi()("number-allocator:trace"),s=xi()("number-allocator:error");function i(o,l){this.low=o,this.high=l}i.prototype.equals=function(o){return this.low===o.low&&this.high===o.high},i.prototype.compare=function(o){return this.low<o.low&&this.high<o.low?-1:o.low<this.low&&o.high<this.low?1:0};function a(o,l){if(!(this instanceof a))return new a(o,l);this.min=o,this.max=l,this.ss=new r([],(u,c)=>u.compare(c)),n("Create"),this.clear()}a.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},a.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let o=this.ss.begin(),l=o.pointer.low,u=o.pointer.high,c=l;return c+1<=u?this.ss.updateKeyByIterator(o,new i(l+1,u)):this.ss.eraseElementByPos(0),n("alloc():"+c),c},a.prototype.use=function(o){let l=new i(o,o),u=this.ss.lowerBound(l);if(!u.equals(this.ss.end())){let c=u.pointer.low,f=u.pointer.high;return u.pointer.equals(l)?(this.ss.eraseElementByIterator(u),n("use():"+o),!0):c>o?!1:c===o?(this.ss.updateKeyByIterator(u,new i(c+1,f)),n("use():"+o),!0):f===o?(this.ss.updateKeyByIterator(u,new i(c,f-1)),n("use():"+o),!0):(this.ss.updateKeyByIterator(u,new i(o+1,f)),this.ss.insert(new i(c,o-1)),n("use():"+o),!0)}return n("use():failed"),!1},a.prototype.free=function(o){if(o<this.min||o>this.max){s("free():"+o+" is out of range");return}let l=new i(o,o),u=this.ss.upperBound(l);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(l);return}u.pre();let c=u.pointer.high;u.pointer.high+1===o?this.ss.updateKeyByIterator(u,new i(c,o)):this.ss.insert(l)}else if(u.equals(this.ss.begin()))if(o+1===u.pointer.low){let c=u.pointer.high;this.ss.updateKeyByIterator(u,new i(o,c))}else this.ss.insert(l);else{let c=u.pointer.low,f=u.pointer.high;u.pre();let d=u.pointer.low;u.pointer.high+1===o?o+1===c?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new i(d,f))):this.ss.updateKeyByIterator(u,new i(d,o)):o+1===c?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new i(o,f))):this.ss.insert(l)}n("free():"+o)},a.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new i(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log("length:"+this.ss.size());for(let o of this.ss)console.log(o)},e.exports=a}),CE=De((t,e)=>{Oe(),Re(),Le();var r=WL();e.exports.NumberAllocator=r}),zL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=kL(),r=CE(),n=class{constructor(s){s>0&&(this.aliasToTopic=new e.LRUCache({max:s}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,s),this.max=s,this.length=0)}put(s,i){if(i===0||i>this.max)return!1;let a=this.aliasToTopic.get(i);return a&&delete this.topicToAlias[a],this.aliasToTopic.set(i,s),this.topicToAlias[s]=i,this.numberAllocator.use(i),this.length=this.aliasToTopic.size,!0}getTopicByAlias(s){return this.aliasToTopic.get(s)}getAliasByTopic(s){let i=this.topicToAlias[s];return typeof i<"u"&&this.aliasToTopic.get(i),i}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=n}),HL=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var r=Zc(),n=e(zL()),s=la(),i=(a,o)=>{a.log("_handleConnack");let{options:l}=a,u=l.protocolVersion===5?o.reasonCode:o.returnCode;if(clearTimeout(a.connackTimer),delete a.topicAliasSend,o.properties){if(o.properties.topicAliasMaximum){if(o.properties.topicAliasMaximum>65535){a.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}o.properties.topicAliasMaximum>0&&(a.topicAliasSend=new n.default(o.properties.topicAliasMaximum))}o.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=o.properties.serverKeepAlive),o.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=o.properties.maximumPacketSize)}if(u===0)a.reconnecting=!1,a._onConnect(o);else if(u>0){let c=new s.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[u]}`,u);a.emit("error",c),a.options.reconnectOnConnackError&&a._cleanUp(!0)}};t.default=i}),qL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=(r,n,s)=>{r.log("handling pubrel packet");let i=typeof s<"u"?s:r.noop,{messageId:a}=n,o={cmd:"pubcomp",messageId:a};r.incomingStore.get(n,(l,u)=>{l?r._sendPacket(o,i):(r.emit("message",u.topic,u.payload,u),r.handleMessage(u,c=>{if(c)return i(c);r.incomingStore.del(u,r.noop),r._sendPacket(o,i)}))})};t.default=e}),GL=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var r=e(CL()),n=e(ML()),s=e(HL()),i=e(Zc()),a=e(qL()),o=(l,u,c)=>{let{options:f}=l;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<u.length)return l.emit("error",new Error(`exceeding packets size ${u.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",u),u.cmd){case"publish":(0,r.default)(l,u,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,i.default)(l,u),c();break;case"pubrel":l.reschedulePing(),(0,a.default)(l,u,c);break;case"connack":(0,s.default)(l,u),c();break;case"auth":l.reschedulePing(),(0,n.default)(l,u),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",u),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};t.default=o}),YL=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var r=e((aa(),At(no))),n=la(),s=class{};t.TypedEventEmitter=s,(0,n.applyMixin)(s,r.default)}),ef=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var e=()=>{var i;return typeof window<"u"?typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.toLowerCase().indexOf(" electron/"))>-1&&bt!=null&&bt.versions?!Object.prototype.hasOwnProperty.call(bt.versions,"electron"):typeof window.document<"u":!1},r=()=>{var i,a;return!!(typeof self=="object"&&!((a=(i=self==null?void 0:self.constructor)===null||i===void 0?void 0:i.name)===null||a===void 0)&&a.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",s=e()||r()||n();t.isWebWorker=r(),t.isReactNativeBrowser=n(),t.default=s}),KL=De((t,e)=>{Oe(),Re(),Le(),function(r,n){typeof t=="object"&&typeof e<"u"?n(t):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.fastUniqueNumbers={}))}(t,function(r){var n=function(p){return function(g){var b=p(g);return g.add(b),b}},s=function(p){return function(g,b){return p.set(g,b),b}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,o=a*2,l=function(p,g){return function(b){var v=g.get(b),w=v===void 0?b.size:v<o?v+1:0;if(!b.has(w))return p(b,w);if(b.size<a){for(;b.has(w);)w=Math.floor(Math.random()*o);return p(b,w)}if(b.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;b.has(w);)w=Math.floor(Math.random()*i);return p(b,w)}},u=new WeakMap,c=s(u),f=l(c,u),d=n(f);r.addUniqueNumber=d,r.generateUniqueNumber=f})}),XL=De((t,e)=>{Oe(),Re(),Le(),function(r,n){typeof t=="object"&&typeof e<"u"?n(t,KL()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimersBroker={},r.fastUniqueNumbers))}(t,function(r,n){var s=function(o){return o.method!==void 0&&o.method==="call"},i=function(o){return o.error===null&&typeof o.id=="number"},a=function(o){var l=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),c=new Map,f=new Worker(o);f.addEventListener("message",function(v){var w=v.data;if(s(w)){var _=w.params,y=_.timerId,S=_.timerType;if(S==="interval"){var T=l.get(y);if(typeof T=="number"){var A=c.get(T);if(A===void 0||A.timerId!==y||A.timerType!==S)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T();else throw new Error("The timer is in an undefined state.")}else if(S==="timeout"){var C=u.get(y);if(typeof C=="number"){var L=c.get(C);if(L===void 0||L.timerId!==y||L.timerType!==S)throw new Error("The timer is in an undefined state.")}else if(typeof C<"u")C(),u.delete(y);else throw new Error("The timer is in an undefined state.")}}else if(i(w)){var j=w.id,F=c.get(j);if(F===void 0)throw new Error("The timer is in an undefined state.");var $=F.timerId,I=F.timerType;c.delete(j),I==="interval"?l.delete($):u.delete($)}else{var M=w.error.message;throw new Error(M)}});var d=function(v){var w=n.generateUniqueNumber(c);c.set(w,{timerId:v,timerType:"interval"}),l.set(v,w),f.postMessage({id:w,method:"clear",params:{timerId:v,timerType:"interval"}})},p=function(v){var w=n.generateUniqueNumber(c);c.set(w,{timerId:v,timerType:"timeout"}),u.set(v,w),f.postMessage({id:w,method:"clear",params:{timerId:v,timerType:"timeout"}})},g=function(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=n.generateUniqueNumber(l);return l.set(_,function(){v(),typeof l.get(_)=="function"&&f.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:_,timerType:"interval"}})}),f.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:_,timerType:"interval"}}),_},b=function(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=n.generateUniqueNumber(u);return u.set(_,v),f.postMessage({id:null,method:"set",params:{delay:w,now:performance.now(),timerId:_,timerType:"timeout"}}),_};return{clearInterval:d,clearTimeout:p,setInterval:g,setTimeout:b}};r.load=a})}),QL=De((t,e)=>{Oe(),Re(),Le(),function(r,n){typeof t=="object"&&typeof e<"u"?n(t,XL()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimers={},r.workerTimersBroker))}(t,function(r,n){var s=function(f,d){var p=null;return function(){if(p!==null)return p;var g=new Blob([d],{type:"application/javascript; charset=utf-8"}),b=URL.createObjectURL(g);return p=f(b),setTimeout(function(){return URL.revokeObjectURL(b)}),p}},i=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,a=s(n.load,i),o=function(f){return a().clearInterval(f)},l=function(f){return a().clearTimeout(f)},u=function(){var f;return(f=a()).setInterval.apply(f,arguments)},c=function(){var f;return(f=a()).setTimeout.apply(f,arguments)};r.clearInterval=o,r.clearTimeout=l,r.setInterval=u,r.setTimeout=c})}),JL=De(t=>{Oe(),Re(),Le();var e=t&&t.__createBinding||(Object.create?function(u,c,f,d){d===void 0&&(d=f);var p=Object.getOwnPropertyDescriptor(c,f);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(u,d,p)}:function(u,c,f,d){d===void 0&&(d=f),u[d]=c[f]}),r=t&&t.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),n=t&&t.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var f in u)f!=="default"&&Object.prototype.hasOwnProperty.call(u,f)&&e(c,u,f);return r(c,u),c};Object.defineProperty(t,"__esModule",{value:!0});var s=n(ef()),i=QL(),a={set:i.setInterval,clear:i.clearInterval},o={set:(u,c)=>setInterval(u,c),clear:u=>clearInterval(u)},l=u=>{switch(u){case"native":return o;case"worker":return a;case"auto":default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?a:o}};t.default=l}),IE=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});var r=e(JL()),n=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(s,i){this.destroyed=!1,this.client=s,this.timer=typeof i=="object"&&"set"in i&&"clear"in i?i:(0,r.default)(i),this.setKeepalive(s.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(s){if(s*=1e3,isNaN(s)||s<=0||s>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${s}`);this._keepalive=s,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${s}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let s=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+s,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=n}),ig=De(t=>{Oe(),Re(),Le();var e=t&&t.__createBinding||(Object.create?function(T,A,C,L){L===void 0&&(L=C);var j=Object.getOwnPropertyDescriptor(A,C);(!j||("get"in j?!A.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return A[C]}}),Object.defineProperty(T,L,j)}:function(T,A,C,L){L===void 0&&(L=C),T[L]=A[C]}),r=t&&t.__setModuleDefault||(Object.create?function(T,A){Object.defineProperty(T,"default",{enumerable:!0,value:A})}:function(T,A){T.default=A}),n=t&&t.__importStar||function(T){if(T&&T.__esModule)return T;var A={};if(T!=null)for(var C in T)C!=="default"&&Object.prototype.hasOwnProperty.call(T,C)&&e(A,T,C);return r(A,T),A},s=t&&t.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(t,"__esModule",{value:!0});var i=s(V2()),a=s(SL()),o=s(fE()),l=io(),u=s(TL()),c=n(AL()),f=s(xi()),d=s(dE()),p=s(GL()),g=la(),b=YL(),v=s(IE()),w=n(ef()),_=globalThis.setImmediate||((...T)=>{let A=T.shift();(0,g.nextTick)(()=>{A(...T)})}),y={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},S=class sg extends b.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(A,C){super(),this.options=C||{};for(let L in y)typeof this.options[L]>"u"?this.options[L]=y[L]:this.options[L]=C[L];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",sg.VERSION),w.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",w.default?"browser":"node"),this.log("MqttClient :: options.protocol",C.protocol),this.log("MqttClient :: options.protocolVersion",C.protocolVersion),this.log("MqttClient :: options.username",C.username),this.log("MqttClient :: options.keepalive",C.keepalive),this.log("MqttClient :: options.reconnectPeriod",C.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",C.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",C.properties?C.properties.topicAliasMaximum:void 0),this.options.clientId=typeof C.clientId=="string"?C.clientId:sg.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=C.protocolVersion===5&&C.customHandleAcks?C.customHandleAcks:(...L)=>{L[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new o.default:this.options.messageIdProvider,this.outgoingStore=C.outgoingStore||new d.default,this.incomingStore=C.incomingStore||new d.default,this.queueQoSZero=C.queueQoSZero===void 0?!0:C.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,C.properties&&C.properties.topicAliasMaximum>0&&(C.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new i.default(C.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:L}=this,j=()=>{let F=L.shift();this.log("deliver :: entry %o",F);let $=null;if(!F){this._resubscribe();return}$=F.packet,this.log("deliver :: call _sendPacket for %o",$);let I=!0;$.messageId&&$.messageId!==0&&(this.messageIdProvider.register($.messageId)||(I=!1)),I?this._sendPacket($,M=>{F.cb&&F.cb(M),j()}):(this.log("messageId: %d has already used. The message is skipped and removed.",$.messageId),j())};this.log("connect :: sending queued packets"),j()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(A,C){C()}handleMessage(A,C){C()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var A;let C=new l.Writable,L=a.default.parser(this.options),j=null,F=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new d.default,this.outgoingStore=this.options.outgoingStore||new d.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),L.on("packet",J=>{this.log("parser :: on packet push to packets array."),F.push(J)});let $=()=>{this.log("work :: getting next packet in queue");let J=F.shift();if(J)this.log("work :: packet pulled from queue"),(0,p.default)(this,J,I);else{this.log("work :: no packets in queue");let ie=j;j=null,this.log("work :: done flag is %s",!!ie),ie&&ie()}},I=()=>{if(F.length)(0,g.nextTick)($);else{let J=j;j=null,J()}};C._write=(J,ie,re)=>{j=re,this.log("writable stream :: parsing buffer"),L.parse(J),$()};let M=J=>{this.log("streamErrorHandler :: error",J.message),J.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",J)):this.noop(J)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(C),this.stream.on("error",M),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let B={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(B.will=Object.assign(Object.assign({},this.options.will),{payload:(A=this.options.will)===null||A===void 0?void 0:A.payload})),this.topicAliasRecv&&(B.properties||(B.properties={}),this.topicAliasRecv&&(B.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(B),L.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let J=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(J)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(A,C,L,j){this.log("publish :: message `%s` to topic `%s`",C,A);let{options:F}=this;typeof L=="function"&&(j=L,L=null),L=L||{},L=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),L);let{qos:$,retain:I,dup:M,properties:B,cbStorePut:J}=L;if(this._checkDisconnecting(j))return this;let ie=()=>{let re=0;if(($===1||$===2)&&(re=this._nextId(),re===null))return this.log("No messageId left"),!1;let N={cmd:"publish",topic:A,payload:C,qos:$,retain:I,messageId:re,dup:M};switch(F.protocolVersion===5&&(N.properties=B),this.log("publish :: qos",$),$){case 1:case 2:this.outgoing[N.messageId]={volatile:!1,cb:j||this.noop},this.log("MqttClient:publish: packet cmd: %s",N.cmd),this._sendPacket(N,void 0,J);break;default:this.log("MqttClient:publish: packet cmd: %s",N.cmd),this._sendPacket(N,j,J);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,cbStorePut:L.cbStorePut,callback:j}),this}publishAsync(A,C,L){return new Promise((j,F)=>{this.publish(A,C,L,($,I)=>{$?F($):j(I)})})}subscribe(A,C,L){let j=this.options.protocolVersion;typeof C=="function"&&(L=C),L=L||this.noop;let F=!1,$=[];typeof A=="string"?(A=[A],$=A):Array.isArray(A)?$=A:typeof A=="object"&&(F=A.resubscribe,delete A.resubscribe,$=Object.keys(A));let I=c.validateTopics($);if(I!==null)return _(L,new Error(`Invalid topic ${I}`)),this;if(this._checkDisconnecting(L))return this.log("subscribe: discconecting true"),this;let M={qos:0};j===5&&(M.nl=!1,M.rap=!1,M.rh=0),C=Object.assign(Object.assign({},M),C);let B=C.properties,J=[],ie=(N,fe)=>{if(fe=fe||C,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,N)||this._resubscribeTopics[N].qos<fe.qos||F){let G={topic:N,qos:fe.qos};j===5&&(G.nl=fe.nl,G.rap=fe.rap,G.rh=fe.rh,G.properties=B),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",G.topic,G.qos),J.push(G)}};if(Array.isArray(A)?A.forEach(N=>{this.log("subscribe: array topic %s",N),ie(N)}):Object.keys(A).forEach(N=>{this.log("subscribe: object topic %s, %o",N,A[N]),ie(N,A[N])}),!J.length)return L(null,[]),this;let re=()=>{let N=this._nextId();if(N===null)return this.log("No messageId left"),!1;let fe={cmd:"subscribe",subscriptions:J,messageId:N};if(B&&(fe.properties=B),this.options.resubscribe){this.log("subscribe :: resubscribe true");let G=[];J.forEach(pe=>{if(this.options.reconnectPeriod>0){let U={qos:pe.qos};j===5&&(U.nl=pe.nl||!1,U.rap=pe.rap||!1,U.rh=pe.rh||0,U.properties=pe.properties),this._resubscribeTopics[pe.topic]=U,G.push(pe.topic)}}),this.messageIdToTopic[fe.messageId]=G}return this.outgoing[fe.messageId]={volatile:!0,cb(G,pe){if(!G){let{granted:U}=pe;for(let de=0;de<U.length;de+=1)J[de].qos=U[de]}L(G,J,pe)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(fe),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!re())&&this._storeProcessingQueue.push({invoke:re,callback:L}),this}subscribeAsync(A,C){return new Promise((L,j)=>{this.subscribe(A,C,(F,$)=>{F?j(F):L($)})})}unsubscribe(A,C,L){typeof A=="string"&&(A=[A]),typeof C=="function"&&(L=C),L=L||this.noop;let j=c.validateTopics(A);if(j!==null)return _(L,new Error(`Invalid topic ${j}`)),this;if(this._checkDisconnecting(L))return this;let F=()=>{let $=this._nextId();if($===null)return this.log("No messageId left"),!1;let I={cmd:"unsubscribe",messageId:$,unsubscriptions:[]};return typeof A=="string"?I.unsubscriptions=[A]:Array.isArray(A)&&(I.unsubscriptions=A),this.options.resubscribe&&I.unsubscriptions.forEach(M=>{delete this._resubscribeTopics[M]}),typeof C=="object"&&C.properties&&(I.properties=C.properties),this.outgoing[I.messageId]={volatile:!0,cb:L},this.log("unsubscribe: call _sendPacket"),this._sendPacket(I),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!F())&&this._storeProcessingQueue.push({invoke:F,callback:L}),this}unsubscribeAsync(A,C){return new Promise((L,j)=>{this.unsubscribe(A,C,(F,$)=>{F?j(F):L($)})})}end(A,C,L){this.log("end :: (%s)",this.options.clientId),(A==null||typeof A!="boolean")&&(L=L||C,C=A,A=!1),typeof C!="object"&&(L=L||C,C=null),this.log("end :: cb? %s",!!L),(!L||typeof L!="function")&&(L=this.noop);let j=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close($=>{this.outgoingStore.close(I=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),L){let M=$||I;this.log("end :: closeStores: invoking callback with args"),L(M)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},F=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,A),this._cleanUp(A,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)(j)},C)};return this.disconnecting?(L(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,F,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),F()),this)}endAsync(A,C){return new Promise((L,j)=>{this.end(A,C,F=>{F?j(F):L()})})}removeOutgoingMessage(A){if(this.outgoing[A]){let{cb:C}=this.outgoing[A];this._removeOutgoingAndStoreMessage(A,()=>{C(new Error("Message removed"))})}return this}reconnect(A){this.log("client reconnect");let C=()=>{A?(this.options.incomingStore=A.incomingStore,this.options.outgoingStore=A.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new d.default,this.outgoingStore=this.options.outgoingStore||new d.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=C:C(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(A=>{this.outgoing[A].volatile&&typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(A=>{typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_removeTopicAliasAndRecoverTopicName(A){let C;A.properties&&(C=A.properties.topicAlias);let L=A.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",C,L),L.length===0){if(typeof C>"u")return new Error("Unregistered Topic Alias");if(L=this.topicAliasSend.getTopicByAlias(C),typeof L>"u")return new Error("Unregistered Topic Alias");A.topic=L}C&&delete A.properties.topicAlias}_checkDisconnecting(A){return this.disconnecting&&(A&&A!==this.noop?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(A,C,L={}){if(C&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",C)),this.log("_cleanUp :: forced? %s",A),A)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let j=Object.assign({cmd:"disconnect"},L);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(j,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),_(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),C&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",C),C())}_storeAndSend(A,C,L){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let j=A,F;if(j.cmd==="publish"&&(j=(0,u.default)(A),F=this._removeTopicAliasAndRecoverTopicName(j),F))return C&&C(F);this.outgoingStore.put(j,$=>{if($)return C&&C($);L(),this._writePacket(A,C)})}_applyTopicAlias(A){if(this.options.protocolVersion===5&&A.cmd==="publish"){let C;A.properties&&(C=A.properties.topicAlias);let L=A.topic.toString();if(this.topicAliasSend)if(C){if(L.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",L,C),!this.topicAliasSend.put(L,C)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",L,C),new Error("Sending Topic Alias out of range")}else L.length!==0&&(this.options.autoAssignTopicAlias?(C=this.topicAliasSend.getAliasByTopic(L),C?(A.topic="",A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",L,C)):(C=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(L,C),A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",L,C))):this.options.autoUseTopicAlias&&(C=this.topicAliasSend.getAliasByTopic(L),C&&(A.topic="",A.properties=Object.assign(Object.assign({},A.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",L,C))));else if(C)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",L,C),new Error("Sending Topic Alias out of range")}}_noop(A){this.log("noop ::",A)}_writePacket(A,C){this.log("_writePacket :: packet: %O",A),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",A),this.log("_writePacket :: writing to stream");let L=a.default.writeToStream(A,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",L),!L&&C&&C!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",C)):C&&(this.log("_writePacket :: invoking cb"),C())}_sendPacket(A,C,L,j){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),L=L||this.noop,C=C||this.noop;let F=this._applyTopicAlias(A);if(F){C(F);return}if(!this.connected){if(A.cmd==="auth"){this._writePacket(A,C);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(A,C,L);return}if(j){this._writePacket(A,C);return}switch(A.cmd){case"publish":break;case"pubrel":this._storeAndSend(A,C,L);return;default:this._writePacket(A,C);return}switch(A.qos){case 2:case 1:this._storeAndSend(A,C,L);break;case 0:default:this._writePacket(A,C);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(A,C,L){this.log("_storePacket :: packet: %o",A),this.log("_storePacket :: cb? %s",!!C),L=L||this.noop;let j=A;if(j.cmd==="publish"){j=(0,u.default)(A);let $=this._removeTopicAliasAndRecoverTopicName(j);if($)return C&&C($)}let F=j.qos||0;F===0&&this.queueQoSZero||j.cmd!=="publish"?this.queue.push({packet:j,cb:C}):F>0?(C=this.outgoing[j.messageId]?this.outgoing[j.messageId].cb:null,this.outgoingStore.put(j,$=>{if($)return C&&C($);L()})):C&&C(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new v.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(A=!1){this.keepaliveManager&&this.options.keepalive&&(A||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let C=0;C<A.length;C++){let L={};L[A[C]]=this._resubscribeTopics[A[C]],L.resubscribe=!0,this.subscribe(L,{properties:L[A[C]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(A){if(this.disconnected){this.emit("connect",A);return}this.connackPacket=A,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let C=()=>{let L=this.outgoingStore.createStream(),j=()=>{L.destroy(),L=null,this._flushStoreProcessingQueue(),F()},F=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",j),L.on("error",I=>{F(),this._flushStoreProcessingQueue(),this.removeListener("close",j),this.emit("error",I)});let $=()=>{if(!L)return;let I=L.read(1),M;if(!I){L.once("readable",$);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[I.messageId]){$();return}!this.disconnecting&&!this.reconnectTimer?(M=this.outgoing[I.messageId]?this.outgoing[I.messageId].cb:null,this.outgoing[I.messageId]={volatile:!1,cb(B,J){M&&M(B,J),$()}},this._packetIdsDuringStoreProcessing[I.messageId]=!0,this.messageIdProvider.register(I.messageId)?this._sendPacket(I,void 0,void 0,!0):this.log("messageId: %d has already used.",I.messageId)):L.destroy&&L.destroy()};L.on("end",()=>{let I=!0;for(let M in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[M]){I=!1;break}this.removeListener("close",j),I?(F(),this._invokeAllStoreProcessingQueue(),this.emit("connect",A)):C()}),$()};C()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(A,C){delete this.outgoing[A],this.outgoingStore.del({messageId:A},(L,j)=>{C(L,j),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue()})}};S.VERSION=g.MQTTJS_VERSION,t.default=S}),ZL=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=CE(),r=class{constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};t.default=r});function vs(t){throw new RangeError(kE[t])}function rw(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);let s=function(i,a){let o=[],l=i.length;for(;l--;)o[l]=a(i[l]);return o}((t=t.replace(ME,".")).split("."),e).join(".");return n+s}function nw(t){let e=[],r=0,n=t.length;for(;r<n;){let s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){let i=t.charCodeAt(r++);(64512&i)==56320?e.push(((1023&s)<<10)+(1023&i)+65536):(e.push(s),r--)}else e.push(s)}return e}var iw,sw,ME,kE,dn,Ql,Gf,Yf,Kf,Xf,Di,eR=lr(()=>{Oe(),Re(),Le(),iw=/^xn--/,sw=/[^\0-\x7E]/,ME=/[\x2E\u3002\uFF0E\uFF61]/g,kE={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},dn=Math.floor,Ql=String.fromCharCode,Gf=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Yf=function(t,e,r){let n=0;for(t=r?dn(t/700):t>>1,t+=dn(t/e);t>455;n+=36)t=dn(t/35);return dn(n+36*t/(t+38))},Kf=function(t){let e=[],r=t.length,n=0,s=128,i=72,a=t.lastIndexOf("-");a<0&&(a=0);for(let l=0;l<a;++l)t.charCodeAt(l)>=128&&vs("not-basic"),e.push(t.charCodeAt(l));for(let l=a>0?a+1:0;l<r;){let u=n;for(let f=1,d=36;;d+=36){l>=r&&vs("invalid-input");let p=(o=t.charCodeAt(l++))-48<10?o-22:o-65<26?o-65:o-97<26?o-97:36;(p>=36||p>dn((2147483647-n)/f))&&vs("overflow"),n+=p*f;let g=d<=i?1:d>=i+26?26:d-i;if(p<g)break;let b=36-g;f>dn(2147483647/b)&&vs("overflow"),f*=b}let c=e.length+1;i=Yf(n-u,c,u==0),dn(n/c)>2147483647-s&&vs("overflow"),s+=dn(n/c),n%=c,e.splice(n++,0,s)}var o;return String.fromCodePoint(...e)},Xf=function(t){let e=[],r=(t=nw(t)).length,n=128,s=0,i=72;for(let l of t)l<128&&e.push(Ql(l));let a=e.length,o=a;for(a&&e.push("-");o<r;){let l=2147483647;for(let c of t)c>=n&&c<l&&(l=c);let u=o+1;l-n>dn((2147483647-s)/u)&&vs("overflow"),s+=(l-n)*u,n=l;for(let c of t)if(c<n&&++s>2147483647&&vs("overflow"),c==n){let f=s;for(let d=36;;d+=36){let p=d<=i?1:d>=i+26?26:d-i;if(f<p)break;let g=f-p,b=36-p;e.push(Ql(Gf(p+g%b,0))),f=dn(g/b)}e.push(Ql(Gf(f,0))),i=Yf(s,u,o==a),s=0,++o}++s,++n}return e.join("")},Di={version:"2.1.0",ucs2:{decode:nw,encode:t=>String.fromCodePoint(...t)},decode:Kf,encode:Xf,toASCII:function(t){return rw(t,function(e){return sw.test(e)?"xn--"+Xf(e):e})},toUnicode:function(t){return rw(t,function(e){return iw.test(e)?Kf(e.slice(4).toLowerCase()):e})}},Di.decode,Di.encode,Di.toASCII,Di.toUnicode,Di.ucs2,Di.version});function tR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ow,go,aw,On,rR=lr(()=>{Oe(),Re(),Le(),ow=function(t,e,r,n){e=e||"&",r=r||"=";var s={};if(typeof t!="string"||t.length===0)return s;var i=/\+/g;t=t.split(e);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var o=t.length;a>0&&o>a&&(o=a);for(var l=0;l<o;++l){var u,c,f,d,p=t[l].replace(i,"%20"),g=p.indexOf(r);g>=0?(u=p.substr(0,g),c=p.substr(g+1)):(u=p,c=""),f=decodeURIComponent(u),d=decodeURIComponent(c),tR(s,f)?Array.isArray(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d}return s},go=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},aw=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var i=encodeURIComponent(go(s))+r;return Array.isArray(t[s])?t[s].map(function(a){return i+encodeURIComponent(go(a))}).join(e):i+encodeURIComponent(go(t[s]))}).join(e):n?encodeURIComponent(go(n))+r+encodeURIComponent(go(t)):""},On={},On.decode=On.parse=ow,On.encode=On.stringify=aw,On.decode,On.encode,On.parse,On.stringify});function og(){throw new Error("setTimeout has not been defined")}function ag(){throw new Error("clearTimeout has not been defined")}function PE(t){if(ni===setTimeout)return setTimeout(t,0);if((ni===og||!ni)&&setTimeout)return ni=setTimeout,setTimeout(t,0);try{return ni(t,0)}catch{try{return ni.call(null,t,0)}catch{return ni.call(this||Ns,t,0)}}}function nR(){Ds&&ks&&(Ds=!1,ks.length?Dn=ks.concat(Dn):tl=-1,Dn.length&&OE())}function OE(){if(!Ds){var t=PE(nR);Ds=!0;for(var e=Dn.length;e;){for(ks=Dn,Dn=[];++tl<e;)ks&&ks[tl].run();tl=-1,e=Dn.length}ks=null,Ds=!1,function(r){if(ii===clearTimeout)return clearTimeout(r);if((ii===ag||!ii)&&clearTimeout)return ii=clearTimeout,clearTimeout(r);try{ii(r)}catch{try{return ii.call(null,r)}catch{return ii.call(this||Ns,r)}}}(t)}}function lw(t,e){(this||Ns).fun=t,(this||Ns).array=e}function Jn(){}var uw,ni,ii,Ns,jt,ks,Dn,Ds,tl,Dt,iR=lr(()=>{Oe(),Re(),Le(),Ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:zs,jt=uw={},function(){try{ni=typeof setTimeout=="function"?setTimeout:og}catch{ni=og}try{ii=typeof clearTimeout=="function"?clearTimeout:ag}catch{ii=ag}}(),Dn=[],Ds=!1,tl=-1,jt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Dn.push(new lw(t,e)),Dn.length!==1||Ds||PE(OE)},lw.prototype.run=function(){(this||Ns).fun.apply(null,(this||Ns).array)},jt.title="browser",jt.browser=!0,jt.env={},jt.argv=[],jt.version="",jt.versions={},jt.on=Jn,jt.addListener=Jn,jt.once=Jn,jt.off=Jn,jt.removeListener=Jn,jt.removeAllListeners=Jn,jt.emit=Jn,jt.prependListener=Jn,jt.prependOnceListener=Jn,jt.listeners=function(t){return[]},jt.binding=function(t){throw new Error("process.binding is not supported")},jt.cwd=function(){return"/"},jt.chdir=function(t){throw new Error("process.chdir is not supported")},jt.umask=function(){return 0},Dt=uw,Dt.addListener,Dt.argv,Dt.binding,Dt.browser,Dt.chdir,Dt.cwd,Dt.emit,Dt.env,Dt.listeners,Dt.nextTick,Dt.off,Dt.on,Dt.once,Dt.prependListener,Dt.prependOnceListener,Dt.removeAllListeners,Dt.removeListener,Dt.title,Dt.umask,Dt.version,Dt.versions});function sR(){if(lg)return Du;lg=!0;var t=Du={},e,r;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function i(b){if(e===setTimeout)return setTimeout(b,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(b,0);try{return e(b,0)}catch{try{return e.call(null,b,0)}catch{return e.call(this||Ts,b,0)}}}function a(b){if(r===clearTimeout)return clearTimeout(b);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(b);try{return r(b)}catch{try{return r.call(null,b)}catch{return r.call(this||Ts,b)}}}var o=[],l=!1,u,c=-1;function f(){!l||!u||(l=!1,u.length?o=u.concat(o):c=-1,o.length&&d())}function d(){if(!l){var b=i(f);l=!0;for(var v=o.length;v;){for(u=o,o=[];++c<v;)u&&u[c].run();c=-1,v=o.length}u=null,l=!1,a(b)}}t.nextTick=function(b){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];o.push(new p(b,v)),o.length===1&&!l&&i(d)};function p(b,v){(this||Ts).fun=b,(this||Ts).array=v}p.prototype.run=function(){(this||Ts).fun.apply(null,(this||Ts).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}return t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(b){return[]},t.binding=function(b){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(b){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Du}var Du,lg,Ts,Rt,LE=lr(()=>{Oe(),Re(),Le(),Du={},lg=!1,Ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:zs,Rt=sR(),Rt.platform="browser",Rt.addListener,Rt.argv,Rt.binding,Rt.browser,Rt.chdir,Rt.cwd,Rt.emit,Rt.env,Rt.listeners,Rt.nextTick,Rt.off,Rt.on,Rt.once,Rt.prependListener,Rt.prependOnceListener,Rt.removeAllListeners,Rt.removeListener,Rt.title,Rt.umask,Rt.version,Rt.versions});function oR(){if(ug)return Uu;ug=!0;var t=Rt;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,a){for(var o="",l=0,u=-1,c=0,f,d=0;d<=i.length;++d){if(d<i.length)f=i.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(u===d-1||c===1))if(u!==d-1&&c===2){if(o.length<2||l!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var p=o.lastIndexOf("/");if(p!==o.length-1){p===-1?(o="",l=0):(o=o.slice(0,p),l=o.length-1-o.lastIndexOf("/")),u=d,c=0;continue}}else if(o.length===2||o.length===1){o="",l=0,u=d,c=0;continue}}a&&(o.length>0?o+="/..":o="..",l=2)}else o.length>0?o+="/"+i.slice(u+1,d):o=i.slice(u+1,d),l=d-u-1;u=d,c=0}else f===46&&c!==-1?++c:c=-1}return o}function n(i,a){var o=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+l:o+i+l:l}var s={resolve:function(){for(var i="",a=!1,o,l=arguments.length-1;l>=-1&&!a;l--){var u;l>=0?u=arguments[l]:(o===void 0&&(o=t.cwd()),u=o),e(u),u.length!==0&&(i=u+"/"+i,a=u.charCodeAt(0)===47)}return i=r(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(e(i),i.length===0)return".";var a=i.charCodeAt(0)===47,o=i.charCodeAt(i.length-1)===47;return i=r(i,!a),i.length===0&&!a&&(i="."),i.length>0&&o&&(i+="/"),a?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,a=0;a<arguments.length;++a){var o=arguments[a];e(o),o.length>0&&(i===void 0?i=o:i+="/"+o)}return i===void 0?".":s.normalize(i)},relative:function(i,a){if(e(i),e(a),i===a||(i=s.resolve(i),a=s.resolve(a),i===a))return"";for(var o=1;o<i.length&&i.charCodeAt(o)===47;++o);for(var l=i.length,u=l-o,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var f=a.length,d=f-c,p=u<d?u:d,g=-1,b=0;b<=p;++b){if(b===p){if(d>p){if(a.charCodeAt(c+b)===47)return a.slice(c+b+1);if(b===0)return a.slice(c+b)}else u>p&&(i.charCodeAt(o+b)===47?g=b:b===0&&(g=0));break}var v=i.charCodeAt(o+b),w=a.charCodeAt(c+b);if(v!==w)break;v===47&&(g=b)}var _="";for(b=o+g+1;b<=l;++b)(b===l||i.charCodeAt(b)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+a.slice(c+g):(c+=g,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var a=i.charCodeAt(0),o=a===47,l=-1,u=!0,c=i.length-1;c>=1;--c)if(a=i.charCodeAt(c),a===47){if(!u){l=c;break}}else u=!1;return l===-1?o?"/":".":o&&l===1?"//":i.slice(0,l)},basename:function(i,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(i);var o=0,l=-1,u=!0,c;if(a!==void 0&&a.length>0&&a.length<=i.length){if(a.length===i.length&&a===i)return"";var f=a.length-1,d=-1;for(c=i.length-1;c>=0;--c){var p=i.charCodeAt(c);if(p===47){if(!u){o=c+1;break}}else d===-1&&(u=!1,d=c+1),f>=0&&(p===a.charCodeAt(f)?--f===-1&&(l=c):(f=-1,l=d))}return o===l?l=d:l===-1&&(l=i.length),i.slice(o,l)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){o=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":i.slice(o,l)}},extname:function(i){e(i);for(var a=-1,o=0,l=-1,u=!0,c=0,f=i.length-1;f>=0;--f){var d=i.charCodeAt(f);if(d===47){if(!u){o=f+1;break}continue}l===-1&&(u=!1,l=f+1),d===46?a===-1?a=f:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||l===-1||c===0||c===1&&a===l-1&&a===o+1?"":i.slice(a,l)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return n("/",i)},parse:function(i){e(i);var a={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return a;var o=i.charCodeAt(0),l=o===47,u;l?(a.root="/",u=1):u=0;for(var c=-1,f=0,d=-1,p=!0,g=i.length-1,b=0;g>=u;--g){if(o=i.charCodeAt(g),o===47){if(!p){f=g+1;break}continue}d===-1&&(p=!1,d=g+1),o===46?c===-1?c=g:b!==1&&(b=1):c!==-1&&(b=-1)}return c===-1||d===-1||b===0||b===1&&c===d-1&&c===f+1?d!==-1&&(f===0&&l?a.base=a.name=i.slice(1,d):a.base=a.name=i.slice(f,d)):(f===0&&l?(a.name=i.slice(1,c),a.base=i.slice(1,d)):(a.name=i.slice(f,c),a.base=i.slice(f,d)),a.ext=i.slice(c,d)),f>0?a.dir=i.slice(0,f-1):l&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Uu=s,Uu}var Uu,ug,cg,aR=lr(()=>{Oe(),Re(),Le(),LE(),Uu={},ug=!1,cg=oR()}),RE={};to(RE,{URL:()=>JE,Url:()=>GE,default:()=>vt,fileURLToPath:()=>BE,format:()=>YE,parse:()=>QE,pathToFileURL:()=>$E,resolve:()=>KE,resolveObject:()=>XE});function en(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Ma(t,e,r){if(t&&pn.isObject(t)&&t instanceof en)return t;var n=new en;return n.parse(t,e,r),n}function lR(){if(fg)return Fu;fg=!0;var t=Dt;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,a){for(var o="",l=0,u=-1,c=0,f,d=0;d<=i.length;++d){if(d<i.length)f=i.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(u===d-1||c===1))if(u!==d-1&&c===2){if(o.length<2||l!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var p=o.lastIndexOf("/");if(p!==o.length-1){p===-1?(o="",l=0):(o=o.slice(0,p),l=o.length-1-o.lastIndexOf("/")),u=d,c=0;continue}}else if(o.length===2||o.length===1){o="",l=0,u=d,c=0;continue}}a&&(o.length>0?o+="/..":o="..",l=2)}else o.length>0?o+="/"+i.slice(u+1,d):o=i.slice(u+1,d),l=d-u-1;u=d,c=0}else f===46&&c!==-1?++c:c=-1}return o}function n(i,a){var o=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+l:o+i+l:l}var s={resolve:function(){for(var i="",a=!1,o,l=arguments.length-1;l>=-1&&!a;l--){var u;l>=0?u=arguments[l]:(o===void 0&&(o=t.cwd()),u=o),e(u),u.length!==0&&(i=u+"/"+i,a=u.charCodeAt(0)===47)}return i=r(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(e(i),i.length===0)return".";var a=i.charCodeAt(0)===47,o=i.charCodeAt(i.length-1)===47;return i=r(i,!a),i.length===0&&!a&&(i="."),i.length>0&&o&&(i+="/"),a?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,a=0;a<arguments.length;++a){var o=arguments[a];e(o),o.length>0&&(i===void 0?i=o:i+="/"+o)}return i===void 0?".":s.normalize(i)},relative:function(i,a){if(e(i),e(a),i===a||(i=s.resolve(i),a=s.resolve(a),i===a))return"";for(var o=1;o<i.length&&i.charCodeAt(o)===47;++o);for(var l=i.length,u=l-o,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var f=a.length,d=f-c,p=u<d?u:d,g=-1,b=0;b<=p;++b){if(b===p){if(d>p){if(a.charCodeAt(c+b)===47)return a.slice(c+b+1);if(b===0)return a.slice(c+b)}else u>p&&(i.charCodeAt(o+b)===47?g=b:b===0&&(g=0));break}var v=i.charCodeAt(o+b),w=a.charCodeAt(c+b);if(v!==w)break;v===47&&(g=b)}var _="";for(b=o+g+1;b<=l;++b)(b===l||i.charCodeAt(b)===47)&&(_.length===0?_+="..":_+="/..");return _.length>0?_+a.slice(c+g):(c+=g,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var a=i.charCodeAt(0),o=a===47,l=-1,u=!0,c=i.length-1;c>=1;--c)if(a=i.charCodeAt(c),a===47){if(!u){l=c;break}}else u=!1;return l===-1?o?"/":".":o&&l===1?"//":i.slice(0,l)},basename:function(i,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(i);var o=0,l=-1,u=!0,c;if(a!==void 0&&a.length>0&&a.length<=i.length){if(a.length===i.length&&a===i)return"";var f=a.length-1,d=-1;for(c=i.length-1;c>=0;--c){var p=i.charCodeAt(c);if(p===47){if(!u){o=c+1;break}}else d===-1&&(u=!1,d=c+1),f>=0&&(p===a.charCodeAt(f)?--f===-1&&(l=c):(f=-1,l=d))}return o===l?l=d:l===-1&&(l=i.length),i.slice(o,l)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){o=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":i.slice(o,l)}},extname:function(i){e(i);for(var a=-1,o=0,l=-1,u=!0,c=0,f=i.length-1;f>=0;--f){var d=i.charCodeAt(f);if(d===47){if(!u){o=f+1;break}continue}l===-1&&(u=!1,l=f+1),d===46?a===-1?a=f:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||l===-1||c===0||c===1&&a===l-1&&a===o+1?"":i.slice(a,l)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return n("/",i)},parse:function(i){e(i);var a={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return a;var o=i.charCodeAt(0),l=o===47,u;l?(a.root="/",u=1):u=0;for(var c=-1,f=0,d=-1,p=!0,g=i.length-1,b=0;g>=u;--g){if(o=i.charCodeAt(g),o===47){if(!p){f=g+1;break}continue}d===-1&&(p=!1,d=g+1),o===46?c===-1?c=g:b!==1&&(b=1):c!==-1&&(b=-1)}return c===-1||d===-1||b===0||b===1&&c===d-1&&c===f+1?d!==-1&&(f===0&&l?a.base=a.name=i.slice(1,d):a.base=a.name=i.slice(f,d)):(f===0&&l?(a.name=i.slice(1,c),a.base=i.slice(1,d)):(a.name=i.slice(f,c),a.base=i.slice(f,d)),a.ext=i.slice(c,d)),f>0?a.dir=i.slice(0,f-1):l&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Fu=s,Fu}function uR(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return yc?cR(t):fR(t)}function cR(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let s=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&s===102||r[n+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(VE,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,s=r[2];if(n<UE||n>FE||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function fR(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function dR(t){let e=dg.resolve(t),r=t.charCodeAt(t.length-1);(r===DE||yc&&r===NE)&&e[e.length-1]!==dg.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(jE,"%25")),!yc&&e.includes("\\")&&(e=e.replace(WE,"%5C")),e.includes(`
`)&&(e=e.replace(zE,"%0A")),e.includes("\r")&&(e=e.replace(HE,"%0D")),e.includes("	")&&(e=e.replace(qE,"%09")),n.pathname=e,n}function BE(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return wc?hR(t):pR(t)}function hR(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let s=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&s===102||r[n+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(nS,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,s=r[2];if(n<tS||n>rS||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function pR(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function $E(t){let e=cg.resolve(t),r=t.charCodeAt(t.length-1);(r===eS||wc&&r===ZE)&&e[e.length-1]!==cg.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(iS,"%25")),!wc&&e.includes("\\")&&(e=e.replace(sS,"%5C")),e.includes(`
`)&&(e=e.replace(oS,"%0A")),e.includes("\r")&&(e=e.replace(aS,"%0D")),e.includes("	")&&(e=e.replace(lS,"%09")),n.pathname=e,n}var vt,cw,pn,fw,dw,hw,pw,Jl,Qf,Jf,Zf,gw,mw,Zl,_s,eu,Fu,fg,dg,bw,NE,DE,UE,FE,yc,VE,jE,WE,zE,HE,qE,yw,GE,YE,KE,XE,QE,JE,ZE,eS,tS,rS,wc,nS,iS,sS,oS,aS,lS,gR=lr(()=>{Oe(),Re(),Le(),eR(),rR(),iR(),aR(),LE(),vt={},cw=Di,pn={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},vt.parse=Ma,vt.resolve=function(t,e){return Ma(t,!1,!0).resolve(e)},vt.resolveObject=function(t,e){return t?Ma(t,!1,!0).resolveObject(e):e},vt.format=function(t){return pn.isString(t)&&(t=Ma(t)),t instanceof en?t.format():en.prototype.format.call(t)},vt.Url=en,fw=/^([a-z0-9.+-]+:)/i,dw=/:[0-9]*$/,hw=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,pw=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Jl=["'"].concat(pw),Qf=["%","/","?",";","#"].concat(Jl),Jf=["/","?","#"],Zf=/^[+a-z0-9A-Z_-]{0,63}$/,gw=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,mw={javascript:!0,"javascript:":!0},Zl={javascript:!0,"javascript:":!0},_s={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},eu=On,en.prototype.parse=function(t,e,r){if(!pn.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),s=n!==-1&&n<t.indexOf("#")?"?":"#",i=t.split(s);i[0]=i[0].replace(/\\/g,"/");var a=t=i.join(s);if(a=a.trim(),!r&&t.split("#").length===1){var o=hw.exec(a);if(o)return this.path=a,this.href=a,this.pathname=o[1],o[2]?(this.search=o[2],this.query=e?eu.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=fw.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=a.substr(0,2)==="//";!c||l&&Zl[l]||(a=a.substr(2),this.slashes=!0)}if(!Zl[l]&&(c||l&&!_s[l])){for(var f,d,p=-1,g=0;g<Jf.length;g++)(b=a.indexOf(Jf[g]))!==-1&&(p===-1||b<p)&&(p=b);for((d=p===-1?a.lastIndexOf("@"):a.lastIndexOf("@",p))!==-1&&(f=a.slice(0,d),a=a.slice(d+1),this.auth=decodeURIComponent(f)),p=-1,g=0;g<Qf.length;g++){var b;(b=a.indexOf(Qf[g]))!==-1&&(p===-1||b<p)&&(p=b)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var w=this.hostname.split(/\./),_=(g=0,w.length);g<_;g++){var y=w[g];if(y&&!y.match(Zf)){for(var S="",T=0,A=y.length;T<A;T++)y.charCodeAt(T)>127?S+="x":S+=y[T];if(!S.match(Zf)){var C=w.slice(0,g),L=w.slice(g+1),j=y.match(gw);j&&(C.push(j[1]),L.unshift(j[2])),L.length&&(a="/"+L.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=cw.toASCII(this.hostname));var F=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+F,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!mw[u])for(g=0,_=Jl.length;g<_;g++){var I=Jl[g];if(a.indexOf(I)!==-1){var M=encodeURIComponent(I);M===I&&(M=escape(I)),a=a.split(I).join(M)}}var B=a.indexOf("#");B!==-1&&(this.hash=a.substr(B),a=a.slice(0,B));var J=a.indexOf("?");if(J!==-1?(this.search=a.substr(J),this.query=a.substr(J+1),e&&(this.query=eu.parse(this.query)),a=a.slice(0,J)):e&&(this.search="",this.query={}),a&&(this.pathname=a),_s[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var ie=this.search||"";this.path=F+ie}return this.href=this.format(),this},en.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,i="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&pn.isObject(this.query)&&Object.keys(this.query).length&&(i=eu.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||_s[e])&&s!==!1?(s="//"+(s||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):s||(s=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),e+s+(r=r.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(a=a.replace("#","%23"))+n},en.prototype.resolve=function(t){return this.resolveObject(Ma(t,!1,!0)).format()},en.prototype.resolveObject=function(t){if(pn.isString(t)){var e=new en;e.parse(t,!1,!0),t=e}for(var r=new en,n=Object.keys(this),s=0;s<n.length;s++){var i=n[s];r[i]=this[i]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),o=0;o<a.length;o++){var l=a[o];l!=="protocol"&&(r[l]=t[l])}return _s[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!_s[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||Zl[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),d[0]!==""&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",g=r.search||"";r.path=p+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",w=v||b||r.host&&t.pathname,_=w,y=r.pathname&&r.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!_s[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(d[0]===""?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(d[0]===""||y[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,y=d;else if(d.length)y||(y=[]),y.pop(),y=y.concat(d),r.search=t.search,r.query=t.query;else if(!pn.isNullOrUndefined(t.search))return S&&(r.hostname=r.host=y.shift(),(j=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=j.shift(),r.host=r.hostname=j.shift())),r.search=t.search,r.query=t.query,pn.isNull(r.pathname)&&pn.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=y.slice(-1)[0],A=(r.host||t.host||y.length>1)&&(T==="."||T==="..")||T==="",C=0,L=y.length;L>=0;L--)(T=y[L])==="."?y.splice(L,1):T===".."?(y.splice(L,1),C++):C&&(y.splice(L,1),C--);if(!w&&!_)for(;C--;C)y.unshift("..");!w||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),A&&y.join("/").substr(-1)!=="/"&&y.push("");var j,F=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=F?"":y.length?y.shift():"",(j=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=j.shift(),r.host=r.hostname=j.shift())),(w=w||r.host&&y.length)&&!F&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),pn.isNull(r.pathname)&&pn.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},en.prototype.parseHost=function(){var t=this.host,e=dw.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},vt.Url,vt.format,vt.resolve,vt.resolveObject,Fu={},fg=!1,dg=lR(),bw=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,vt.URL=typeof URL<"u"?URL:null,vt.pathToFileURL=dR,vt.fileURLToPath=uR,vt.Url,vt.format,vt.resolve,vt.resolveObject,vt.URL,NE=92,DE=47,UE=97,FE=122,yc=bw==="win32",VE=/\//g,jE=/%/g,WE=/\\/g,zE=/\n/g,HE=/\r/g,qE=/\t/g,yw=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,vt.URL=typeof URL<"u"?URL:null,vt.pathToFileURL=$E,vt.fileURLToPath=BE,GE=vt.Url,YE=vt.format,KE=vt.resolve,XE=vt.resolveObject,QE=vt.parse,JE=vt.URL,ZE=92,eS=47,tS=97,rS=122,wc=yw==="win32",nS=/\//g,iS=/%/g,sS=/\\/g,oS=/\n/g,aS=/\r/g,lS=/\t/g}),mR=De((t,e)=>{Oe(),Re(),Le(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Cm=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var e=io(),r=(cr(),At(ur));function n(i,a){let o=new Array(i.length);for(let l=0;l<i.length;l++)typeof i[l].chunk=="string"?o[l]=r.Buffer.from(i[l].chunk,"utf8"):o[l]=i[l].chunk;this._write(r.Buffer.concat(o),"binary",a)}t.writev=n;var s=class extends e.Duplex{constructor(i,a,o){super({objectMode:!0}),this.proxy=a,this.socket=o,this.writeQueue=[],i.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(i){this.proxy.read(i)}_write(i,a,o){this.isSocketOpen?this.writeToProxy(i,a,o):this.writeQueue.push({chunk:i,encoding:a,cb:o})}_final(i){this.writeQueue=[],this.proxy.end(i)}_destroy(i,a){this.writeQueue=[],this.proxy.destroy(),a(i)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(i,a,o){this.proxy.write(i,a)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:i,encoding:a,cb:o}=this.writeQueue.shift();this.writeToProxy(i,a,o)}}};t.BufferedDuplex=s}),tu=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var r=(cr(),At(ur)),n=e(mR()),s=e(xi()),i=io(),a=e(ef()),o=Cm(),l=(0,s.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(w,_){let y=`${w.protocol}://${w.hostname}:${w.port}${w.path}`;return typeof w.transformWsUrl=="function"&&(y=w.transformWsUrl(y,w,_)),y}function f(w){let _=w;return w.port||(w.protocol==="wss"?_.port=443:_.port=80),w.path||(_.path="/"),w.wsOptions||(_.wsOptions={}),!a.default&&!w.forceNativeWebSocket&&w.protocol==="wss"&&u.forEach(y=>{Object.prototype.hasOwnProperty.call(w,y)&&!Object.prototype.hasOwnProperty.call(w.wsOptions,y)&&(_.wsOptions[y]=w[y])}),_}function d(w){let _=f(w);if(_.hostname||(_.hostname=_.host),!_.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let y=new URL(document.URL);_.hostname=y.hostname,_.port||(_.port=Number(y.port))}return _.objectMode===void 0&&(_.objectMode=!(_.binary===!0||_.binary===void 0)),_}function p(w,_,y){l("createWebSocket"),l(`protocol: ${y.protocolId} ${y.protocolVersion}`);let S=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${_} and protocol: ${S}`);let T;return y.createWebsocket?T=y.createWebsocket(_,[S],y):T=new n.default(_,[S],y.wsOptions),T}function g(w,_){let y=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt",S=c(_,w),T;return _.createWebsocket?T=_.createWebsocket(S,[y],_):T=new WebSocket(S,[y]),T.binaryType="arraybuffer",T}var b=(w,_)=>{l("streamBuilder");let y=f(_);y.hostname=y.hostname||y.host||"localhost";let S=c(y,w),T=p(w,S,y),A=n.default.createWebSocketStream(T,y.wsOptions);return A.url=S,T.on("close",()=>{A.destroy()}),A};t.streamBuilder=b;var v=(w,_)=>{l("browserStreamBuilder");let y,S=d(_).browserBufferSize||1024*512,T=_.browserBufferTimeout||1e3,A=!_.objectMode,C=g(w,_),L=F(_,J,ie);_.objectMode||(L._writev=o.writev.bind(L)),L.on("close",()=>{C.close()});let j=typeof C.addEventListener<"u";C.readyState===C.OPEN?(y=L,y.socket=C):(y=new o.BufferedDuplex(_,L,C),j?C.addEventListener("open",$):C.onopen=$),j?(C.addEventListener("close",I),C.addEventListener("error",M),C.addEventListener("message",B)):(C.onclose=I,C.onerror=M,C.onmessage=B);function F(re,N,fe){let G=new i.Transform({objectMode:re.objectMode});return G._write=N,G._flush=fe,G}function $(){l("WebSocket onOpen"),y instanceof o.BufferedDuplex&&y.socketReady()}function I(re){l("WebSocket onClose",re),y.end(),y.destroy()}function M(re){l("WebSocket onError",re);let N=new Error("WebSocket error");N.event=re,y.destroy(N)}async function B(re){let{data:N}=re;N instanceof ArrayBuffer?N=r.Buffer.from(N):N instanceof Blob?N=r.Buffer.from(await new Response(N).arrayBuffer()):N=r.Buffer.from(N,"utf8"),L&&!L.destroyed&&L.push(N)}function J(re,N,fe){if(C.bufferedAmount>S){setTimeout(J,T,re,N,fe);return}A&&typeof re=="string"&&(re=r.Buffer.from(re,"utf8"));try{C.send(re)}catch(G){return fe(G)}fe()}function ie(re){C.close(),re()}return y};t.browserStreamBuilder=v}),Im={};to(Im,{Server:()=>Bt,Socket:()=>Bt,Stream:()=>Bt,_createServerHandle:()=>Bt,_normalizeArgs:()=>Bt,_setSimultaneousAccepts:()=>Bt,connect:()=>Bt,createConnection:()=>Bt,createServer:()=>Bt,default:()=>uS,isIP:()=>Bt,isIPv4:()=>Bt,isIPv6:()=>Bt});function Bt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var uS,cS=lr(()=>{Oe(),Re(),Le(),uS={_createServerHandle:Bt,_normalizeArgs:Bt,_setSimultaneousAccepts:Bt,connect:Bt,createConnection:Bt,createServer:Bt,isIP:Bt,isIPv4:Bt,isIPv6:Bt,Server:Bt,Socket:Bt,Stream:Bt}}),ww=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var r=e((cS(),At(Im))),n=e(xi()),s=(0,n.default)("mqttjs:tcp"),i=(a,o)=>{o.port=o.port||1883,o.hostname=o.hostname||o.host||"localhost";let{port:l,path:u}=o,c=o.hostname;return s("port %d and host %s",l,c),r.default.createConnection({port:l,host:c,path:u})};t.default=i}),fS={};to(fS,{default:()=>dS});var dS,bR=lr(()=>{Oe(),Re(),Le(),dS={}}),vw=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var r=e((bR(),At(fS))),n=e((cS(),At(Im))),s=e(xi()),i=(0,s.default)("mqttjs:tls"),a=(o,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",n.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,i("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let u=r.default.connect(l);u.on("secureConnect",()=>{l.rejectUnauthorized&&!u.authorized?u.emit("error",new Error("TLS not authorized")):u.removeListener("error",c)});function c(f){l.rejectUnauthorized&&o.emit("error",f),u.end()}return u.on("error",c),u};t.default=a}),_w=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=(cr(),At(ur)),r=io(),n=Cm(),s,i,a;function o(){let d=new r.Transform;return d._write=(p,g,b)=>{s.send({data:p.buffer,success(){b()},fail(v){b(new Error(v))}})},d._flush=p=>{s.close({success(){p()}})},d}function l(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function u(d,p){let g=d.protocol==="wxs"?"wss":"ws",b=`${g}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(b=`${g}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(b=d.transformWsUrl(b,d,p)),b}function c(){s.onOpen(()=>{a.socketReady()}),s.onMessage(d=>{let{data:p}=d;p instanceof ArrayBuffer?p=e.Buffer.from(p):p=e.Buffer.from(p,"utf8"),i.push(p)}),s.onClose(()=>{a.emit("close"),a.end(),a.destroy()}),s.onError(d=>{let p=new Error(d.errMsg);a.destroy(p)})}var f=(d,p)=>{if(p.hostname=p.hostname||p.host,!p.hostname)throw new Error("Could not determine host. Specify host manually.");let g=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt";l(p);let b=u(p,d);s=wx.connectSocket({url:b,protocols:[g]}),i=o(),a=new n.BufferedDuplex(p,i,s),a._destroy=(w,_)=>{s.close({success(){_&&_(w)}})};let v=a.destroy;return a.destroy=(w,_)=>(a.destroy=v,setTimeout(()=>{s.close({fail(){a._destroy(w,_)}})},0),a),c(),a};t.default=f}),Ew=De(t=>{Oe(),Re(),Le(),Object.defineProperty(t,"__esModule",{value:!0});var e=(cr(),At(ur)),r=io(),n=Cm(),s,i,a,o=!1;function l(){let p=new r.Transform;return p._write=(g,b,v)=>{s.sendSocketMessage({data:g.buffer,success(){v()},fail(){v(new Error)}})},p._flush=g=>{s.closeSocket({success(){g()}})},p}function u(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function c(p,g){let b=p.protocol==="alis"?"wss":"ws",v=`${b}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(v=`${b}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(v=p.transformWsUrl(v,p,g)),v}function f(){o||(o=!0,s.onSocketOpen(()=>{a.socketReady()}),s.onSocketMessage(p=>{if(typeof p.data=="string"){let g=e.Buffer.from(p.data,"base64");i.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{let b=g.result;b instanceof ArrayBuffer?b=e.Buffer.from(b):b=e.Buffer.from(b,"utf8"),i.push(b)}),g.readAsArrayBuffer(p.data)}}),s.onSocketClose(()=>{a.end(),a.destroy()}),s.onSocketError(p=>{a.destroy(p)}))}var d=(p,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let b=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";u(g);let v=c(g,p);return s=g.my,s.connectSocket({url:v,protocols:b}),i=l(),a=new n.BufferedDuplex(g,i,s),f(),a};t.default=d}),yR=De(t=>{Oe(),Re(),Le();var e=t&&t.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var r=e(xi()),n=e((gR(),At(RE))),s=e(ig()),i=e(ef());typeof(bt==null?void 0:bt.nextTick)!="function"&&(bt.nextTick=setImmediate);var a=(0,r.default)("mqttjs"),o=null;function l(f){let d;f.auth&&(d=f.auth.match(/^(.+):(.+)$/),d?(f.username=d[1],f.password=d[2]):f.username=f.auth)}function u(f,d){var p,g,b,v;if(a("connecting to an MQTT broker..."),typeof f=="object"&&!d&&(d=f,f=""),d=d||{},f&&typeof f=="string"){let y=n.default.parse(f,!0),S={};if(y.port!=null&&(S.port=Number(y.port)),S.host=y.hostname,S.query=y.query,S.auth=y.auth,S.protocol=y.protocol,S.path=y.path,S.protocol=(p=S.protocol)===null||p===void 0?void 0:p.replace(/:$/,""),d=Object.assign(Object.assign({},S),d),!d.protocol)throw new Error("Missing protocol")}if(d.unixSocket=d.unixSocket||((g=d.protocol)===null||g===void 0?void 0:g.includes("+unix")),d.unixSocket?d.protocol=d.protocol.replace("+unix",""):!(!((b=d.protocol)===null||b===void 0)&&b.startsWith("ws"))&&!(!((v=d.protocol)===null||v===void 0)&&v.startsWith("wx"))&&delete d.path,l(d),d.query&&typeof d.query.clientId=="string"&&(d.clientId=d.query.clientId),d.cert&&d.key)if(d.protocol){if(["mqtts","wss","wxs","alis"].indexOf(d.protocol)===-1)switch(d.protocol){case"mqtt":d.protocol="mqtts";break;case"ws":d.protocol="wss";break;case"wx":d.protocol="wxs";break;case"ali":d.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${d.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(o||(o={},!i.default&&!d.forceNativeWebSocket?(o.ws=tu().streamBuilder,o.wss=tu().streamBuilder,o.mqtt=ww().default,o.tcp=ww().default,o.ssl=vw().default,o.tls=o.ssl,o.mqtts=vw().default):(o.ws=tu().browserStreamBuilder,o.wss=tu().browserStreamBuilder,o.wx=_w().default,o.wxs=_w().default,o.ali=Ew().default,o.alis=Ew().default)),!o[d.protocol]){let y=["mqtts","wss"].indexOf(d.protocol)!==-1;d.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((S,T)=>y&&T%2===0?!1:typeof o[S]=="function")[0]}if(d.clean===!1&&!d.clientId)throw new Error("Missing clientId for unclean clients");d.protocol&&(d.defaultProtocol=d.protocol);function w(y){return d.servers&&((!y._reconnectCount||y._reconnectCount===d.servers.length)&&(y._reconnectCount=0),d.host=d.servers[y._reconnectCount].host,d.port=d.servers[y._reconnectCount].port,d.protocol=d.servers[y._reconnectCount].protocol?d.servers[y._reconnectCount].protocol:d.defaultProtocol,d.hostname=d.host,y._reconnectCount++),a("calling streambuilder for",d.protocol),o[d.protocol](y,d)}let _=new s.default(w,d);return _.on("error",()=>{}),_}function c(f,d,p=!0){return new Promise((g,b)=>{let v=u(f,d),w={connect:y=>{_(),g(v)},end:()=>{_(),g(v)},error:y=>{_(),v.end(),b(y)}};p===!1&&(w.close=()=>{w.error(new Error("Couldn't connect to server"))});function _(){Object.keys(w).forEach(y=>{v.off(y,w[y])})}Object.keys(w).forEach(y=>{v.on(y,w[y])})})}t.connectAsync=c,t.default=u}),Sw=De(t=>{Oe(),Re(),Le();var e=t&&t.__createBinding||(Object.create?function(p,g,b,v){v===void 0&&(v=b);var w=Object.getOwnPropertyDescriptor(g,b);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(p,v,w)}:function(p,g,b,v){v===void 0&&(v=b),p[v]=g[b]}),r=t&&t.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),n=t&&t.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var b in p)b!=="default"&&Object.prototype.hasOwnProperty.call(p,b)&&e(g,p,b);return r(g,p),g},s=t&&t.__exportStar||function(p,g){for(var b in p)b!=="default"&&!Object.prototype.hasOwnProperty.call(g,b)&&e(g,p,b)},i=t&&t.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var a=i(ig());t.MqttClient=a.default;var o=i(fE());t.DefaultMessageIdProvider=o.default;var l=i(ZL());t.UniqueMessageIdProvider=l.default;var u=i(dE());t.Store=u.default;var c=n(yR());t.connect=c.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var f=i(IE());t.KeepaliveManager=f.default,t.Client=a.default,s(ig(),t),s(la(),t);var d=Zc();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return d.ReasonCodes}})}),wR=De(t=>{Oe(),Re(),Le();var e=t&&t.__createBinding||(Object.create?function(a,o,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(o,l);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(a,u,c)}:function(a,o,l,u){u===void 0&&(u=l),a[u]=o[l]}),r=t&&t.__setModuleDefault||(Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o}),n=t&&t.__importStar||function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var l in a)l!=="default"&&Object.prototype.hasOwnProperty.call(a,l)&&e(o,a,l);return r(o,a),o},s=t&&t.__exportStar||function(a,o){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&e(o,a,l)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(Sw());t.default=i,s(Sw(),t)});const vR=wR();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var ka={},Pa={exports:{}},ed={exports:{}},td={exports:{}},rd={},Oa={},xw;function _R(){if(xw)return Oa;xw=1,Oa.byteLength=o,Oa.toByteArray=u,Oa.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function a(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=p.indexOf("=");b===-1&&(b=g);var v=b===g?0:4-b%4;return[b,v]}function o(p){var g=a(p),b=g[0],v=g[1];return(b+v)*3/4-v}function l(p,g,b){return(g+b)*3/4-b}function u(p){var g,b=a(p),v=b[0],w=b[1],_=new r(l(p,v,w)),y=0,S=w>0?v-4:v,T;for(T=0;T<S;T+=4)g=e[p.charCodeAt(T)]<<18|e[p.charCodeAt(T+1)]<<12|e[p.charCodeAt(T+2)]<<6|e[p.charCodeAt(T+3)],_[y++]=g>>16&255,_[y++]=g>>8&255,_[y++]=g&255;return w===2&&(g=e[p.charCodeAt(T)]<<2|e[p.charCodeAt(T+1)]>>4,_[y++]=g&255),w===1&&(g=e[p.charCodeAt(T)]<<10|e[p.charCodeAt(T+1)]<<4|e[p.charCodeAt(T+2)]>>2,_[y++]=g>>8&255,_[y++]=g&255),_}function c(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}function f(p,g,b){for(var v,w=[],_=g;_<b;_+=3)v=(p[_]<<16&16711680)+(p[_+1]<<8&65280)+(p[_+2]&255),w.push(c(v));return w.join("")}function d(p){for(var g,b=p.length,v=b%3,w=[],_=16383,y=0,S=b-v;y<S;y+=_)w.push(f(p,y,y+_>S?S:y+_));return v===1?(g=p[b-1],w.push(t[g>>2]+t[g<<4&63]+"==")):v===2&&(g=(p[b-2]<<8)+p[b-1],w.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),w.join("")}return Oa}var ru={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tw;function ER(){return Tw||(Tw=1,ru.read=function(t,e,r,n,s){var i,a,o=s*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?s-1:0,d=r?-1:1,p=t[e+f];for(f+=d,i=p&(1<<-c)-1,p>>=-c,c+=o;c>0;i=i*256+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=a*256+t[e+f],f+=d,c-=8);if(i===0)i=1-u;else{if(i===l)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,n),i=i-u}return(p?-1:1)*a*Math.pow(2,i-n)},ru.write=function(t,e,r,n,s,i){var a,o,l,u=i*8-s-1,c=(1<<u)-1,f=c>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=d/l:e+=d*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(e*l-1)*Math.pow(2,s),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,s),a=0));s>=8;t[r+p]=o&255,p+=g,o/=256,s-=8);for(a=a<<s|o,u+=s;u>0;t[r+p]=a&255,p+=g,a/=256,u-=8);t[r+p-g]|=b*128}),ru}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Aw;function Qr(){return Aw||(Aw=1,function(t){const e=_R(),r=ER(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const m=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(m,h),m.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(m){if(m>s)throw new RangeError('The value "'+m+'" is invalid for option "size"');const h=new Uint8Array(m);return Object.setPrototypeOf(h,o.prototype),h}function o(m,h,E){if(typeof m=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(m)}return l(m,h,E)}o.poolSize=8192;function l(m,h,E){if(typeof m=="string")return d(m,h);if(ArrayBuffer.isView(m))return g(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(Q(m,ArrayBuffer)||m&&Q(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(m,SharedArrayBuffer)||m&&Q(m.buffer,SharedArrayBuffer)))return b(m,h,E);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=m.valueOf&&m.valueOf();if(O!=null&&O!==m)return o.from(O,h,E);const te=v(m);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return o.from(m[Symbol.toPrimitive]("string"),h,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o.from=function(m,h,E){return l(m,h,E)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function c(m,h,E){return u(m),m<=0?a(m):h!==void 0?typeof E=="string"?a(m).fill(h,E):a(m).fill(h):a(m)}o.alloc=function(m,h,E){return c(m,h,E)};function f(m){return u(m),a(m<0?0:w(m)|0)}o.allocUnsafe=function(m){return f(m)},o.allocUnsafeSlow=function(m){return f(m)};function d(m,h){if((typeof h!="string"||h==="")&&(h="utf8"),!o.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const E=y(m,h)|0;let O=a(E);const te=O.write(m,h);return te!==E&&(O=O.slice(0,te)),O}function p(m){const h=m.length<0?0:w(m.length)|0,E=a(h);for(let O=0;O<h;O+=1)E[O]=m[O]&255;return E}function g(m){if(Q(m,Uint8Array)){const h=new Uint8Array(m);return b(h.buffer,h.byteOffset,h.byteLength)}return p(m)}function b(m,h,E){if(h<0||m.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<h+(E||0))throw new RangeError('"length" is outside of buffer bounds');let O;return h===void 0&&E===void 0?O=new Uint8Array(m):E===void 0?O=new Uint8Array(m,h):O=new Uint8Array(m,h,E),Object.setPrototypeOf(O,o.prototype),O}function v(m){if(o.isBuffer(m)){const h=w(m.length)|0,E=a(h);return E.length===0||m.copy(E,0,0,h),E}if(m.length!==void 0)return typeof m.length!="number"||oe(m.length)?a(0):p(m);if(m.type==="Buffer"&&Array.isArray(m.data))return p(m.data)}function w(m){if(m>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return m|0}function _(m){return+m!=m&&(m=0),o.alloc(+m)}o.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==o.prototype},o.compare=function(h,E){if(Q(h,Uint8Array)&&(h=o.from(h,h.offset,h.byteLength)),Q(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),!o.isBuffer(h)||!o.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===E)return 0;let O=h.length,te=E.length;for(let he=0,Ce=Math.min(O,te);he<Ce;++he)if(h[he]!==E[he]){O=h[he],te=E[he];break}return O<te?-1:te<O?1:0},o.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(h,E){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return o.alloc(0);let O;if(E===void 0)for(E=0,O=0;O<h.length;++O)E+=h[O].length;const te=o.allocUnsafe(E);let he=0;for(O=0;O<h.length;++O){let Ce=h[O];if(Q(Ce,Uint8Array))he+Ce.length>te.length?(o.isBuffer(Ce)||(Ce=o.from(Ce)),Ce.copy(te,he)):Uint8Array.prototype.set.call(te,Ce,he);else if(o.isBuffer(Ce))Ce.copy(te,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=Ce.length}return te};function y(m,h){if(o.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||Q(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const E=m.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&E===0)return 0;let te=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return q(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Y(m).length;default:if(te)return O?-1:q(m).length;h=(""+h).toLowerCase(),te=!0}}o.byteLength=y;function S(m,h,E){let O=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,h>>>=0,E<=h))return"";for(m||(m="utf8");;)switch(m){case"hex":return fe(this,h,E);case"utf8":case"utf-8":return B(this,h,E);case"ascii":return re(this,h,E);case"latin1":case"binary":return N(this,h,E);case"base64":return M(this,h,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,h,E);default:if(O)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),O=!0}}o.prototype._isBuffer=!0;function T(m,h,E){const O=m[h];m[h]=m[E],m[E]=O}o.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<h;E+=2)T(this,E,E+1);return this},o.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<h;E+=4)T(this,E,E+3),T(this,E+1,E+2);return this},o.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<h;E+=8)T(this,E,E+7),T(this,E+1,E+6),T(this,E+2,E+5),T(this,E+3,E+4);return this},o.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?B(this,0,h):S.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(h){if(!o.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:o.compare(this,h)===0},o.prototype.inspect=function(){let h="";const E=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(h+=" ... "),"<Buffer "+h+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(h,E,O,te,he){if(Q(h,Uint8Array)&&(h=o.from(h,h.offset,h.byteLength)),!o.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(E===void 0&&(E=0),O===void 0&&(O=h?h.length:0),te===void 0&&(te=0),he===void 0&&(he=this.length),E<0||O>h.length||te<0||he>this.length)throw new RangeError("out of range index");if(te>=he&&E>=O)return 0;if(te>=he)return-1;if(E>=O)return 1;if(E>>>=0,O>>>=0,te>>>=0,he>>>=0,this===h)return 0;let Ce=he-te,Fe=O-E;const ze=Math.min(Ce,Fe),Ue=this.slice(te,he),qe=h.slice(E,O);for(let He=0;He<ze;++He)if(Ue[He]!==qe[He]){Ce=Ue[He],Fe=qe[He];break}return Ce<Fe?-1:Fe<Ce?1:0};function A(m,h,E,O,te){if(m.length===0)return-1;if(typeof E=="string"?(O=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,oe(E)&&(E=te?0:m.length-1),E<0&&(E=m.length+E),E>=m.length){if(te)return-1;E=m.length-1}else if(E<0)if(te)E=0;else return-1;if(typeof h=="string"&&(h=o.from(h,O)),o.isBuffer(h))return h.length===0?-1:C(m,h,E,O,te);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(m,h,E):Uint8Array.prototype.lastIndexOf.call(m,h,E):C(m,[h],E,O,te);throw new TypeError("val must be string, number or Buffer")}function C(m,h,E,O,te){let he=1,Ce=m.length,Fe=h.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(m.length<2||h.length<2)return-1;he=2,Ce/=2,Fe/=2,E/=2}function ze(qe,He){return he===1?qe[He]:qe.readUInt16BE(He*he)}let Ue;if(te){let qe=-1;for(Ue=E;Ue<Ce;Ue++)if(ze(m,Ue)===ze(h,qe===-1?0:Ue-qe)){if(qe===-1&&(qe=Ue),Ue-qe+1===Fe)return qe*he}else qe!==-1&&(Ue-=Ue-qe),qe=-1}else for(E+Fe>Ce&&(E=Ce-Fe),Ue=E;Ue>=0;Ue--){let qe=!0;for(let He=0;He<Fe;He++)if(ze(m,Ue+He)!==ze(h,He)){qe=!1;break}if(qe)return Ue}return-1}o.prototype.includes=function(h,E,O){return this.indexOf(h,E,O)!==-1},o.prototype.indexOf=function(h,E,O){return A(this,h,E,O,!0)},o.prototype.lastIndexOf=function(h,E,O){return A(this,h,E,O,!1)};function L(m,h,E,O){E=Number(E)||0;const te=m.length-E;O?(O=Number(O),O>te&&(O=te)):O=te;const he=h.length;O>he/2&&(O=he/2);let Ce;for(Ce=0;Ce<O;++Ce){const Fe=parseInt(h.substr(Ce*2,2),16);if(oe(Fe))return Ce;m[E+Ce]=Fe}return Ce}function j(m,h,E,O){return se(q(h,m.length-E),m,E,O)}function F(m,h,E,O){return se(ue(h),m,E,O)}function $(m,h,E,O){return se(Y(h),m,E,O)}function I(m,h,E,O){return se(Z(h,m.length-E),m,E,O)}o.prototype.write=function(h,E,O,te){if(E===void 0)te="utf8",O=this.length,E=0;else if(O===void 0&&typeof E=="string")te=E,O=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(O)?(O=O>>>0,te===void 0&&(te="utf8")):(te=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const he=this.length-E;if((O===void 0||O>he)&&(O=he),h.length>0&&(O<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let Ce=!1;for(;;)switch(te){case"hex":return L(this,h,E,O);case"utf8":case"utf-8":return j(this,h,E,O);case"ascii":case"latin1":case"binary":return F(this,h,E,O);case"base64":return $(this,h,E,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,h,E,O);default:if(Ce)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),Ce=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(m,h,E){return h===0&&E===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(h,E))}function B(m,h,E){E=Math.min(m.length,E);const O=[];let te=h;for(;te<E;){const he=m[te];let Ce=null,Fe=he>239?4:he>223?3:he>191?2:1;if(te+Fe<=E){let ze,Ue,qe,He;switch(Fe){case 1:he<128&&(Ce=he);break;case 2:ze=m[te+1],(ze&192)===128&&(He=(he&31)<<6|ze&63,He>127&&(Ce=He));break;case 3:ze=m[te+1],Ue=m[te+2],(ze&192)===128&&(Ue&192)===128&&(He=(he&15)<<12|(ze&63)<<6|Ue&63,He>2047&&(He<55296||He>57343)&&(Ce=He));break;case 4:ze=m[te+1],Ue=m[te+2],qe=m[te+3],(ze&192)===128&&(Ue&192)===128&&(qe&192)===128&&(He=(he&15)<<18|(ze&63)<<12|(Ue&63)<<6|qe&63,He>65535&&He<1114112&&(Ce=He))}}Ce===null?(Ce=65533,Fe=1):Ce>65535&&(Ce-=65536,O.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),O.push(Ce),te+=Fe}return ie(O)}const J=4096;function ie(m){const h=m.length;if(h<=J)return String.fromCharCode.apply(String,m);let E="",O=0;for(;O<h;)E+=String.fromCharCode.apply(String,m.slice(O,O+=J));return E}function re(m,h,E){let O="";E=Math.min(m.length,E);for(let te=h;te<E;++te)O+=String.fromCharCode(m[te]&127);return O}function N(m,h,E){let O="";E=Math.min(m.length,E);for(let te=h;te<E;++te)O+=String.fromCharCode(m[te]);return O}function fe(m,h,E){const O=m.length;(!h||h<0)&&(h=0),(!E||E<0||E>O)&&(E=O);let te="";for(let he=h;he<E;++he)te+=me[m[he]];return te}function G(m,h,E){const O=m.slice(h,E);let te="";for(let he=0;he<O.length-1;he+=2)te+=String.fromCharCode(O[he]+O[he+1]*256);return te}o.prototype.slice=function(h,E){const O=this.length;h=~~h,E=E===void 0?O:~~E,h<0?(h+=O,h<0&&(h=0)):h>O&&(h=O),E<0?(E+=O,E<0&&(E=0)):E>O&&(E=O),E<h&&(E=h);const te=this.subarray(h,E);return Object.setPrototypeOf(te,o.prototype),te};function pe(m,h,E){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+h>E)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(h,E,O){h=h>>>0,E=E>>>0,O||pe(h,E,this.length);let te=this[h],he=1,Ce=0;for(;++Ce<E&&(he*=256);)te+=this[h+Ce]*he;return te},o.prototype.readUintBE=o.prototype.readUIntBE=function(h,E,O){h=h>>>0,E=E>>>0,O||pe(h,E,this.length);let te=this[h+--E],he=1;for(;E>0&&(he*=256);)te+=this[h+--E]*he;return te},o.prototype.readUint8=o.prototype.readUInt8=function(h,E){return h=h>>>0,E||pe(h,1,this.length),this[h]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(h,E){return h=h>>>0,E||pe(h,2,this.length),this[h]|this[h+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(h,E){return h=h>>>0,E||pe(h,2,this.length),this[h]<<8|this[h+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(h,E){return h=h>>>0,E||pe(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(h,E){return h=h>>>0,E||pe(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},o.prototype.readBigUInt64LE=Te(function(h){h=h>>>0,P(h,"offset");const E=this[h],O=this[h+7];(E===void 0||O===void 0)&&V(h,this.length-8);const te=E+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,he=this[++h]+this[++h]*2**8+this[++h]*2**16+O*2**24;return BigInt(te)+(BigInt(he)<<BigInt(32))}),o.prototype.readBigUInt64BE=Te(function(h){h=h>>>0,P(h,"offset");const E=this[h],O=this[h+7];(E===void 0||O===void 0)&&V(h,this.length-8);const te=E*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],he=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+O;return(BigInt(te)<<BigInt(32))+BigInt(he)}),o.prototype.readIntLE=function(h,E,O){h=h>>>0,E=E>>>0,O||pe(h,E,this.length);let te=this[h],he=1,Ce=0;for(;++Ce<E&&(he*=256);)te+=this[h+Ce]*he;return he*=128,te>=he&&(te-=Math.pow(2,8*E)),te},o.prototype.readIntBE=function(h,E,O){h=h>>>0,E=E>>>0,O||pe(h,E,this.length);let te=E,he=1,Ce=this[h+--te];for(;te>0&&(he*=256);)Ce+=this[h+--te]*he;return he*=128,Ce>=he&&(Ce-=Math.pow(2,8*E)),Ce},o.prototype.readInt8=function(h,E){return h=h>>>0,E||pe(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},o.prototype.readInt16LE=function(h,E){h=h>>>0,E||pe(h,2,this.length);const O=this[h]|this[h+1]<<8;return O&32768?O|4294901760:O},o.prototype.readInt16BE=function(h,E){h=h>>>0,E||pe(h,2,this.length);const O=this[h+1]|this[h]<<8;return O&32768?O|4294901760:O},o.prototype.readInt32LE=function(h,E){return h=h>>>0,E||pe(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},o.prototype.readInt32BE=function(h,E){return h=h>>>0,E||pe(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},o.prototype.readBigInt64LE=Te(function(h){h=h>>>0,P(h,"offset");const E=this[h],O=this[h+7];(E===void 0||O===void 0)&&V(h,this.length-8);const te=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(O<<24);return(BigInt(te)<<BigInt(32))+BigInt(E+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),o.prototype.readBigInt64BE=Te(function(h){h=h>>>0,P(h,"offset");const E=this[h],O=this[h+7];(E===void 0||O===void 0)&&V(h,this.length-8);const te=(E<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(te)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+O)}),o.prototype.readFloatLE=function(h,E){return h=h>>>0,E||pe(h,4,this.length),r.read(this,h,!0,23,4)},o.prototype.readFloatBE=function(h,E){return h=h>>>0,E||pe(h,4,this.length),r.read(this,h,!1,23,4)},o.prototype.readDoubleLE=function(h,E){return h=h>>>0,E||pe(h,8,this.length),r.read(this,h,!0,52,8)},o.prototype.readDoubleBE=function(h,E){return h=h>>>0,E||pe(h,8,this.length),r.read(this,h,!1,52,8)};function U(m,h,E,O,te,he){if(!o.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>te||h<he)throw new RangeError('"value" argument is out of bounds');if(E+O>m.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(h,E,O,te){if(h=+h,E=E>>>0,O=O>>>0,!te){const Fe=Math.pow(2,8*O)-1;U(this,h,E,O,Fe,0)}let he=1,Ce=0;for(this[E]=h&255;++Ce<O&&(he*=256);)this[E+Ce]=h/he&255;return E+O},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(h,E,O,te){if(h=+h,E=E>>>0,O=O>>>0,!te){const Fe=Math.pow(2,8*O)-1;U(this,h,E,O,Fe,0)}let he=O-1,Ce=1;for(this[E+he]=h&255;--he>=0&&(Ce*=256);)this[E+he]=h/Ce&255;return E+O},o.prototype.writeUint8=o.prototype.writeUInt8=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,1,255,0),this[E]=h&255,E+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,2,65535,0),this[E]=h&255,this[E+1]=h>>>8,E+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,2,65535,0),this[E]=h>>>8,this[E+1]=h&255,E+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,4,4294967295,0),this[E+3]=h>>>24,this[E+2]=h>>>16,this[E+1]=h>>>8,this[E]=h&255,E+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,4,4294967295,0),this[E]=h>>>24,this[E+1]=h>>>16,this[E+2]=h>>>8,this[E+3]=h&255,E+4};function de(m,h,E,O,te){k(h,O,te,m,E,7);let he=Number(h&BigInt(4294967295));m[E++]=he,he=he>>8,m[E++]=he,he=he>>8,m[E++]=he,he=he>>8,m[E++]=he;let Ce=Number(h>>BigInt(32)&BigInt(4294967295));return m[E++]=Ce,Ce=Ce>>8,m[E++]=Ce,Ce=Ce>>8,m[E++]=Ce,Ce=Ce>>8,m[E++]=Ce,E}function xe(m,h,E,O,te){k(h,O,te,m,E,7);let he=Number(h&BigInt(4294967295));m[E+7]=he,he=he>>8,m[E+6]=he,he=he>>8,m[E+5]=he,he=he>>8,m[E+4]=he;let Ce=Number(h>>BigInt(32)&BigInt(4294967295));return m[E+3]=Ce,Ce=Ce>>8,m[E+2]=Ce,Ce=Ce>>8,m[E+1]=Ce,Ce=Ce>>8,m[E]=Ce,E+8}o.prototype.writeBigUInt64LE=Te(function(h,E=0){return de(this,h,E,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Te(function(h,E=0){return xe(this,h,E,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(h,E,O,te){if(h=+h,E=E>>>0,!te){const ze=Math.pow(2,8*O-1);U(this,h,E,O,ze-1,-ze)}let he=0,Ce=1,Fe=0;for(this[E]=h&255;++he<O&&(Ce*=256);)h<0&&Fe===0&&this[E+he-1]!==0&&(Fe=1),this[E+he]=(h/Ce>>0)-Fe&255;return E+O},o.prototype.writeIntBE=function(h,E,O,te){if(h=+h,E=E>>>0,!te){const ze=Math.pow(2,8*O-1);U(this,h,E,O,ze-1,-ze)}let he=O-1,Ce=1,Fe=0;for(this[E+he]=h&255;--he>=0&&(Ce*=256);)h<0&&Fe===0&&this[E+he+1]!==0&&(Fe=1),this[E+he]=(h/Ce>>0)-Fe&255;return E+O},o.prototype.writeInt8=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,1,127,-128),h<0&&(h=255+h+1),this[E]=h&255,E+1},o.prototype.writeInt16LE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,2,32767,-32768),this[E]=h&255,this[E+1]=h>>>8,E+2},o.prototype.writeInt16BE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,2,32767,-32768),this[E]=h>>>8,this[E+1]=h&255,E+2},o.prototype.writeInt32LE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,4,2147483647,-2147483648),this[E]=h&255,this[E+1]=h>>>8,this[E+2]=h>>>16,this[E+3]=h>>>24,E+4},o.prototype.writeInt32BE=function(h,E,O){return h=+h,E=E>>>0,O||U(this,h,E,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[E]=h>>>24,this[E+1]=h>>>16,this[E+2]=h>>>8,this[E+3]=h&255,E+4},o.prototype.writeBigInt64LE=Te(function(h,E=0){return de(this,h,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Te(function(h,E=0){return xe(this,h,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(m,h,E,O,te,he){if(E+O>m.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function K(m,h,E,O,te){return h=+h,E=E>>>0,te||ee(m,h,E,4),r.write(m,h,E,O,23,4),E+4}o.prototype.writeFloatLE=function(h,E,O){return K(this,h,E,!0,O)},o.prototype.writeFloatBE=function(h,E,O){return K(this,h,E,!1,O)};function W(m,h,E,O,te){return h=+h,E=E>>>0,te||ee(m,h,E,8),r.write(m,h,E,O,52,8),E+8}o.prototype.writeDoubleLE=function(h,E,O){return W(this,h,E,!0,O)},o.prototype.writeDoubleBE=function(h,E,O){return W(this,h,E,!1,O)},o.prototype.copy=function(h,E,O,te){if(!o.isBuffer(h))throw new TypeError("argument should be a Buffer");if(O||(O=0),!te&&te!==0&&(te=this.length),E>=h.length&&(E=h.length),E||(E=0),te>0&&te<O&&(te=O),te===O||h.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),h.length-E<te-O&&(te=h.length-E+O);const he=te-O;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,O,te):Uint8Array.prototype.set.call(h,this.subarray(O,te),E),he},o.prototype.fill=function(h,E,O,te){if(typeof h=="string"){if(typeof E=="string"?(te=E,E=0,O=this.length):typeof O=="string"&&(te=O,O=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!o.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(h.length===1){const Ce=h.charCodeAt(0);(te==="utf8"&&Ce<128||te==="latin1")&&(h=Ce)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(E<0||this.length<E||this.length<O)throw new RangeError("Out of range index");if(O<=E)return this;E=E>>>0,O=O===void 0?this.length:O>>>0,h||(h=0);let he;if(typeof h=="number")for(he=E;he<O;++he)this[he]=h;else{const Ce=o.isBuffer(h)?h:o.from(h,te),Fe=Ce.length;if(Fe===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(he=0;he<O-E;++he)this[he+E]=Ce[he%Fe]}return this};const D={};function X(m,h,E){D[m]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(m,h){return`The "${m}" argument must be of type number. Received type ${typeof h}`},TypeError),X("ERR_OUT_OF_RANGE",function(m,h,E){let O=`The value of "${m}" is out of range.`,te=E;return Number.isInteger(E)&&Math.abs(E)>2**32?te=ce(String(E)):typeof E=="bigint"&&(te=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(te=ce(te)),te+="n"),O+=` It must be ${h}. Received ${te}`,O},RangeError);function ce(m){let h="",E=m.length;const O=m[0]==="-"?1:0;for(;E>=O+4;E-=3)h=`_${m.slice(E-3,E)}${h}`;return`${m.slice(0,E)}${h}`}function le(m,h,E){P(h,"offset"),(m[h]===void 0||m[h+E]===void 0)&&V(h,m.length-(E+1))}function k(m,h,E,O,te,he){if(m>E||m<h){const Ce=typeof h=="bigint"?"n":"";let Fe;throw h===0||h===BigInt(0)?Fe=`>= 0${Ce} and < 2${Ce} ** ${(he+1)*8}${Ce}`:Fe=`>= -(2${Ce} ** ${(he+1)*8-1}${Ce}) and < 2 ** ${(he+1)*8-1}${Ce}`,new D.ERR_OUT_OF_RANGE("value",Fe,m)}le(O,te,he)}function P(m,h){if(typeof m!="number")throw new D.ERR_INVALID_ARG_TYPE(h,"number",m)}function V(m,h,E){throw Math.floor(m)!==m?(P(m,E),new D.ERR_OUT_OF_RANGE("offset","an integer",m)):h<0?new D.ERR_BUFFER_OUT_OF_BOUNDS:new D.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,m)}const R=/[^+/0-9A-Za-z-_]/g;function H(m){if(m=m.split("=")[0],m=m.trim().replace(R,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function q(m,h){h=h||1/0;let E;const O=m.length;let te=null;const he=[];for(let Ce=0;Ce<O;++Ce){if(E=m.charCodeAt(Ce),E>55295&&E<57344){if(!te){if(E>56319){(h-=3)>-1&&he.push(239,191,189);continue}else if(Ce+1===O){(h-=3)>-1&&he.push(239,191,189);continue}te=E;continue}if(E<56320){(h-=3)>-1&&he.push(239,191,189),te=E;continue}E=(te-55296<<10|E-56320)+65536}else te&&(h-=3)>-1&&he.push(239,191,189);if(te=null,E<128){if((h-=1)<0)break;he.push(E)}else if(E<2048){if((h-=2)<0)break;he.push(E>>6|192,E&63|128)}else if(E<65536){if((h-=3)<0)break;he.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((h-=4)<0)break;he.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return he}function ue(m){const h=[];for(let E=0;E<m.length;++E)h.push(m.charCodeAt(E)&255);return h}function Z(m,h){let E,O,te;const he=[];for(let Ce=0;Ce<m.length&&!((h-=2)<0);++Ce)E=m.charCodeAt(Ce),O=E>>8,te=E%256,he.push(te),he.push(O);return he}function Y(m){return e.toByteArray(H(m))}function se(m,h,E,O){let te;for(te=0;te<O&&!(te+E>=h.length||te>=m.length);++te)h[te+E]=m[te];return te}function Q(m,h){return m instanceof h||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===h.name}function oe(m){return m!==m}const me=function(){const m="0123456789abcdef",h=new Array(256);for(let E=0;E<16;++E){const O=E*16;for(let te=0;te<16;++te)h[O+te]=m[E]+m[te]}return h}();function Te(m){return typeof BigInt>"u"?x:m}function x(){throw new Error("BigInt not supported")}}(rd)),rd}var nd,Cw;function Ft(){if(Cw)return nd;Cw=1;class t extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let s=0;s<r.length;s++)n+=`    ${r[s].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return nd={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,r){return e.includes(r)},ArrayPrototypeIndexOf(e,r){return e.indexOf(r)},ArrayPrototypeJoin(e,r){return e.join(r)},ArrayPrototypeMap(e,r){return e.map(r)},ArrayPrototypePop(e,r){return e.pop(r)},ArrayPrototypePush(e,r){return e.push(r)},ArrayPrototypeSlice(e,r,n){return e.slice(r,n)},Error,FunctionPrototypeCall(e,r,...n){return e.call(r,...n)},FunctionPrototypeSymbolHasInstance(e,r){return Function.prototype[Symbol.hasInstance].call(e,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,r){return Object.defineProperties(e,r)},ObjectDefineProperty(e,r,n){return Object.defineProperty(e,r,n)},ObjectGetOwnPropertyDescriptor(e,r){return Object.getOwnPropertyDescriptor(e,r)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,r){return Object.setPrototypeOf(e,r)},Promise,PromisePrototypeCatch(e,r){return e.catch(r)},PromisePrototypeThen(e,r,n){return e.then(r,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,r){return e.test(r)},SafeSet:Set,String,StringPrototypeSlice(e,r,n){return e.slice(r,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,r,n){return e.set(r,n)},Boolean,Uint8Array},nd}var id={exports:{}},sd,Iw;function hS(){return Iw||(Iw=1,sd={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){const s=e.shift();return n==="f"?s.toFixed(6):n==="j"?JSON.stringify(s):n==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),sd}var od,Mw;function Mr(){if(Mw)return od;Mw=1;const{format:t,inspect:e}=hS(),{AggregateError:r}=Ft(),n=globalThis.AggregateError||r,s=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",l={};function u(v,w){if(!v)throw new l.ERR_INTERNAL_ASSERTION(w)}function c(v){let w="",_=v.length;const y=v[0]==="-"?1:0;for(;_>=y+4;_-=3)w=`_${v.slice(_-3,_)}${w}`;return`${v.slice(0,_)}${w}`}function f(v,w,_){if(typeof w=="function")return u(w.length<=_.length,`Code: ${v}; The provided arguments length (${_.length}) does not match the required ones (${w.length}).`),w(..._);const y=(w.match(/%[dfijoOs]/g)||[]).length;return u(y===_.length,`Code: ${v}; The provided arguments length (${_.length}) does not match the required ones (${y}).`),_.length===0?w:t(w,..._)}function d(v,w,_){_||(_=Error);class y extends _{constructor(...T){super(f(v,w,T))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:_.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[s]=!0,l[v]=y}function p(v){const w=o+v.name;return Object.defineProperty(v,"name",{value:w}),v}function g(v,w){if(v&&w&&v!==w){if(Array.isArray(w.errors))return w.errors.push(v),w;const _=new n([w,v],w.message);return _.code=w.code,_}return v||w}class b extends Error{constructor(w="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",_);super(w,_),this.code="ABORT_ERR",this.name="AbortError"}}return d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(v,w,_)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],T=[],A=[];for(const L of w)u(typeof L=="string","All expected entries have to be of type string"),i.includes(L)?S.push(L.toLowerCase()):a.test(L)?T.push(L):(u(L!=="object",'The value "object" should be written as "Object"'),A.push(L));if(T.length>0){const L=S.indexOf("object");L!==-1&&(S.splice(S,L,1),T.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const L=S.pop();y+=`one of type ${S.join(", ")}, or ${L}`}}(T.length>0||A.length>0)&&(y+=" or ")}if(T.length>0){switch(T.length){case 1:y+=`an instance of ${T[0]}`;break;case 2:y+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const L=T.pop();y+=`an instance of ${T.join(", ")}, or ${L}`}}A.length>0&&(y+=" or ")}switch(A.length){case 0:break;case 1:A[0].toLowerCase()!==A[0]&&(y+="an "),y+=`${A[0]}`;break;case 2:y+=`one of ${A[0]} or ${A[1]}`;break;default:{const L=A.pop();y+=`one of ${A.join(", ")}, or ${L}`}}if(_==null)y+=`. Received ${_}`;else if(typeof _=="function"&&_.name)y+=`. Received function ${_.name}`;else if(typeof _=="object"){var C;if((C=_.constructor)!==null&&C!==void 0&&C.name)y+=`. Received an instance of ${_.constructor.name}`;else{const L=e(_,{depth:-1});y+=`. Received ${L}`}}else{let L=e(_,{colors:!1});L.length>25&&(L=`${L.slice(0,25)}...`),y+=`. Received type ${typeof _} (${L})`}return y},TypeError),d("ERR_INVALID_ARG_VALUE",(v,w,_="is invalid")=>{let y=e(w);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${_}. Received ${y}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(v,w,_)=>{var y;const S=_!=null&&(y=_.constructor)!==null&&y!==void 0&&y.name?`instance of ${_.constructor.name}`:`type ${typeof _}`;return`Expected ${v} to be returned from the "${w}" function but got ${S}.`},TypeError),d("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let w;const _=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),_){case 1:w+=`The ${v[0]} argument`;break;case 2:w+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();w+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${w} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(v,w,_)=>{u(w,'Missing "range" argument');let y;if(Number.isInteger(_)&&Math.abs(_)>2**32)y=c(String(_));else if(typeof _=="bigint"){y=String(_);const S=BigInt(2)**BigInt(32);(_>S||_<-S)&&(y=c(y)),y+="n"}else y=e(_);return`The value of "${v}" is out of range. It must be ${w}. Received ${y}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),od={AbortError:b,aggregateTwoErrors:p(g),hideStackFrames:p,codes:l},od}var La={exports:{}},kw;function ml(){if(kw)return La.exports;kw=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return La.exports=t,La.exports.AbortSignal=e,La.exports.default=t,La.exports}var nu={exports:{}},Pw;function ua(){if(Pw)return nu.exports;Pw=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,A,C){return Function.prototype.apply.call(T,A,C)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(T){return T!==T};function i(){i.init.call(this)}nu.exports=i,nu.exports.once=w,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function o(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");a=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||s(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(T){for(var A=[],C=1;C<arguments.length;C++)A.push(arguments[C]);var L=T==="error",j=this._events;if(j!==void 0)L=L&&j.error===void 0;else if(!L)return!1;if(L){var F;if(A.length>0&&(F=A[0]),F instanceof Error)throw F;var $=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw $.context=F,$}var I=j[T];if(I===void 0)return!1;if(typeof I=="function")e(I,this,A);else for(var M=I.length,B=g(I,M),C=0;C<M;++C)e(B[C],this,A);return!0};function u(S,T,A,C){var L,j,F;if(o(A),j=S._events,j===void 0?(j=S._events=Object.create(null),S._eventsCount=0):(j.newListener!==void 0&&(S.emit("newListener",T,A.listener?A.listener:A),j=S._events),F=j[T]),F===void 0)F=j[T]=A,++S._eventsCount;else if(typeof F=="function"?F=j[T]=C?[A,F]:[F,A]:C?F.unshift(A):F.push(A),L=l(S),L>0&&F.length>L&&!F.warned){F.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=S,$.type=T,$.count=F.length,n($)}return S}i.prototype.addListener=function(T,A){return u(this,T,A,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(T,A){return u(this,T,A,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(S,T,A){var C={fired:!1,wrapFn:void 0,target:S,type:T,listener:A},L=c.bind(C);return L.listener=A,C.wrapFn=L,L}i.prototype.once=function(T,A){return o(A),this.on(T,f(this,T,A)),this},i.prototype.prependOnceListener=function(T,A){return o(A),this.prependListener(T,f(this,T,A)),this},i.prototype.removeListener=function(T,A){var C,L,j,F,$;if(o(A),L=this._events,L===void 0)return this;if(C=L[T],C===void 0)return this;if(C===A||C.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete L[T],L.removeListener&&this.emit("removeListener",T,C.listener||A));else if(typeof C!="function"){for(j=-1,F=C.length-1;F>=0;F--)if(C[F]===A||C[F].listener===A){$=C[F].listener,j=F;break}if(j<0)return this;j===0?C.shift():b(C,j),C.length===1&&(L[T]=C[0]),L.removeListener!==void 0&&this.emit("removeListener",T,$||A)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(T){var A,C,L;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[T]),this;if(arguments.length===0){var j=Object.keys(C),F;for(L=0;L<j.length;++L)F=j[L],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=C[T],typeof A=="function")this.removeListener(T,A);else if(A!==void 0)for(L=A.length-1;L>=0;L--)this.removeListener(T,A[L]);return this};function d(S,T,A){var C=S._events;if(C===void 0)return[];var L=C[T];return L===void 0?[]:typeof L=="function"?A?[L.listener||L]:[L]:A?v(L):g(L,L.length)}i.prototype.listeners=function(T){return d(this,T,!0)},i.prototype.rawListeners=function(T){return d(this,T,!1)},i.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):p.call(S,T)},i.prototype.listenerCount=p;function p(S){var T=this._events;if(T!==void 0){var A=T[S];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(S,T){for(var A=new Array(T),C=0;C<T;++C)A[C]=S[C];return A}function b(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function v(S){for(var T=new Array(S.length),A=0;A<T.length;++A)T[A]=S[A].listener||S[A];return T}function w(S,T){return new Promise(function(A,C){function L(F){S.removeListener(T,j),C(F)}function j(){typeof S.removeListener=="function"&&S.removeListener("error",L),A([].slice.call(arguments))}y(S,T,j,{once:!0}),T!=="error"&&_(S,L,{once:!0})})}function _(S,T,A){typeof S.on=="function"&&y(S,"error",T,A)}function y(S,T,A,C){if(typeof S.on=="function")C.once?S.once(T,A):S.on(T,A);else if(typeof S.addEventListener=="function")S.addEventListener(T,function L(j){C.once&&S.removeEventListener(T,L),A(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return nu.exports}var Ow;function Rr(){return Ow||(Ow=1,function(t){const e=Qr(),{format:r,inspect:n}=hS(),{codes:{ERR_INVALID_ARG_TYPE:s}}=Mr(),{kResistStopPropagation:i,AggregateError:a,SymbolDispose:o}=Ft(),l=globalThis.AbortSignal||ml().AbortSignal,u=globalThis.AbortController||ml().AbortController,c=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||e.Blob,d=typeof f<"u"?function(v){return v instanceof f}:function(v){return!1},p=(b,v)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new s(v,"AbortSignal",b)},g=(b,v)=>{if(typeof b!="function")throw new s(v,"Function",b)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(b){let v=!1;return function(...w){v||(v=!0,b.apply(this,w))}},createDeferredPromise:function(){let b,v;return{promise:new Promise((_,y)=>{b=_,v=y}),resolve:b,reject:v}},promisify(b){return new Promise((v,w)=>{b((_,...y)=>_?w(_):v(...y))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(b){return b instanceof c},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:d,deprecate(b,v){return b},addAbortListener:ua().addAbortListener||function(v,w){if(v===void 0)throw new s("signal","AbortSignal",v);p(v,"signal"),g(w,"listener");let _;return v.aborted?queueMicrotask(()=>w()):(v.addEventListener("abort",w,{__proto__:null,once:!0,[i]:!0}),_=()=>{v.removeEventListener("abort",w)}),{__proto__:null,[o](){var y;(y=_)===null||y===void 0||y()}}},AbortSignalAny:l.any||function(v){if(v.length===1)return v[0];const w=new u,_=()=>w.abort();return v.forEach(y=>{p(y,"signals"),y.addEventListener("abort",_,{once:!0})}),w.signal.addEventListener("abort",()=>{v.forEach(y=>y.removeEventListener("abort",_))},{once:!0}),w.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(id)),id.exports}var iu={},ad,Lw;function Ml(){if(Lw)return ad;Lw=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:s,NumberIsNaN:i,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:o,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:c,String:f,StringPrototypeToUpperCase:d,StringPrototypeTrim:p}=Ft(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:y}}=Mr(),{normalizeEncoding:S}=Rr(),{isAsyncFunction:T,isArrayBufferView:A}=Rr().types,C={};function L(Z){return Z===(Z|0)}function j(Z){return Z===Z>>>0}const F=/^[0-7]+$/,$="must be a 32-bit unsigned integer or an octal string";function I(Z,Y,se){if(typeof Z>"u"&&(Z=se),typeof Z=="string"){if(c(F,Z)===null)throw new w(Y,Z,$);Z=l(Z,8)}return J(Z,Y),Z}const M=g((Z,Y,se=o,Q=a)=>{if(typeof Z!="number")throw new v(Y,"number",Z);if(!s(Z))throw new _(Y,"an integer",Z);if(Z<se||Z>Q)throw new _(Y,`>= ${se} && <= ${Q}`,Z)}),B=g((Z,Y,se=-2147483648,Q=2147483647)=>{if(typeof Z!="number")throw new v(Y,"number",Z);if(!s(Z))throw new _(Y,"an integer",Z);if(Z<se||Z>Q)throw new _(Y,`>= ${se} && <= ${Q}`,Z)}),J=g((Z,Y,se=!1)=>{if(typeof Z!="number")throw new v(Y,"number",Z);if(!s(Z))throw new _(Y,"an integer",Z);const Q=se?1:0,oe=4294967295;if(Z<Q||Z>oe)throw new _(Y,`>= ${Q} && <= ${oe}`,Z)});function ie(Z,Y){if(typeof Z!="string")throw new v(Y,"string",Z)}function re(Z,Y,se=void 0,Q){if(typeof Z!="number")throw new v(Y,"number",Z);if(se!=null&&Z<se||Q!=null&&Z>Q||(se!=null||Q!=null)&&i(Z))throw new _(Y,`${se!=null?`>= ${se}`:""}${se!=null&&Q!=null?" && ":""}${Q!=null?`<= ${Q}`:""}`,Z)}const N=g((Z,Y,se)=>{if(!e(se,Z)){const oe="must be one of: "+r(n(se,me=>typeof me=="string"?`'${me}'`:f(me)),", ");throw new w(Y,Z,oe)}});function fe(Z,Y){if(typeof Z!="boolean")throw new v(Y,"boolean",Z)}function G(Z,Y,se){return Z==null||!u(Z,Y)?se:Z[Y]}const pe=g((Z,Y,se=null)=>{const Q=G(se,"allowArray",!1),oe=G(se,"allowFunction",!1);if(!G(se,"nullable",!1)&&Z===null||!Q&&t(Z)||typeof Z!="object"&&(!oe||typeof Z!="function"))throw new v(Y,"Object",Z)}),U=g((Z,Y)=>{if(Z!=null&&typeof Z!="object"&&typeof Z!="function")throw new v(Y,"a dictionary",Z)}),de=g((Z,Y,se=0)=>{if(!t(Z))throw new v(Y,"Array",Z);if(Z.length<se){const Q=`must be longer than ${se}`;throw new w(Y,Z,Q)}});function xe(Z,Y){de(Z,Y);for(let se=0;se<Z.length;se++)ie(Z[se],`${Y}[${se}]`)}function ee(Z,Y){de(Z,Y);for(let se=0;se<Z.length;se++)fe(Z[se],`${Y}[${se}]`)}function K(Z,Y){de(Z,Y);for(let se=0;se<Z.length;se++){const Q=Z[se],oe=`${Y}[${se}]`;if(Q==null)throw new v(oe,"AbortSignal",Q);le(Q,oe)}}function W(Z,Y="signal"){if(ie(Z,Y),C[Z]===void 0)throw C[d(Z)]!==void 0?new y(Z+" (signals must use all capital letters)"):new y(Z)}const D=g((Z,Y="buffer")=>{if(!A(Z))throw new v(Y,["Buffer","TypedArray","DataView"],Z)});function X(Z,Y){const se=S(Y),Q=Z.length;if(se==="hex"&&Q%2!==0)throw new w("encoding",Y,`is invalid for data of length ${Q}`)}function ce(Z,Y="Port",se=!0){if(typeof Z!="number"&&typeof Z!="string"||typeof Z=="string"&&p(Z).length===0||+Z!==+Z>>>0||Z>65535||Z===0&&!se)throw new b(Y,Z,se);return Z|0}const le=g((Z,Y)=>{if(Z!==void 0&&(Z===null||typeof Z!="object"||!("aborted"in Z)))throw new v(Y,"AbortSignal",Z)}),k=g((Z,Y)=>{if(typeof Z!="function")throw new v(Y,"Function",Z)}),P=g((Z,Y)=>{if(typeof Z!="function"||T(Z))throw new v(Y,"Function",Z)}),V=g((Z,Y)=>{if(Z!==void 0)throw new v(Y,"undefined",Z)});function R(Z,Y,se){if(!e(se,Z))throw new v(Y,`('${r(se,"|")}')`,Z)}const H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(Z,Y){if(typeof Z>"u"||!c(H,Z))throw new w(Y,Z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ue(Z){if(typeof Z=="string")return q(Z,"hints"),Z;if(t(Z)){const Y=Z.length;let se="";if(Y===0)return se;for(let Q=0;Q<Y;Q++){const oe=Z[Q];q(oe,"hints"),se+=oe,Q!==Y-1&&(se+=", ")}return se}throw new w("hints",Z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return ad={isInt32:L,isUint32:j,parseFileMode:I,validateArray:de,validateStringArray:xe,validateBooleanArray:ee,validateAbortSignalArray:K,validateBoolean:fe,validateBuffer:D,validateDictionary:U,validateEncoding:X,validateFunction:k,validateInt32:B,validateInteger:M,validateNumber:re,validateObject:pe,validateOneOf:N,validatePlainFunction:P,validatePort:ce,validateSignalName:W,validateString:ie,validateUint32:J,validateUndefined:V,validateUnion:R,validateAbortSignal:le,validateLinkHeaderValue:ue},ad}var su={exports:{}},ld={exports:{}},Rw;function so(){if(Rw)return ld.exports;Rw=1;var t=ld.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function i(b){if(e===setTimeout)return setTimeout(b,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(b,0);try{return e(b,0)}catch{try{return e.call(null,b,0)}catch{return e.call(this,b,0)}}}function a(b){if(r===clearTimeout)return clearTimeout(b);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(b);try{return r(b)}catch{try{return r.call(null,b)}catch{return r.call(this,b)}}}var o=[],l=!1,u,c=-1;function f(){!l||!u||(l=!1,u.length?o=u.concat(o):c=-1,o.length&&d())}function d(){if(!l){var b=i(f);l=!0;for(var v=o.length;v;){for(u=o,o=[];++c<v;)u&&u[c].run();c=-1,v=o.length}u=null,l=!1,a(b)}}t.nextTick=function(b){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];o.push(new p(b,v)),o.length===1&&!l&&i(d)};function p(b,v){this.fun=b,this.array=v}p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}return t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(b){return[]},t.binding=function(b){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(b){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},ld.exports}var ud,Bw;function Oi(){if(Bw)return ud;Bw=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=Ft(),n=r("nodejs.stream.destroyed"),s=r("nodejs.stream.errored"),i=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),o=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function c(G,pe=!1){var U;return!!(G&&typeof G.pipe=="function"&&typeof G.on=="function"&&(!pe||typeof G.pause=="function"&&typeof G.resume=="function")&&(!G._writableState||((U=G._readableState)===null||U===void 0?void 0:U.readable)!==!1)&&(!G._writableState||G._readableState))}function f(G){var pe;return!!(G&&typeof G.write=="function"&&typeof G.on=="function"&&(!G._readableState||((pe=G._writableState)===null||pe===void 0?void 0:pe.writable)!==!1))}function d(G){return!!(G&&typeof G.pipe=="function"&&G._readableState&&typeof G.on=="function"&&typeof G.write=="function")}function p(G){return G&&(G._readableState||G._writableState||typeof G.write=="function"&&typeof G.on=="function"||typeof G.pipe=="function"&&typeof G.on=="function")}function g(G){return!!(G&&!p(G)&&typeof G.pipeThrough=="function"&&typeof G.getReader=="function"&&typeof G.cancel=="function")}function b(G){return!!(G&&!p(G)&&typeof G.getWriter=="function"&&typeof G.abort=="function")}function v(G){return!!(G&&!p(G)&&typeof G.readable=="object"&&typeof G.writable=="object")}function w(G){return g(G)||b(G)||v(G)}function _(G,pe){return G==null?!1:pe===!0?typeof G[t]=="function":pe===!1?typeof G[e]=="function":typeof G[t]=="function"||typeof G[e]=="function"}function y(G){if(!p(G))return null;const pe=G._writableState,U=G._readableState,de=pe||U;return!!(G.destroyed||G[n]||de!=null&&de.destroyed)}function S(G){if(!f(G))return null;if(G.writableEnded===!0)return!0;const pe=G._writableState;return pe!=null&&pe.errored?!1:typeof(pe==null?void 0:pe.ended)!="boolean"?null:pe.ended}function T(G,pe){if(!f(G))return null;if(G.writableFinished===!0)return!0;const U=G._writableState;return U!=null&&U.errored?!1:typeof(U==null?void 0:U.finished)!="boolean"?null:!!(U.finished||pe===!1&&U.ended===!0&&U.length===0)}function A(G){if(!c(G))return null;if(G.readableEnded===!0)return!0;const pe=G._readableState;return!pe||pe.errored?!1:typeof(pe==null?void 0:pe.ended)!="boolean"?null:pe.ended}function C(G,pe){if(!c(G))return null;const U=G._readableState;return U!=null&&U.errored?!1:typeof(U==null?void 0:U.endEmitted)!="boolean"?null:!!(U.endEmitted||pe===!1&&U.ended===!0&&U.length===0)}function L(G){return G&&G[i]!=null?G[i]:typeof(G==null?void 0:G.readable)!="boolean"?null:y(G)?!1:c(G)&&G.readable&&!C(G)}function j(G){return G&&G[a]!=null?G[a]:typeof(G==null?void 0:G.writable)!="boolean"?null:y(G)?!1:f(G)&&G.writable&&!S(G)}function F(G,pe){return p(G)?y(G)?!0:!((pe==null?void 0:pe.readable)!==!1&&L(G)||(pe==null?void 0:pe.writable)!==!1&&j(G)):null}function $(G){var pe,U;return p(G)?G.writableErrored?G.writableErrored:(pe=(U=G._writableState)===null||U===void 0?void 0:U.errored)!==null&&pe!==void 0?pe:null:null}function I(G){var pe,U;return p(G)?G.readableErrored?G.readableErrored:(pe=(U=G._readableState)===null||U===void 0?void 0:U.errored)!==null&&pe!==void 0?pe:null:null}function M(G){if(!p(G))return null;if(typeof G.closed=="boolean")return G.closed;const pe=G._writableState,U=G._readableState;return typeof(pe==null?void 0:pe.closed)=="boolean"||typeof(U==null?void 0:U.closed)=="boolean"?(pe==null?void 0:pe.closed)||(U==null?void 0:U.closed):typeof G._closed=="boolean"&&B(G)?G._closed:null}function B(G){return typeof G._closed=="boolean"&&typeof G._defaultKeepAlive=="boolean"&&typeof G._removedConnection=="boolean"&&typeof G._removedContLen=="boolean"}function J(G){return typeof G._sent100=="boolean"&&B(G)}function ie(G){var pe;return typeof G._consuming=="boolean"&&typeof G._dumped=="boolean"&&((pe=G.req)===null||pe===void 0?void 0:pe.upgradeOrConnect)===void 0}function re(G){if(!p(G))return null;const pe=G._writableState,U=G._readableState,de=pe||U;return!de&&J(G)||!!(de&&de.autoDestroy&&de.emitClose&&de.closed===!1)}function N(G){var pe;return!!(G&&((pe=G[o])!==null&&pe!==void 0?pe:G.readableDidRead||G.readableAborted))}function fe(G){var pe,U,de,xe,ee,K,W,D,X,ce;return!!(G&&((pe=(U=(de=(xe=(ee=(K=G[s])!==null&&K!==void 0?K:G.readableErrored)!==null&&ee!==void 0?ee:G.writableErrored)!==null&&xe!==void 0?xe:(W=G._readableState)===null||W===void 0?void 0:W.errorEmitted)!==null&&de!==void 0?de:(D=G._writableState)===null||D===void 0?void 0:D.errorEmitted)!==null&&U!==void 0?U:(X=G._readableState)===null||X===void 0?void 0:X.errored)!==null&&pe!==void 0?pe:!((ce=G._writableState)===null||ce===void 0)&&ce.errored))}return ud={isDestroyed:y,kIsDestroyed:n,isDisturbed:N,kIsDisturbed:o,isErrored:fe,kIsErrored:s,isReadable:L,kIsReadable:i,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:a,isClosed:M,isDuplexNodeStream:d,isFinished:F,isIterable:_,isReadableNodeStream:c,isReadableStream:g,isReadableEnded:A,isReadableFinished:C,isReadableErrored:I,isNodeStream:p,isWebStream:w,isWritable:j,isWritableNodeStream:f,isWritableStream:b,isWritableEnded:S,isWritableFinished:T,isWritableErrored:$,isServerRequest:ie,isServerResponse:J,willEmitClose:re,isTransformStream:v},ud}var $w;function os(){if($w)return su.exports;$w=1;const t=so(),{AbortError:e,codes:r}=Mr(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:s}=r,{kEmptyObject:i,once:a}=Rr(),{validateAbortSignal:o,validateFunction:l,validateObject:u,validateBoolean:c}=Ml(),{Promise:f,PromisePrototypeThen:d,SymbolDispose:p}=Ft(),{isClosed:g,isReadable:b,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:_,isReadableErrored:y,isWritable:S,isWritableNodeStream:T,isWritableStream:A,isWritableFinished:C,isWritableErrored:L,isNodeStream:j,willEmitClose:F,kIsClosedPromise:$}=Oi();let I;function M(N){return N.setHeader&&typeof N.abort=="function"}const B=()=>{};function J(N,fe,G){var pe,U;if(arguments.length===2?(G=fe,fe=i):fe==null?fe=i:u(fe,"options"),l(G,"callback"),o(fe.signal,"options.signal"),G=a(G),w(N)||A(N))return ie(N,fe,G);if(!j(N))throw new n("stream",["ReadableStream","WritableStream","Stream"],N);const de=(pe=fe.readable)!==null&&pe!==void 0?pe:v(N),xe=(U=fe.writable)!==null&&U!==void 0?U:T(N),ee=N._writableState,K=N._readableState,W=()=>{N.writable||ce()};let D=F(N)&&v(N)===de&&T(N)===xe,X=C(N,!1);const ce=()=>{X=!0,N.destroyed&&(D=!1),!(D&&(!N.readable||de))&&(!de||le)&&G.call(N)};let le=_(N,!1);const k=()=>{le=!0,N.destroyed&&(D=!1),!(D&&(!N.writable||xe))&&(!xe||X)&&G.call(N)},P=Z=>{G.call(N,Z)};let V=g(N);const R=()=>{V=!0;const Z=L(N)||y(N);if(Z&&typeof Z!="boolean")return G.call(N,Z);if(de&&!le&&v(N,!0)&&!_(N,!1))return G.call(N,new s);if(xe&&!X&&!C(N,!1))return G.call(N,new s);G.call(N)},H=()=>{V=!0;const Z=L(N)||y(N);if(Z&&typeof Z!="boolean")return G.call(N,Z);G.call(N)},q=()=>{N.req.on("finish",ce)};M(N)?(N.on("complete",ce),D||N.on("abort",R),N.req?q():N.on("request",q)):xe&&!ee&&(N.on("end",W),N.on("close",W)),!D&&typeof N.aborted=="boolean"&&N.on("aborted",R),N.on("end",k),N.on("finish",ce),fe.error!==!1&&N.on("error",P),N.on("close",R),V?t.nextTick(R):ee!=null&&ee.errorEmitted||K!=null&&K.errorEmitted?D||t.nextTick(H):(!de&&(!D||b(N))&&(X||S(N)===!1)||!xe&&(!D||S(N))&&(le||b(N)===!1)||K&&N.req&&N.aborted)&&t.nextTick(H);const ue=()=>{G=B,N.removeListener("aborted",R),N.removeListener("complete",ce),N.removeListener("abort",R),N.removeListener("request",q),N.req&&N.req.removeListener("finish",ce),N.removeListener("end",W),N.removeListener("close",W),N.removeListener("finish",ce),N.removeListener("end",k),N.removeListener("error",P),N.removeListener("close",R)};if(fe.signal&&!V){const Z=()=>{const Y=G;ue(),Y.call(N,new e(void 0,{cause:fe.signal.reason}))};if(fe.signal.aborted)t.nextTick(Z);else{I=I||Rr().addAbortListener;const Y=I(fe.signal,Z),se=G;G=a((...Q)=>{Y[p](),se.apply(N,Q)})}}return ue}function ie(N,fe,G){let pe=!1,U=B;if(fe.signal)if(U=()=>{pe=!0,G.call(N,new e(void 0,{cause:fe.signal.reason}))},fe.signal.aborted)t.nextTick(U);else{I=I||Rr().addAbortListener;const xe=I(fe.signal,U),ee=G;G=a((...K)=>{xe[p](),ee.apply(N,K)})}const de=(...xe)=>{pe||t.nextTick(()=>G.apply(N,xe))};return d(N[$].promise,de,de),B}function re(N,fe){var G;let pe=!1;return fe===null&&(fe=i),(G=fe)!==null&&G!==void 0&&G.cleanup&&(c(fe.cleanup,"cleanup"),pe=fe.cleanup),new f((U,de)=>{const xe=J(N,fe,ee=>{pe&&xe(),ee?de(ee):U()})})}return su.exports=J,su.exports.finished=re,su.exports}var cd,Nw;function ca(){if(Nw)return cd;Nw=1;const t=so(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Mr(),{Symbol:s}=Ft(),{kIsDestroyed:i,isDestroyed:a,isFinished:o,isServerRequest:l}=Oi(),u=s("kDestroy"),c=s("kConstruct");function f(F,$,I){F&&(F.stack,$&&!$.errored&&($.errored=F),I&&!I.errored&&(I.errored=F))}function d(F,$){const I=this._readableState,M=this._writableState,B=M||I;return M!=null&&M.destroyed||I!=null&&I.destroyed?(typeof $=="function"&&$(),this):(f(F,M,I),M&&(M.destroyed=!0),I&&(I.destroyed=!0),B.constructed?p(this,F,$):this.once(u,function(J){p(this,e(J,F),$)}),this)}function p(F,$,I){let M=!1;function B(J){if(M)return;M=!0;const ie=F._readableState,re=F._writableState;f(J,re,ie),re&&(re.closed=!0),ie&&(ie.closed=!0),typeof I=="function"&&I(J),J?t.nextTick(g,F,J):t.nextTick(b,F)}try{F._destroy($||null,B)}catch(J){B(J)}}function g(F,$){v(F,$),b(F)}function b(F){const $=F._readableState,I=F._writableState;I&&(I.closeEmitted=!0),$&&($.closeEmitted=!0),(I!=null&&I.emitClose||$!=null&&$.emitClose)&&F.emit("close")}function v(F,$){const I=F._readableState,M=F._writableState;M!=null&&M.errorEmitted||I!=null&&I.errorEmitted||(M&&(M.errorEmitted=!0),I&&(I.errorEmitted=!0),F.emit("error",$))}function w(){const F=this._readableState,$=this._writableState;F&&(F.constructed=!0,F.closed=!1,F.closeEmitted=!1,F.destroyed=!1,F.errored=null,F.errorEmitted=!1,F.reading=!1,F.ended=F.readable===!1,F.endEmitted=F.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function _(F,$,I){const M=F._readableState,B=F._writableState;if(B!=null&&B.destroyed||M!=null&&M.destroyed)return this;M!=null&&M.autoDestroy||B!=null&&B.autoDestroy?F.destroy($):$&&($.stack,B&&!B.errored&&(B.errored=$),M&&!M.errored&&(M.errored=$),I?t.nextTick(v,F,$):v(F,$))}function y(F,$){if(typeof F._construct!="function")return;const I=F._readableState,M=F._writableState;I&&(I.constructed=!1),M&&(M.constructed=!1),F.once(c,$),!(F.listenerCount(c)>1)&&t.nextTick(S,F)}function S(F){let $=!1;function I(M){if($){_(F,M??new r);return}$=!0;const B=F._readableState,J=F._writableState,ie=J||B;B&&(B.constructed=!0),J&&(J.constructed=!0),ie.destroyed?F.emit(u,M):M?_(F,M,!0):t.nextTick(T,F)}try{F._construct(M=>{t.nextTick(I,M)})}catch(M){t.nextTick(I,M)}}function T(F){F.emit(c)}function A(F){return(F==null?void 0:F.setHeader)&&typeof F.abort=="function"}function C(F){F.emit("close")}function L(F,$){F.emit("error",$),t.nextTick(C,F)}function j(F,$){!F||a(F)||(!$&&!o(F)&&($=new n),l(F)?(F.socket=null,F.destroy($)):A(F)?F.abort():A(F.req)?F.req.abort():typeof F.destroy=="function"?F.destroy($):typeof F.close=="function"?F.close():$?t.nextTick(L,F,$):t.nextTick(C,F),F.destroyed||(F[i]=!0))}return cd={construct:y,destroyer:j,destroy:d,undestroy:w,errorOrDestroy:_},cd}var fd,Dw;function Mm(){if(Dw)return fd;Dw=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=Ft(),{EventEmitter:r}=ua();function n(i){r.call(this,i)}e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(i,a){const o=this;function l(b){i.writable&&i.write(b)===!1&&o.pause&&o.pause()}o.on("data",l);function u(){o.readable&&o.resume&&o.resume()}i.on("drain",u),!i._isStdio&&(!a||a.end!==!1)&&(o.on("end",f),o.on("close",d));let c=!1;function f(){c||(c=!0,i.end())}function d(){c||(c=!0,typeof i.destroy=="function"&&i.destroy())}function p(b){g(),r.listenerCount(this,"error")===0&&this.emit("error",b)}s(o,"error",p),s(i,"error",p);function g(){o.removeListener("data",l),i.removeListener("drain",u),o.removeListener("end",f),o.removeListener("close",d),o.removeListener("error",p),i.removeListener("error",p),o.removeListener("end",g),o.removeListener("close",g),i.removeListener("close",g)}return o.on("end",g),o.on("close",g),i.on("close",g),i.emit("pipe",o),i};function s(i,a,o){if(typeof i.prependListener=="function")return i.prependListener(a,o);!i._events||!i._events[a]?i.on(a,o):t(i._events[a])?i._events[a].unshift(o):i._events[a]=[o,i._events[a]]}return fd={Stream:n,prependListener:s},fd}var dd={exports:{}},Uw;function tf(){return Uw||(Uw=1,function(t){const{SymbolDispose:e}=Ft(),{AbortError:r,codes:n}=Mr(),{isNodeStream:s,isWebStream:i,kControllerErrorFunction:a}=Oi(),o=os(),{ERR_INVALID_ARG_TYPE:l}=n;let u;const c=(f,d)=>{if(typeof f!="object"||!("aborted"in f))throw new l(d,"AbortSignal",f)};t.exports.addAbortSignal=function(d,p){if(c(d,"signal"),!s(p)&&!i(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return t.exports.addAbortSignalNoValidate(d,p)},t.exports.addAbortSignalNoValidate=function(f,d){if(typeof f!="object"||!("aborted"in f))return d;const p=s(d)?()=>{d.destroy(new r(void 0,{cause:f.reason}))}:()=>{d[a](new r(void 0,{cause:f.reason}))};if(f.aborted)p();else{u=u||Rr().addAbortListener;const g=u(f,p);o(d,g[e])}return d}}(dd)),dd.exports}var hd,Fw;function SR(){if(Fw)return hd;Fw=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=Ft(),{Buffer:s}=Qr(),{inspect:i}=Rr();return hd=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(o){const l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=o+l.data;return u}concat(o){if(this.length===0)return s.alloc(0);const l=s.allocUnsafe(o>>>0);let u=this.head,c=0;for(;u;)r(l,u.data,c),c+=u.data.length,u=u.next;return l}consume(o,l){const u=this.head.data;if(o<u.length){const c=u.slice(0,o);return this.head.data=u.slice(o),c}return o===u.length?this.shift():l?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let l="",u=this.head,c=0;do{const f=u.data;if(o>f.length)l+=f,o-=f.length;else{o===f.length?(l+=f,++c,u.next?this.head=u.next:this.head=this.tail=null):(l+=t(f,0,o),this.head=u,u.data=t(f,o));break}++c}while((u=u.next)!==null);return this.length-=c,l}_getBuffer(o){const l=s.allocUnsafe(o),u=o;let c=this.head,f=0;do{const d=c.data;if(o>d.length)r(l,d,u-o),o-=d.length;else{o===d.length?(r(l,d,u-o),++f,c.next?this.head=c.next:this.head=this.tail=null):(r(l,new n(d.buffer,d.byteOffset,o),u-o),this.head=c,c.data=d.slice(o));break}++f}while((c=c.next)!==null);return this.length-=f,l}[Symbol.for("nodejs.util.inspect.custom")](o,l){return i(this,{...l,depth:0,customInspect:!1})}},hd}var pd,Vw;function rf(){if(Vw)return pd;Vw=1;const{MathFloor:t,NumberIsInteger:e}=Ft(),{validateInteger:r}=Ml(),{ERR_INVALID_ARG_VALUE:n}=Mr().codes;let s=16*1024,i=16;function a(c,f,d){return c.highWaterMark!=null?c.highWaterMark:f?c[d]:null}function o(c){return c?i:s}function l(c,f){r(f,"value",0),c?i=f:s=f}function u(c,f,d,p){const g=a(f,p,d);if(g!=null){if(!e(g)||g<0){const b=p?`options.${d}`:"options.highWaterMark";throw new n(b,g)}return t(g)}return o(c.objectMode)}return pd={getHighWaterMark:u,getDefaultHighWaterMark:o,setDefaultHighWaterMark:l},pd}var gd={},ou={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var jw;function xR(){return jw||(jw=1,function(t,e){var r=Qr(),n=r.Buffer;function s(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(a,o,l){return n(a,o,l)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},i.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(ou,ou.exports)),ou.exports}var Ww;function TR(){if(Ww)return gd;Ww=1;var t=xR().Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var _;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(_)return;w=(""+w).toLowerCase(),_=!0}}function n(w){var _=r(w);if(typeof _!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return _||w}gd.StringDecoder=s;function s(w){this.encoding=n(w);var _;switch(this.encoding){case"utf16le":this.text=f,this.end=d,_=4;break;case"utf8":this.fillLast=l,_=4;break;case"base64":this.text=p,this.end=g,_=3;break;default:this.write=b,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}s.prototype.write=function(w){if(w.length===0)return"";var _,y;if(this.lastNeed){if(_=this.fillLast(w),_===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<w.length?_?_+this.text(w,y):this.text(w,y):_||""},s.prototype.end=c,s.prototype.text=u,s.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function i(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function a(w,_,y){var S=_.length-1;if(S<y)return 0;var T=i(_[S]);return T>=0?(T>0&&(w.lastNeed=T-1),T):--S<y||T===-2?0:(T=i(_[S]),T>=0?(T>0&&(w.lastNeed=T-2),T):--S<y||T===-2?0:(T=i(_[S]),T>=0?(T>0&&(T===2?T=0:w.lastNeed=T-3),T):0))}function o(w,_,y){if((_[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return w.lastNeed=2,"�"}}function l(w){var _=this.lastTotal-this.lastNeed,y=o(this,w);if(y!==void 0)return y;if(this.lastNeed<=w.length)return w.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,_,0,w.length),this.lastNeed-=w.length}function u(w,_){var y=a(this,w,_);if(!this.lastNeed)return w.toString("utf8",_);this.lastTotal=y;var S=w.length-(y-this.lastNeed);return w.copy(this.lastChar,0,S),w.toString("utf8",_,S)}function c(w){var _=w&&w.length?this.write(w):"";return this.lastNeed?_+"�":_}function f(w,_){if((w.length-_)%2===0){var y=w.toString("utf16le",_);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",_,w.length-1)}function d(w){var _=w&&w.length?this.write(w):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,y)}return _}function p(w,_){var y=(w.length-_)%3;return y===0?w.toString("base64",_):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",_,w.length-y))}function g(w){var _=w&&w.length?this.write(w):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function b(w){return w.toString(this.encoding)}function v(w){return w&&w.length?this.write(w):""}return gd}var md,zw;function pS(){if(zw)return md;zw=1;const t=so(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=Ft(),{Buffer:s}=Qr(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:a}=Mr().codes;function o(l,u,c){let f;if(typeof u=="string"||u instanceof s)return new l({objectMode:!0,...c,read(){this.push(u),this.push(null)}});let d;if(u&&u[r])d=!0,f=u[r]();else if(u&&u[n])d=!1,f=u[n]();else throw new i("iterable",["Iterable"],u);const p=new l({objectMode:!0,highWaterMark:1,...c});let g=!1;p._read=function(){g||(g=!0,v())},p._destroy=function(w,_){e(b(w),()=>t.nextTick(_,w),y=>t.nextTick(_,y||w))};async function b(w){const _=w!=null,y=typeof f.throw=="function";if(_&&y){const{value:S,done:T}=await f.throw(w);if(await S,T)return}if(typeof f.return=="function"){const{value:S}=await f.return();await S}}async function v(){for(;;){try{const{value:w,done:_}=d?await f.next():f.next();if(_)p.push(null);else{const y=w&&typeof w.then=="function"?await w:w;if(y===null)throw g=!1,new a;if(p.push(y))continue;g=!1}}catch(w){p.destroy(w)}break}}return p}return md=o,md}var bd,Hw;function nf(){if(Hw)return bd;Hw=1;const t=so(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:s,ObjectDefineProperties:i,ObjectKeys:a,ObjectSetPrototypeOf:o,Promise:l,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:f,Symbol:d}=Ft();bd=Q,Q.ReadableState=se;const{EventEmitter:p}=ua(),{Stream:g,prependListener:b}=Mm(),{Buffer:v}=Qr(),{addAbortSignal:w}=tf(),_=os();let y=Rr().debuglog("stream",ge=>{y=ge});const S=SR(),T=ca(),{getHighWaterMark:A,getDefaultHighWaterMark:C}=rf(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:j,ERR_METHOD_NOT_IMPLEMENTED:F,ERR_OUT_OF_RANGE:$,ERR_STREAM_PUSH_AFTER_EOF:I,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:B}=Mr(),{validateObject:J}=Ml(),ie=d("kPaused"),{StringDecoder:re}=TR(),N=pS();o(Q.prototype,g.prototype),o(Q,g);const fe=()=>{},{errorOrDestroy:G}=T,pe=1,U=2,de=4,xe=8,ee=16,K=32,W=64,D=128,X=256,ce=512,le=1024,k=2048,P=4096,V=8192,R=16384,H=32768,q=65536,ue=1<<17,Z=1<<18;function Y(ge){return{enumerable:!1,get(){return(this.state&ge)!==0},set(be){be?this.state|=ge:this.state&=~ge}}}i(se.prototype,{objectMode:Y(pe),ended:Y(U),endEmitted:Y(de),reading:Y(xe),constructed:Y(ee),sync:Y(K),needReadable:Y(W),emittedReadable:Y(D),readableListening:Y(X),resumeScheduled:Y(ce),errorEmitted:Y(le),emitClose:Y(k),autoDestroy:Y(P),destroyed:Y(V),closed:Y(R),closeEmitted:Y(H),multiAwaitDrain:Y(q),readingMore:Y(ue),dataEmitted:Y(Z)});function se(ge,be,Ve){typeof Ve!="boolean"&&(Ve=be instanceof Ti()),this.state=k|P|ee|K,ge&&ge.objectMode&&(this.state|=pe),Ve&&ge&&ge.readableObjectMode&&(this.state|=pe),this.highWaterMark=ge?A(this,ge,"readableHighWaterMark",Ve):C(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[ie]=null,ge&&ge.emitClose===!1&&(this.state&=-2049),ge&&ge.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=ge&&ge.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ge&&ge.encoding&&(this.decoder=new re(ge.encoding),this.encoding=ge.encoding)}function Q(ge){if(!(this instanceof Q))return new Q(ge);const be=this instanceof Ti();this._readableState=new se(ge,this,be),ge&&(typeof ge.read=="function"&&(this._read=ge.read),typeof ge.destroy=="function"&&(this._destroy=ge.destroy),typeof ge.construct=="function"&&(this._construct=ge.construct),ge.signal&&!be&&w(ge.signal,this)),g.call(this,ge),T.construct(this,()=>{this._readableState.needReadable&&te(this,this._readableState)})}Q.prototype.destroy=T.destroy,Q.prototype._undestroy=T.undestroy,Q.prototype._destroy=function(ge,be){be(ge)},Q.prototype[p.captureRejectionSymbol]=function(ge){this.destroy(ge)},Q.prototype[c]=function(){let ge;return this.destroyed||(ge=this.readableEnded?null:new B,this.destroy(ge)),new l((be,Ve)=>_(this,je=>je&&je!==ge?Ve(je):be(null)))},Q.prototype.push=function(ge,be){return oe(this,ge,be,!1)},Q.prototype.unshift=function(ge,be){return oe(this,ge,be,!0)};function oe(ge,be,Ve,je){y("readableAddChunk",be);const Ye=ge._readableState;let fr;if(Ye.state&pe||(typeof be=="string"?(Ve=Ve||Ye.defaultEncoding,Ye.encoding!==Ve&&(je&&Ye.encoding?be=v.from(be,Ve).toString(Ye.encoding):(be=v.from(be,Ve),Ve=""))):be instanceof v?Ve="":g._isUint8Array(be)?(be=g._uint8ArrayToBuffer(be),Ve=""):be!=null&&(fr=new j("chunk",["string","Buffer","Uint8Array"],be))),fr)G(ge,fr);else if(be===null)Ye.state&=-9,h(ge,Ye);else if(Ye.state&pe||be&&be.length>0)if(je)if(Ye.state&de)G(ge,new M);else{if(Ye.destroyed||Ye.errored)return!1;me(ge,Ye,be,!0)}else if(Ye.ended)G(ge,new I);else{if(Ye.destroyed||Ye.errored)return!1;Ye.state&=-9,Ye.decoder&&!Ve?(be=Ye.decoder.write(be),Ye.objectMode||be.length!==0?me(ge,Ye,be,!1):te(ge,Ye)):me(ge,Ye,be,!1)}else je||(Ye.state&=-9,te(ge,Ye));return!Ye.ended&&(Ye.length<Ye.highWaterMark||Ye.length===0)}function me(ge,be,Ve,je){be.flowing&&be.length===0&&!be.sync&&ge.listenerCount("data")>0?(be.state&q?be.awaitDrainWriters.clear():be.awaitDrainWriters=null,be.dataEmitted=!0,ge.emit("data",Ve)):(be.length+=be.objectMode?1:Ve.length,je?be.buffer.unshift(Ve):be.buffer.push(Ve),be.state&W&&E(ge)),te(ge,be)}Q.prototype.isPaused=function(){const ge=this._readableState;return ge[ie]===!0||ge.flowing===!1},Q.prototype.setEncoding=function(ge){const be=new re(ge);this._readableState.decoder=be,this._readableState.encoding=this._readableState.decoder.encoding;const Ve=this._readableState.buffer;let je="";for(const Ye of Ve)je+=be.write(Ye);return Ve.clear(),je!==""&&Ve.push(je),this._readableState.length=je.length,this};const Te=1073741824;function x(ge){if(ge>Te)throw new $("size","<= 1GiB",ge);return ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++,ge}function m(ge,be){return ge<=0||be.length===0&&be.ended?0:be.state&pe?1:n(ge)?be.flowing&&be.length?be.buffer.first().length:be.length:ge<=be.length?ge:be.ended?be.length:0}Q.prototype.read=function(ge){y("read",ge),ge===void 0?ge=NaN:r(ge)||(ge=s(ge,10));const be=this._readableState,Ve=ge;if(ge>be.highWaterMark&&(be.highWaterMark=x(ge)),ge!==0&&(be.state&=-129),ge===0&&be.needReadable&&((be.highWaterMark!==0?be.length>=be.highWaterMark:be.length>0)||be.ended))return y("read: emitReadable",be.length,be.ended),be.length===0&&be.ended?Ht(this):E(this),null;if(ge=m(ge,be),ge===0&&be.ended)return be.length===0&&Ht(this),null;let je=(be.state&W)!==0;if(y("need readable",je),(be.length===0||be.length-ge<be.highWaterMark)&&(je=!0,y("length less than watermark",je)),be.ended||be.reading||be.destroyed||be.errored||!be.constructed)je=!1,y("reading, ended or constructing",je);else if(je){y("do read"),be.state|=xe|K,be.length===0&&(be.state|=W);try{this._read(be.highWaterMark)}catch(fr){G(this,fr)}be.state&=-33,be.reading||(ge=m(Ve,be))}let Ye;return ge>0?Ye=Ot(ge,be):Ye=null,Ye===null?(be.needReadable=be.length<=be.highWaterMark,ge=0):(be.length-=ge,be.multiAwaitDrain?be.awaitDrainWriters.clear():be.awaitDrainWriters=null),be.length===0&&(be.ended||(be.needReadable=!0),Ve!==ge&&be.ended&&Ht(this)),Ye!==null&&!be.errorEmitted&&!be.closeEmitted&&(be.dataEmitted=!0,this.emit("data",Ye)),Ye};function h(ge,be){if(y("onEofChunk"),!be.ended){if(be.decoder){const Ve=be.decoder.end();Ve&&Ve.length&&(be.buffer.push(Ve),be.length+=be.objectMode?1:Ve.length)}be.ended=!0,be.sync?E(ge):(be.needReadable=!1,be.emittedReadable=!0,O(ge))}}function E(ge){const be=ge._readableState;y("emitReadable",be.needReadable,be.emittedReadable),be.needReadable=!1,be.emittedReadable||(y("emitReadable",be.flowing),be.emittedReadable=!0,t.nextTick(O,ge))}function O(ge){const be=ge._readableState;y("emitReadable_",be.destroyed,be.length,be.ended),!be.destroyed&&!be.errored&&(be.length||be.ended)&&(ge.emit("readable"),be.emittedReadable=!1),be.needReadable=!be.flowing&&!be.ended&&be.length<=be.highWaterMark,He(ge)}function te(ge,be){!be.readingMore&&be.constructed&&(be.readingMore=!0,t.nextTick(he,ge,be))}function he(ge,be){for(;!be.reading&&!be.ended&&(be.length<be.highWaterMark||be.flowing&&be.length===0);){const Ve=be.length;if(y("maybeReadMore read 0"),ge.read(0),Ve===be.length)break}be.readingMore=!1}Q.prototype._read=function(ge){throw new F("_read()")},Q.prototype.pipe=function(ge,be){const Ve=this,je=this._readableState;je.pipes.length===1&&(je.multiAwaitDrain||(je.multiAwaitDrain=!0,je.awaitDrainWriters=new u(je.awaitDrainWriters?[je.awaitDrainWriters]:[]))),je.pipes.push(ge),y("pipe count=%d opts=%j",je.pipes.length,be);const fr=(!be||be.end!==!1)&&ge!==t.stdout&&ge!==t.stderr?lb:ba;je.endEmitted?t.nextTick(fr):Ve.once("end",fr),ge.on("unpipe",Jr);function Jr(fs,Kn){y("onunpipe"),fs===Ve&&Kn&&Kn.hasUnpiped===!1&&(Kn.hasUnpiped=!0,iT())}function lb(){y("onend"),ge.end()}let cs,ub=!1;function iT(){y("cleanup"),ge.removeListener("close",wf),ge.removeListener("finish",vf),cs&&ge.removeListener("drain",cs),ge.removeListener("error",yf),ge.removeListener("unpipe",Jr),Ve.removeListener("end",lb),Ve.removeListener("end",ba),Ve.removeListener("data",fb),ub=!0,cs&&je.awaitDrainWriters&&(!ge._writableState||ge._writableState.needDrain)&&cs()}function cb(){ub||(je.pipes.length===1&&je.pipes[0]===ge?(y("false write response, pause",0),je.awaitDrainWriters=ge,je.multiAwaitDrain=!1):je.pipes.length>1&&je.pipes.includes(ge)&&(y("false write response, pause",je.awaitDrainWriters.size),je.awaitDrainWriters.add(ge)),Ve.pause()),cs||(cs=Ce(Ve,ge),ge.on("drain",cs))}Ve.on("data",fb);function fb(fs){y("ondata");const Kn=ge.write(fs);y("dest.write",Kn),Kn===!1&&cb()}function yf(fs){if(y("onerror",fs),ba(),ge.removeListener("error",yf),ge.listenerCount("error")===0){const Kn=ge._writableState||ge._readableState;Kn&&!Kn.errorEmitted?G(ge,fs):ge.emit("error",fs)}}b(ge,"error",yf);function wf(){ge.removeListener("finish",vf),ba()}ge.once("close",wf);function vf(){y("onfinish"),ge.removeListener("close",wf),ba()}ge.once("finish",vf);function ba(){y("unpipe"),Ve.unpipe(ge)}return ge.emit("pipe",Ve),ge.writableNeedDrain===!0?cb():je.flowing||(y("pipe resume"),Ve.resume()),ge};function Ce(ge,be){return function(){const je=ge._readableState;je.awaitDrainWriters===be?(y("pipeOnDrain",1),je.awaitDrainWriters=null):je.multiAwaitDrain&&(y("pipeOnDrain",je.awaitDrainWriters.size),je.awaitDrainWriters.delete(be)),(!je.awaitDrainWriters||je.awaitDrainWriters.size===0)&&ge.listenerCount("data")&&ge.resume()}}Q.prototype.unpipe=function(ge){const be=this._readableState,Ve={hasUnpiped:!1};if(be.pipes.length===0)return this;if(!ge){const Ye=be.pipes;be.pipes=[],this.pause();for(let fr=0;fr<Ye.length;fr++)Ye[fr].emit("unpipe",this,{hasUnpiped:!1});return this}const je=e(be.pipes,ge);return je===-1?this:(be.pipes.splice(je,1),be.pipes.length===0&&this.pause(),ge.emit("unpipe",this,Ve),this)},Q.prototype.on=function(ge,be){const Ve=g.prototype.on.call(this,ge,be),je=this._readableState;return ge==="data"?(je.readableListening=this.listenerCount("readable")>0,je.flowing!==!1&&this.resume()):ge==="readable"&&!je.endEmitted&&!je.readableListening&&(je.readableListening=je.needReadable=!0,je.flowing=!1,je.emittedReadable=!1,y("on readable",je.length,je.reading),je.length?E(this):je.reading||t.nextTick(ze,this)),Ve},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(ge,be){const Ve=g.prototype.removeListener.call(this,ge,be);return ge==="readable"&&t.nextTick(Fe,this),Ve},Q.prototype.off=Q.prototype.removeListener,Q.prototype.removeAllListeners=function(ge){const be=g.prototype.removeAllListeners.apply(this,arguments);return(ge==="readable"||ge===void 0)&&t.nextTick(Fe,this),be};function Fe(ge){const be=ge._readableState;be.readableListening=ge.listenerCount("readable")>0,be.resumeScheduled&&be[ie]===!1?be.flowing=!0:ge.listenerCount("data")>0?ge.resume():be.readableListening||(be.flowing=null)}function ze(ge){y("readable nexttick read 0"),ge.read(0)}Q.prototype.resume=function(){const ge=this._readableState;return ge.flowing||(y("resume"),ge.flowing=!ge.readableListening,Ue(this,ge)),ge[ie]=!1,this};function Ue(ge,be){be.resumeScheduled||(be.resumeScheduled=!0,t.nextTick(qe,ge,be))}function qe(ge,be){y("resume",be.reading),be.reading||ge.read(0),be.resumeScheduled=!1,ge.emit("resume"),He(ge),be.flowing&&!be.reading&&ge.read(0)}Q.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ie]=!0,this};function He(ge){const be=ge._readableState;for(y("flow",be.flowing);be.flowing&&ge.read()!==null;);}Q.prototype.wrap=function(ge){let be=!1;ge.on("data",je=>{!this.push(je)&&ge.pause&&(be=!0,ge.pause())}),ge.on("end",()=>{this.push(null)}),ge.on("error",je=>{G(this,je)}),ge.on("close",()=>{this.destroy()}),ge.on("destroy",()=>{this.destroy()}),this._read=()=>{be&&ge.resume&&(be=!1,ge.resume())};const Ve=a(ge);for(let je=1;je<Ve.length;je++){const Ye=Ve[je];this[Ye]===void 0&&typeof ge[Ye]=="function"&&(this[Ye]=ge[Ye].bind(ge))}return this},Q.prototype[f]=function(){return yt(this)},Q.prototype.iterator=function(ge){return ge!==void 0&&J(ge,"options"),yt(this,ge)};function yt(ge,be){typeof ge.read!="function"&&(ge=Q.wrap(ge,{objectMode:!0}));const Ve=Yt(ge,be);return Ve.stream=ge,Ve}async function*Yt(ge,be){let Ve=fe;function je(Jr){this===ge?(Ve(),Ve=fe):Ve=Jr}ge.on("readable",je);let Ye;const fr=_(ge,{writable:!1},Jr=>{Ye=Jr?L(Ye,Jr):null,Ve(),Ve=fe});try{for(;;){const Jr=ge.destroyed?null:ge.read();if(Jr!==null)yield Jr;else{if(Ye)throw Ye;if(Ye===null)return;await new l(je)}}}catch(Jr){throw Ye=L(Ye,Jr),Ye}finally{(Ye||(be==null?void 0:be.destroyOnReturn)!==!1)&&(Ye===void 0||ge._readableState.autoDestroy)?T.destroyer(ge,null):(ge.off("readable",je),fr())}}i(Q.prototype,{readable:{__proto__:null,get(){const ge=this._readableState;return!!ge&&ge.readable!==!1&&!ge.destroyed&&!ge.errorEmitted&&!ge.endEmitted},set(ge){this._readableState&&(this._readableState.readable=!!ge)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ge){this._readableState&&(this._readableState.flowing=ge)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ge){this._readableState&&(this._readableState.destroyed=ge)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ie]!==!1},set(ge){this[ie]=!!ge}}}),Q._fromList=Ot;function Ot(ge,be){if(be.length===0)return null;let Ve;return be.objectMode?Ve=be.buffer.shift():!ge||ge>=be.length?(be.decoder?Ve=be.buffer.join(""):be.buffer.length===1?Ve=be.buffer.first():Ve=be.buffer.concat(be.length),be.buffer.clear()):Ve=be.buffer.consume(ge,be.decoder),Ve}function Ht(ge){const be=ge._readableState;y("endReadable",be.endEmitted),be.endEmitted||(be.ended=!0,t.nextTick(ir,be,ge))}function ir(ge,be){if(y("endReadableNT",ge.endEmitted,ge.length),!ge.errored&&!ge.closeEmitted&&!ge.endEmitted&&ge.length===0){if(ge.endEmitted=!0,be.emit("end"),be.writable&&be.allowHalfOpen===!1)t.nextTick(Kt,be);else if(ge.autoDestroy){const Ve=be._writableState;(!Ve||Ve.autoDestroy&&(Ve.finished||Ve.writable===!1))&&be.destroy()}}}function Kt(ge){ge.writable&&!ge.writableEnded&&!ge.destroyed&&ge.end()}Q.from=function(ge,be){return N(Q,ge,be)};let fo;function ma(){return fo===void 0&&(fo={}),fo}return Q.fromWeb=function(ge,be){return ma().newStreamReadableFromReadableStream(ge,be)},Q.toWeb=function(ge,be){return ma().newReadableStreamFromStreamReadable(ge,be)},Q.wrap=function(ge,be){var Ve,je;return new Q({objectMode:(Ve=(je=ge.readableObjectMode)!==null&&je!==void 0?je:ge.objectMode)!==null&&Ve!==void 0?Ve:!0,...be,destroy(Ye,fr){T.destroyer(ge,Ye),fr(Ye)}}).wrap(ge)},bd}var yd,qw;function km(){if(qw)return yd;qw=1;const t=so(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:s,ObjectDefineProperties:i,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:u}=Ft();yd=J,J.WritableState=M;const{EventEmitter:c}=ua(),f=Mm().Stream,{Buffer:d}=Qr(),p=ca(),{addAbortSignal:g}=tf(),{getHighWaterMark:b,getDefaultHighWaterMark:v}=rf(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:L,ERR_UNKNOWN_ENCODING:j}=Mr().codes,{errorOrDestroy:F}=p;a(J.prototype,f.prototype),a(J,f);function $(){}const I=l("kOnFinished");function M(P,V,R){typeof R!="boolean"&&(R=V instanceof Ti()),this.objectMode=!!(P&&P.objectMode),R&&(this.objectMode=this.objectMode||!!(P&&P.writableObjectMode)),this.highWaterMark=P?b(this,P,"writableHighWaterMark",R):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const H=!!(P&&P.decodeStrings===!1);this.decodeStrings=!H,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=G.bind(void 0,V),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,B(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!P||P.emitClose!==!1,this.autoDestroy=!P||P.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[I]=[]}function B(P){P.buffered=[],P.bufferedIndex=0,P.allBuffers=!0,P.allNoop=!0}M.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},s(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function J(P){const V=this instanceof Ti();if(!V&&!n(J,this))return new J(P);this._writableState=new M(P,this,V),P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final),typeof P.construct=="function"&&(this._construct=P.construct),P.signal&&g(P.signal,this)),f.call(this,P),p.construct(this,()=>{const R=this._writableState;R.writing||xe(this,R),D(this,R)})}s(J,u,{__proto__:null,value:function(P){return n(this,P)?!0:this!==J?!1:P&&P._writableState instanceof M}}),J.prototype.pipe=function(){F(this,new S)};function ie(P,V,R,H){const q=P._writableState;if(typeof R=="function")H=R,R=q.defaultEncoding;else{if(!R)R=q.defaultEncoding;else if(R!=="buffer"&&!d.isEncoding(R))throw new j(R);typeof H!="function"&&(H=$)}if(V===null)throw new C;if(!q.objectMode)if(typeof V=="string")q.decodeStrings!==!1&&(V=d.from(V,R),R="buffer");else if(V instanceof d)R="buffer";else if(f._isUint8Array(V))V=f._uint8ArrayToBuffer(V),R="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],V);let ue;return q.ending?ue=new L:q.destroyed&&(ue=new T("write")),ue?(t.nextTick(H,ue),F(P,ue,!0),ue):(q.pendingcb++,re(P,q,V,R,H))}J.prototype.write=function(P,V,R){return ie(this,P,V,R)===!0},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){const P=this._writableState;P.corked&&(P.corked--,P.writing||xe(this,P))},J.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=o(V)),!d.isEncoding(V))throw new j(V);return this._writableState.defaultEncoding=V,this};function re(P,V,R,H,q){const ue=V.objectMode?1:R.length;V.length+=ue;const Z=V.length<V.highWaterMark;return Z||(V.needDrain=!0),V.writing||V.corked||V.errored||!V.constructed?(V.buffered.push({chunk:R,encoding:H,callback:q}),V.allBuffers&&H!=="buffer"&&(V.allBuffers=!1),V.allNoop&&q!==$&&(V.allNoop=!1)):(V.writelen=ue,V.writecb=q,V.writing=!0,V.sync=!0,P._write(R,H,V.onwrite),V.sync=!1),Z&&!V.errored&&!V.destroyed}function N(P,V,R,H,q,ue,Z){V.writelen=H,V.writecb=Z,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new T("write")):R?P._writev(q,V.onwrite):P._write(q,ue,V.onwrite),V.sync=!1}function fe(P,V,R,H){--V.pendingcb,H(R),de(V),F(P,R)}function G(P,V){const R=P._writableState,H=R.sync,q=R.writecb;if(typeof q!="function"){F(P,new y);return}R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0,V?(V.stack,R.errored||(R.errored=V),P._readableState&&!P._readableState.errored&&(P._readableState.errored=V),H?t.nextTick(fe,P,R,V,q):fe(P,R,V,q)):(R.buffered.length>R.bufferedIndex&&xe(P,R),H?R.afterWriteTickInfo!==null&&R.afterWriteTickInfo.cb===q?R.afterWriteTickInfo.count++:(R.afterWriteTickInfo={count:1,cb:q,stream:P,state:R},t.nextTick(pe,R.afterWriteTickInfo)):U(P,R,1,q))}function pe({stream:P,state:V,count:R,cb:H}){return V.afterWriteTickInfo=null,U(P,V,R,H)}function U(P,V,R,H){for(!V.ending&&!P.destroyed&&V.length===0&&V.needDrain&&(V.needDrain=!1,P.emit("drain"));R-- >0;)V.pendingcb--,H();V.destroyed&&de(V),D(P,V)}function de(P){if(P.writing)return;for(let q=P.bufferedIndex;q<P.buffered.length;++q){var V;const{chunk:ue,callback:Z}=P.buffered[q],Y=P.objectMode?1:ue.length;P.length-=Y,Z((V=P.errored)!==null&&V!==void 0?V:new T("write"))}const R=P[I].splice(0);for(let q=0;q<R.length;q++){var H;R[q]((H=P.errored)!==null&&H!==void 0?H:new T("end"))}B(P)}function xe(P,V){if(V.corked||V.bufferProcessing||V.destroyed||!V.constructed)return;const{buffered:R,bufferedIndex:H,objectMode:q}=V,ue=R.length-H;if(!ue)return;let Z=H;if(V.bufferProcessing=!0,ue>1&&P._writev){V.pendingcb-=ue-1;const Y=V.allNoop?$:Q=>{for(let oe=Z;oe<R.length;++oe)R[oe].callback(Q)},se=V.allNoop&&Z===0?R:e(R,Z);se.allBuffers=V.allBuffers,N(P,V,!0,V.length,se,"",Y),B(V)}else{do{const{chunk:Y,encoding:se,callback:Q}=R[Z];R[Z++]=null;const oe=q?1:Y.length;N(P,V,!1,oe,Y,se,Q)}while(Z<R.length&&!V.writing);Z===R.length?B(V):Z>256?(R.splice(0,Z),V.bufferedIndex=0):V.bufferedIndex=Z}V.bufferProcessing=!1}J.prototype._write=function(P,V,R){if(this._writev)this._writev([{chunk:P,encoding:V}],R);else throw new _("_write()")},J.prototype._writev=null,J.prototype.end=function(P,V,R){const H=this._writableState;typeof P=="function"?(R=P,P=null,V=null):typeof V=="function"&&(R=V,V=null);let q;if(P!=null){const ue=ie(this,P,V);ue instanceof r&&(q=ue)}return H.corked&&(H.corked=1,this.uncork()),q||(!H.errored&&!H.ending?(H.ending=!0,D(this,H,!0),H.ended=!0):H.finished?q=new A("end"):H.destroyed&&(q=new T("end"))),typeof R=="function"&&(q||H.finished?t.nextTick(R,q):H[I].push(R)),this};function ee(P){return P.ending&&!P.destroyed&&P.constructed&&P.length===0&&!P.errored&&P.buffered.length===0&&!P.finished&&!P.writing&&!P.errorEmitted&&!P.closeEmitted}function K(P,V){let R=!1;function H(q){if(R){F(P,q??y());return}if(R=!0,V.pendingcb--,q){const ue=V[I].splice(0);for(let Z=0;Z<ue.length;Z++)ue[Z](q);F(P,q,V.sync)}else ee(V)&&(V.prefinished=!0,P.emit("prefinish"),V.pendingcb++,t.nextTick(X,P,V))}V.sync=!0,V.pendingcb++;try{P._final(H)}catch(q){H(q)}V.sync=!1}function W(P,V){!V.prefinished&&!V.finalCalled&&(typeof P._final=="function"&&!V.destroyed?(V.finalCalled=!0,K(P,V)):(V.prefinished=!0,P.emit("prefinish")))}function D(P,V,R){ee(V)&&(W(P,V),V.pendingcb===0&&(R?(V.pendingcb++,t.nextTick((H,q)=>{ee(q)?X(H,q):q.pendingcb--},P,V)):ee(V)&&(V.pendingcb++,X(P,V))))}function X(P,V){V.pendingcb--,V.finished=!0;const R=V[I].splice(0);for(let H=0;H<R.length;H++)R[H]();if(P.emit("finish"),V.autoDestroy){const H=P._readableState;(!H||H.autoDestroy&&(H.endEmitted||H.readable===!1))&&P.destroy()}}i(J.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(P){this._writableState&&(this._writableState.destroyed=P)}},writable:{__proto__:null,get(){const P=this._writableState;return!!P&&P.writable!==!1&&!P.destroyed&&!P.errored&&!P.ending&&!P.ended},set(P){this._writableState&&(this._writableState.writable=!!P)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const P=this._writableState;return P?!P.destroyed&&!P.ending&&P.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ce=p.destroy;J.prototype.destroy=function(P,V){const R=this._writableState;return!R.destroyed&&(R.bufferedIndex<R.buffered.length||R[I].length)&&t.nextTick(de,R),ce.call(this,P,V),this},J.prototype._undestroy=p.undestroy,J.prototype._destroy=function(P,V){V(P)},J.prototype[c.captureRejectionSymbol]=function(P){this.destroy(P)};let le;function k(){return le===void 0&&(le={}),le}return J.fromWeb=function(P,V){return k().newStreamWritableFromWritableStream(P,V)},J.toWeb=function(P){return k().newWritableStreamFromStreamWritable(P)},yd}var wd,Gw;function AR(){if(Gw)return wd;Gw=1;const t=so(),e=Qr(),{isReadable:r,isWritable:n,isIterable:s,isNodeStream:i,isReadableNodeStream:a,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:c}=Oi(),f=os(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=Mr(),{destroyer:b}=ca(),v=Ti(),w=nf(),_=km(),{createDeferredPromise:y}=Rr(),S=pS(),T=globalThis.Blob||e.Blob,A=typeof T<"u"?function(M){return M instanceof T}:function(M){return!1},C=globalThis.AbortController||ml().AbortController,{FunctionPrototypeCall:L}=Ft();class j extends v{constructor(M){super(M),(M==null?void 0:M.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(M==null?void 0:M.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}wd=function I(M,B){if(l(M))return M;if(a(M))return $({readable:M});if(o(M))return $({writable:M});if(i(M))return $({writable:!1,readable:!1});if(u(M))return $({readable:w.fromWeb(M)});if(c(M))return $({writable:_.fromWeb(M)});if(typeof M=="function"){const{value:ie,write:re,final:N,destroy:fe}=F(M);if(s(ie))return S(j,ie,{objectMode:!0,write:re,final:N,destroy:fe});const G=ie==null?void 0:ie.then;if(typeof G=="function"){let pe;const U=L(G,ie,de=>{if(de!=null)throw new g("nully","body",de)},de=>{b(pe,de)});return pe=new j({objectMode:!0,readable:!1,write:re,final(de){N(async()=>{try{await U,t.nextTick(de,null)}catch(xe){t.nextTick(de,xe)}})},destroy:fe})}throw new g("Iterable, AsyncIterable or AsyncFunction",B,ie)}if(A(M))return I(M.arrayBuffer());if(s(M))return S(j,M,{objectMode:!0,writable:!1});if(u(M==null?void 0:M.readable)&&c(M==null?void 0:M.writable))return j.fromWeb(M);if(typeof(M==null?void 0:M.writable)=="object"||typeof(M==null?void 0:M.readable)=="object"){const ie=M!=null&&M.readable?a(M==null?void 0:M.readable)?M==null?void 0:M.readable:I(M.readable):void 0,re=M!=null&&M.writable?o(M==null?void 0:M.writable)?M==null?void 0:M.writable:I(M.writable):void 0;return $({readable:ie,writable:re})}const J=M==null?void 0:M.then;if(typeof J=="function"){let ie;return L(J,M,re=>{re!=null&&ie.push(re),ie.push(null)},re=>{b(ie,re)}),ie=new j({objectMode:!0,writable:!1,read(){}})}throw new p(B,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],M)};function F(I){let{promise:M,resolve:B}=y();const J=new C,ie=J.signal;return{value:I(async function*(){for(;;){const N=M;M=null;const{chunk:fe,done:G,cb:pe}=await N;if(t.nextTick(pe),G)return;if(ie.aborted)throw new d(void 0,{cause:ie.reason});({promise:M,resolve:B}=y()),yield fe}}(),{signal:ie}),write(N,fe,G){const pe=B;B=null,pe({chunk:N,done:!1,cb:G})},final(N){const fe=B;B=null,fe({done:!0,cb:N})},destroy(N,fe){J.abort(),fe(N)}}}function $(I){const M=I.readable&&typeof I.readable.read!="function"?w.wrap(I.readable):I.readable,B=I.writable;let J=!!r(M),ie=!!n(B),re,N,fe,G,pe;function U(de){const xe=G;G=null,xe?xe(de):de&&pe.destroy(de)}return pe=new j({readableObjectMode:!!(M!=null&&M.readableObjectMode),writableObjectMode:!!(B!=null&&B.writableObjectMode),readable:J,writable:ie}),ie&&(f(B,de=>{ie=!1,de&&b(M,de),U(de)}),pe._write=function(de,xe,ee){B.write(de,xe)?ee():re=ee},pe._final=function(de){B.end(),N=de},B.on("drain",function(){if(re){const de=re;re=null,de()}}),B.on("finish",function(){if(N){const de=N;N=null,de()}})),J&&(f(M,de=>{J=!1,de&&b(M,de),U(de)}),M.on("readable",function(){if(fe){const de=fe;fe=null,de()}}),M.on("end",function(){pe.push(null)}),pe._read=function(){for(;;){const de=M.read();if(de===null){fe=pe._read;return}if(!pe.push(de))return}}),pe._destroy=function(de,xe){!de&&G!==null&&(de=new d),fe=null,re=null,N=null,G===null?xe(de):(G=xe,b(B,de),b(M,de))},pe}return wd}var vd,Yw;function Ti(){if(Yw)return vd;Yw=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ft();vd=a;const s=nf(),i=km();n(a.prototype,s.prototype),n(a,s);{const c=r(i.prototype);for(let f=0;f<c.length;f++){const d=c[f];a.prototype[d]||(a.prototype[d]=i.prototype[d])}}function a(c){if(!(this instanceof a))return new a(c);s.call(this,c),i.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(a.prototype,{writable:{__proto__:null,...e(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(i.prototype,"writableLength")},writableFinished:{__proto__:null,...e(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let o;function l(){return o===void 0&&(o={}),o}a.fromWeb=function(c,f){return l().newStreamDuplexFromReadableWritablePair(c,f)},a.toWeb=function(c){return l().newReadableWritablePairFromDuplex(c)};let u;return a.from=function(c){return u||(u=AR()),u(c,"body")},vd}var _d,Kw;function gS(){if(Kw)return _d;Kw=1;const{ObjectSetPrototypeOf:t,Symbol:e}=Ft();_d=a;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Mr().codes,n=Ti(),{getHighWaterMark:s}=rf();t(a.prototype,n.prototype),t(a,n);const i=e("kCallback");function a(u){if(!(this instanceof a))return new a(u);const c=u?s(this,u,"readableHighWaterMark",!0):null;c===0&&(u={...u,highWaterMark:null,readableHighWaterMark:c,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[i]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function o(u){typeof this._flush=="function"&&!this.destroyed?this._flush((c,f)=>{if(c){u?u(c):this.destroy(c);return}f!=null&&this.push(f),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==o&&o.call(this)}return a.prototype._final=o,a.prototype._transform=function(u,c,f){throw new r("_transform()")},a.prototype._write=function(u,c,f){const d=this._readableState,p=this._writableState,g=d.length;this._transform(u,c,(b,v)=>{if(b){f(b);return}v!=null&&this.push(v),p.ended||g===d.length||d.length<d.highWaterMark?f():this[i]=f})},a.prototype._read=function(){if(this[i]){const u=this[i];this[i]=null,u()}},_d}var Ed,Xw;function mS(){if(Xw)return Ed;Xw=1;const{ObjectSetPrototypeOf:t}=Ft();Ed=r;const e=gS();t(r.prototype,e.prototype),t(r,e);function r(n){if(!(this instanceof r))return new r(n);e.call(this,n)}return r.prototype._transform=function(n,s,i){i(null,n)},Ed}var Sd,Qw;function Pm(){if(Qw)return Sd;Qw=1;const t=so(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:s}=Ft(),i=os(),{once:a}=Rr(),o=ca(),l=Ti(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:b}=Mr(),{validateFunction:v,validateAbortSignal:w}=Ml(),{isIterable:_,isReadable:y,isReadableNodeStream:S,isNodeStream:T,isTransformStream:A,isWebStream:C,isReadableStream:L,isReadableFinished:j}=Oi(),F=globalThis.AbortController||ml().AbortController;let $,I,M;function B(de,xe,ee){let K=!1;de.on("close",()=>{K=!0});const W=i(de,{readable:xe,writable:ee},D=>{K=!D});return{destroy:D=>{K||(K=!0,o.destroyer(de,D||new p("pipe")))},cleanup:W}}function J(de){return v(de[de.length-1],"streams[stream.length - 1]"),de.pop()}function ie(de){if(_(de))return de;if(S(de))return re(de);throw new c("val",["Readable","Iterable","AsyncIterable"],de)}async function*re(de){I||(I=nf()),yield*I.prototype[n].call(de)}async function N(de,xe,ee,{end:K}){let W,D=null;const X=k=>{if(k&&(W=k),D){const P=D;D=null,P()}},ce=()=>new r((k,P)=>{W?P(W):D=()=>{W?P(W):k()}});xe.on("drain",X);const le=i(xe,{readable:!1},X);try{xe.writableNeedDrain&&await ce();for await(const k of de)xe.write(k)||await ce();K&&(xe.end(),await ce()),ee()}catch(k){ee(W!==k?u(W,k):k)}finally{le(),xe.off("drain",X)}}async function fe(de,xe,ee,{end:K}){A(xe)&&(xe=xe.writable);const W=xe.getWriter();try{for await(const D of de)await W.ready,W.write(D).catch(()=>{});await W.ready,K&&await W.close(),ee()}catch(D){try{await W.abort(D),ee(D)}catch(X){ee(X)}}}function G(...de){return pe(de,a(J(de)))}function pe(de,xe,ee){if(de.length===1&&e(de[0])&&(de=de[0]),de.length<2)throw new d("streams");const K=new F,W=K.signal,D=ee==null?void 0:ee.signal,X=[];w(D,"options.signal");function ce(){q(new b)}M=M||Rr().addAbortListener;let le;D&&(le=M(D,ce));let k,P;const V=[];let R=0;function H(Q){q(Q,--R===0)}function q(Q,oe){var me;if(Q&&(!k||k.code==="ERR_STREAM_PREMATURE_CLOSE")&&(k=Q),!(!k&&!oe)){for(;V.length;)V.shift()(k);(me=le)===null||me===void 0||me[s](),K.abort(),oe&&(k||X.forEach(Te=>Te()),t.nextTick(xe,k,P))}}let ue;for(let Q=0;Q<de.length;Q++){const oe=de[Q],me=Q<de.length-1,Te=Q>0,x=me||(ee==null?void 0:ee.end)!==!1,m=Q===de.length-1;if(T(oe)){let h=function(E){E&&E.name!=="AbortError"&&E.code!=="ERR_STREAM_PREMATURE_CLOSE"&&H(E)};var se=h;if(x){const{destroy:E,cleanup:O}=B(oe,me,Te);V.push(E),y(oe)&&m&&X.push(O)}oe.on("error",h),y(oe)&&m&&X.push(()=>{oe.removeListener("error",h)})}if(Q===0)if(typeof oe=="function"){if(ue=oe({signal:W}),!_(ue))throw new f("Iterable, AsyncIterable or Stream","source",ue)}else _(oe)||S(oe)||A(oe)?ue=oe:ue=l.from(oe);else if(typeof oe=="function"){if(A(ue)){var Z;ue=ie((Z=ue)===null||Z===void 0?void 0:Z.readable)}else ue=ie(ue);if(ue=oe(ue,{signal:W}),me){if(!_(ue,!0))throw new f("AsyncIterable",`transform[${Q-1}]`,ue)}else{var Y;$||($=mS());const h=new $({objectMode:!0}),E=(Y=ue)===null||Y===void 0?void 0:Y.then;if(typeof E=="function")R++,E.call(ue,he=>{P=he,he!=null&&h.write(he),x&&h.end(),t.nextTick(H)},he=>{h.destroy(he),t.nextTick(H,he)});else if(_(ue,!0))R++,N(ue,h,H,{end:x});else if(L(ue)||A(ue)){const he=ue.readable||ue;R++,N(he,h,H,{end:x})}else throw new f("AsyncIterable or Promise","destination",ue);ue=h;const{destroy:O,cleanup:te}=B(ue,!1,!0);V.push(O),m&&X.push(te)}}else if(T(oe)){if(S(ue)){R+=2;const h=U(ue,oe,H,{end:x});y(oe)&&m&&X.push(h)}else if(A(ue)||L(ue)){const h=ue.readable||ue;R++,N(h,oe,H,{end:x})}else if(_(ue))R++,N(ue,oe,H,{end:x});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=oe}else if(C(oe)){if(S(ue))R++,fe(ie(ue),oe,H,{end:x});else if(L(ue)||_(ue))R++,fe(ue,oe,H,{end:x});else if(A(ue))R++,fe(ue.readable,oe,H,{end:x});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=oe}else ue=l.from(oe)}return(W!=null&&W.aborted||D!=null&&D.aborted)&&t.nextTick(ce),ue}function U(de,xe,ee,{end:K}){let W=!1;if(xe.on("close",()=>{W||ee(new g)}),de.pipe(xe,{end:!1}),K){let X=function(){W=!0,xe.end()};var D=X;j(de)?t.nextTick(X):de.once("end",X)}else ee();return i(de,{readable:!0,writable:!1},X=>{const ce=de._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&ce&&ce.ended&&!ce.errored&&!ce.errorEmitted?de.once("end",ee).once("error",ee):ee(X)}),i(xe,{readable:!1,writable:!0},ee)}return Sd={pipelineImpl:pe,pipeline:G},Sd}var xd,Jw;function bS(){if(Jw)return xd;Jw=1;const{pipeline:t}=Pm(),e=Ti(),{destroyer:r}=ca(),{isNodeStream:n,isReadable:s,isWritable:i,isWebStream:a,isTransformStream:o,isWritableStream:l,isReadableStream:u}=Oi(),{AbortError:c,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:d}}=Mr(),p=os();return xd=function(...b){if(b.length===0)throw new d("streams");if(b.length===1)return e.from(b[0]);const v=[...b];if(typeof b[0]=="function"&&(b[0]=e.from(b[0])),typeof b[b.length-1]=="function"){const $=b.length-1;b[$]=e.from(b[$])}for(let $=0;$<b.length;++$)if(!(!n(b[$])&&!a(b[$]))){if($<b.length-1&&!(s(b[$])||u(b[$])||o(b[$])))throw new f(`streams[${$}]`,v[$],"must be readable");if($>0&&!(i(b[$])||l(b[$])||o(b[$])))throw new f(`streams[${$}]`,v[$],"must be writable")}let w,_,y,S,T;function A($){const I=S;S=null,I?I($):$?T.destroy($):!F&&!j&&T.destroy()}const C=b[0],L=t(b,A),j=!!(i(C)||l(C)||o(C)),F=!!(s(L)||u(L)||o(L));if(T=new e({writableObjectMode:!!(C!=null&&C.writableObjectMode),readableObjectMode:!!(L!=null&&L.readableObjectMode),writable:j,readable:F}),j){if(n(C))T._write=function(I,M,B){C.write(I,M)?B():w=B},T._final=function(I){C.end(),_=I},C.on("drain",function(){if(w){const I=w;w=null,I()}});else if(a(C)){const M=(o(C)?C.writable:C).getWriter();T._write=async function(B,J,ie){try{await M.ready,M.write(B).catch(()=>{}),ie()}catch(re){ie(re)}},T._final=async function(B){try{await M.ready,M.close().catch(()=>{}),_=B}catch(J){B(J)}}}const $=o(L)?L.readable:L;p($,()=>{if(_){const I=_;_=null,I()}})}if(F){if(n(L))L.on("readable",function(){if(y){const $=y;y=null,$()}}),L.on("end",function(){T.push(null)}),T._read=function(){for(;;){const $=L.read();if($===null){y=T._read;return}if(!T.push($))return}};else if(a(L)){const I=(o(L)?L.readable:L).getReader();T._read=async function(){for(;;)try{const{value:M,done:B}=await I.read();if(!T.push(M))return;if(B){T.push(null);return}}catch{return}}}}return T._destroy=function($,I){!$&&S!==null&&($=new c),y=null,w=null,_=null,S===null?I($):(S=I,n(L)&&r(L,$))},T},xd}var Zw;function CR(){if(Zw)return iu;Zw=1;const t=globalThis.AbortController||ml().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:s},AbortError:i}=Mr(),{validateAbortSignal:a,validateInteger:o,validateObject:l}=Ml(),u=Ft().Symbol("kWeak"),c=Ft().Symbol("kResistStopPropagation"),{finished:f}=os(),d=bS(),{addAbortSignalNoValidate:p}=tf(),{isWritable:g,isNodeStream:b}=Oi(),{deprecate:v}=Rr(),{ArrayPrototypePush:w,Boolean:_,MathFloor:y,Number:S,NumberIsNaN:T,Promise:A,PromiseReject:C,PromiseResolve:L,PromisePrototypeThen:j,Symbol:F}=Ft(),$=F("kEmpty"),I=F("kEof");function M(D,X){if(X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&a(X.signal,"options.signal"),b(D)&&!g(D))throw new e("stream",D,"must be writable");const ce=d(this,D);return X!=null&&X.signal&&p(X.signal,ce),ce}function B(D,X){if(typeof D!="function")throw new r("fn",["Function","AsyncFunction"],D);X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&a(X.signal,"options.signal");let ce=1;(X==null?void 0:X.concurrency)!=null&&(ce=y(X.concurrency));let le=ce-1;return(X==null?void 0:X.highWaterMark)!=null&&(le=y(X.highWaterMark)),o(ce,"options.concurrency",1),o(le,"options.highWaterMark",0),le+=ce,(async function*(){const P=Rr().AbortSignalAny([X==null?void 0:X.signal].filter(_)),V=this,R=[],H={signal:P};let q,ue,Z=!1,Y=0;function se(){Z=!0,Q()}function Q(){Y-=1,oe()}function oe(){ue&&!Z&&Y<ce&&R.length<le&&(ue(),ue=null)}async function me(){try{for await(let Te of V){if(Z)return;if(P.aborted)throw new i;try{if(Te=D(Te,H),Te===$)continue;Te=L(Te)}catch(x){Te=C(x)}Y+=1,j(Te,Q,se),R.push(Te),q&&(q(),q=null),!Z&&(R.length>=le||Y>=ce)&&await new A(x=>{ue=x})}R.push(I)}catch(Te){const x=C(Te);j(x,Q,se),R.push(x)}finally{Z=!0,q&&(q(),q=null)}}me();try{for(;;){for(;R.length>0;){const Te=await R[0];if(Te===I)return;if(P.aborted)throw new i;Te!==$&&(yield Te),R.shift(),oe()}await new A(Te=>{q=Te})}}finally{Z=!0,ue&&(ue(),ue=null)}}).call(this)}function J(D=void 0){return D!=null&&l(D,"options"),(D==null?void 0:D.signal)!=null&&a(D.signal,"options.signal"),(async function*(){let ce=0;for await(const k of this){var le;if(D!=null&&(le=D.signal)!==null&&le!==void 0&&le.aborted)throw new i({cause:D.signal.reason});yield[ce++,k]}}).call(this)}async function ie(D,X=void 0){for await(const ce of G.call(this,D,X))return!0;return!1}async function re(D,X=void 0){if(typeof D!="function")throw new r("fn",["Function","AsyncFunction"],D);return!await ie.call(this,async(...ce)=>!await D(...ce),X)}async function N(D,X){for await(const ce of G.call(this,D,X))return ce}async function fe(D,X){if(typeof D!="function")throw new r("fn",["Function","AsyncFunction"],D);async function ce(le,k){return await D(le,k),$}for await(const le of B.call(this,ce,X));}function G(D,X){if(typeof D!="function")throw new r("fn",["Function","AsyncFunction"],D);async function ce(le,k){return await D(le,k)?le:$}return B.call(this,ce,X)}class pe extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function U(D,X,ce){var le;if(typeof D!="function")throw new r("reducer",["Function","AsyncFunction"],D);ce!=null&&l(ce,"options"),(ce==null?void 0:ce.signal)!=null&&a(ce.signal,"options.signal");let k=arguments.length>1;if(ce!=null&&(le=ce.signal)!==null&&le!==void 0&&le.aborted){const q=new i(void 0,{cause:ce.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(q)),q}const P=new t,V=P.signal;if(ce!=null&&ce.signal){const q={once:!0,[u]:this,[c]:!0};ce.signal.addEventListener("abort",()=>P.abort(),q)}let R=!1;try{for await(const q of this){var H;if(R=!0,ce!=null&&(H=ce.signal)!==null&&H!==void 0&&H.aborted)throw new i;k?X=await D(X,q,{signal:V}):(X=q,k=!0)}if(!R&&!k)throw new pe}finally{P.abort()}return X}async function de(D){D!=null&&l(D,"options"),(D==null?void 0:D.signal)!=null&&a(D.signal,"options.signal");const X=[];for await(const le of this){var ce;if(D!=null&&(ce=D.signal)!==null&&ce!==void 0&&ce.aborted)throw new i(void 0,{cause:D.signal.reason});w(X,le)}return X}function xe(D,X){const ce=B.call(this,D,X);return(async function*(){for await(const k of ce)yield*k}).call(this)}function ee(D){if(D=S(D),T(D))return 0;if(D<0)throw new s("number",">= 0",D);return D}function K(D,X=void 0){return X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&a(X.signal,"options.signal"),D=ee(D),(async function*(){var le;if(X!=null&&(le=X.signal)!==null&&le!==void 0&&le.aborted)throw new i;for await(const P of this){var k;if(X!=null&&(k=X.signal)!==null&&k!==void 0&&k.aborted)throw new i;D--<=0&&(yield P)}}).call(this)}function W(D,X=void 0){return X!=null&&l(X,"options"),(X==null?void 0:X.signal)!=null&&a(X.signal,"options.signal"),D=ee(D),(async function*(){var le;if(X!=null&&(le=X.signal)!==null&&le!==void 0&&le.aborted)throw new i;for await(const P of this){var k;if(X!=null&&(k=X.signal)!==null&&k!==void 0&&k.aborted)throw new i;if(D-- >0&&(yield P),D<=0)return}}).call(this)}return iu.streamReturningOperators={asIndexedPairs:v(J,"readable.asIndexedPairs will be removed in a future version."),drop:K,filter:G,flatMap:xe,map:B,take:W,compose:M},iu.promiseReturningOperators={every:re,forEach:fe,reduce:U,toArray:de,some:ie,find:N},iu}var Td,ev;function yS(){if(ev)return Td;ev=1;const{ArrayPrototypePop:t,Promise:e}=Ft(),{isIterable:r,isNodeStream:n,isWebStream:s}=Oi(),{pipelineImpl:i}=Pm(),{finished:a}=os();wS();function o(...l){return new e((u,c)=>{let f,d;const p=l[l.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!s(p)){const g=t(l);f=g.signal,d=g.end}i(l,(g,b)=>{g?c(g):u(b)},{signal:f,end:d})})}return Td={finished:a,pipeline:o},Td}var tv;function wS(){if(tv)return td.exports;tv=1;const{Buffer:t}=Qr(),{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=Ft(),{promisify:{custom:s}}=Rr(),{streamReturningOperators:i,promiseReturningOperators:a}=CR(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=Mr(),l=bS(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=rf(),{pipeline:f}=Pm(),{destroyer:d}=ca(),p=os(),g=yS(),b=Oi(),v=td.exports=Mm().Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=nf();for(const y of r(i)){let T=function(...A){if(new.target)throw o();return v.Readable.from(n(S,this,A))};var _=T;const S=i[y];e(T,"name",{__proto__:null,value:S.name}),e(T,"length",{__proto__:null,value:S.length}),e(v.Readable.prototype,y,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(const y of r(a)){let T=function(...C){if(new.target)throw o();return n(S,this,C)};var _=T;const S=a[y];e(T,"name",{__proto__:null,value:S.name}),e(T,"length",{__proto__:null,value:S.length}),e(v.Readable.prototype,y,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}v.Writable=km(),v.Duplex=Ti(),v.Transform=gS(),v.PassThrough=mS(),v.pipeline=f;const{addAbortSignal:w}=tf();return v.addAbortSignal=w,v.finished=p,v.destroy=d,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=c,e(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),e(f,s,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),e(p,s,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(S){return S instanceof Uint8Array},v._uint8ArrayToBuffer=function(S){return t.from(S.buffer,S.byteOffset,S.byteLength)},td.exports}var rv;function IR(){return rv||(rv=1,function(t){const e=wS(),r=yS(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(ed)),ed.exports}var au={exports:{}},nv;function MR(){return nv||(nv=1,typeof Object.create=="function"?au.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:au.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),au.exports}var Ad,iv;function kR(){if(iv)return Ad;iv=1;const{Buffer:t}=Qr(),e=Symbol.for("BufferList");function r(n){if(!(this instanceof r))return new r(n);r._init.call(this,n)}return r._init=function(s){Object.defineProperty(this,e,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},r.prototype._new=function(s){return new r(s)},r.prototype._offset=function(s){if(s===0)return[0,0];let i=0;for(let a=0;a<this._bufs.length;a++){const o=i+this._bufs[a].length;if(s<o||a===this._bufs.length-1)return[a,s-i];i=o}},r.prototype._reverseOffset=function(n){const s=n[0];let i=n[1];for(let a=0;a<s;a++)i+=this._bufs[a].length;return i},r.prototype.get=function(s){if(s>this.length||s<0)return;const i=this._offset(s);return this._bufs[i[0]][i[1]]},r.prototype.slice=function(s,i){return typeof s=="number"&&s<0&&(s+=this.length),typeof i=="number"&&i<0&&(i+=this.length),this.copy(null,0,s,i)},r.prototype.copy=function(s,i,a,o){if((typeof a!="number"||a<0)&&(a=0),(typeof o!="number"||o>this.length)&&(o=this.length),a>=this.length||o<=0)return s||t.alloc(0);const l=!!s,u=this._offset(a),c=o-a;let f=c,d=l&&i||0,p=u[1];if(a===0&&o===this.length){if(!l)return this._bufs.length===1?this._bufs[0]:t.concat(this._bufs,this.length);for(let g=0;g<this._bufs.length;g++)this._bufs[g].copy(s,d),d+=this._bufs[g].length;return s}if(f<=this._bufs[u[0]].length-p)return l?this._bufs[u[0]].copy(s,i,p,p+f):this._bufs[u[0]].slice(p,p+f);l||(s=t.allocUnsafe(c));for(let g=u[0];g<this._bufs.length;g++){const b=this._bufs[g].length-p;if(f>b)this._bufs[g].copy(s,d,p),d+=b;else{this._bufs[g].copy(s,d,p,p+f),d+=b;break}f-=b,p&&(p=0)}return s.length>d?s.slice(0,d):s},r.prototype.shallowSlice=function(s,i){if(s=s||0,i=typeof i!="number"?this.length:i,s<0&&(s+=this.length),i<0&&(i+=this.length),s===i)return this._new();const a=this._offset(s),o=this._offset(i),l=this._bufs.slice(a[0],o[0]+1);return o[1]===0?l.pop():l[l.length-1]=l[l.length-1].slice(0,o[1]),a[1]!==0&&(l[0]=l[0].slice(a[1])),this._new(l)},r.prototype.toString=function(s,i,a){return this.slice(i,a).toString(s)},r.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},r.prototype.duplicate=function(){const s=this._new();for(let i=0;i<this._bufs.length;i++)s.append(this._bufs[i]);return s},r.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(t.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let i=0;i<s.length;i++)this.append(s[i]);else if(this._isBufferList(s))for(let i=0;i<s._bufs.length;i++)this.append(s._bufs[i]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(t.from(s));return this},r.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},r.prototype.indexOf=function(n,s,i){if(i===void 0&&typeof s=="string"&&(i=s,s=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=t.from([n]):typeof n=="string"?n=t.from(n,i):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=t.from(n.buffer,n.byteOffset,n.byteLength):t.isBuffer(n)||(n=t.from(n)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),n.length===0)return s>this.length?this.length:s;const a=this._offset(s);let o=a[0],l=a[1];for(;o<this._bufs.length;o++){const u=this._bufs[o];for(;l<u.length;)if(u.length-l>=n.length){const f=u.indexOf(n,l);if(f!==-1)return this._reverseOffset([o,f]);l=u.length-n.length+1}else{const f=this._reverseOffset([o,l]);if(this._match(f,n))return f;l++}l=0}return-1},r.prototype._match=function(n,s){if(this.length-n<s.length)return!1;for(let i=0;i<s.length;i++)if(this.get(n+i)!==s[i])return!1;return!0},function(){const n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const s in n)(function(i){n[i]===null?r.prototype[i]=function(a,o){return this.slice(a,a+o)[i](0,o)}:r.prototype[i]=function(a=0){return this.slice(a,a+n[i])[i](0)}})(s)}(),r.prototype._isBufferList=function(s){return s instanceof r||r.isBufferList(s)},r.isBufferList=function(s){return s!=null&&s[e]},Ad=r,Ad}var sv;function PR(){if(sv)return Pa.exports;sv=1;const t=IR().Duplex,e=MR(),r=kR();function n(s){if(!(this instanceof n))return new n(s);if(typeof s=="function"){this._callback=s;const i=(function(o){this._callback&&(this._callback(o),this._callback=null)}).bind(this);this.on("pipe",function(o){o.on("error",i)}),this.on("unpipe",function(o){o.removeListener("error",i)}),s=null}r._init.call(this,s),t.call(this)}return e(n,t),Object.assign(n.prototype,r.prototype),n.prototype._new=function(i){return new n(i)},n.prototype._write=function(i,a,o){this._appendBuffer(i),typeof o=="function"&&o()},n.prototype._read=function(i){if(!this.length)return this.push(null);i=Math.min(i,this.length),this.push(this.slice(0,i)),this.consume(i)},n.prototype.end=function(i){t.prototype.end.call(this,i),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(i,a){this._bufs.length=0,this.length=0,a(i)},n.prototype._isBufferList=function(i){return i instanceof n||i instanceof r||n.isBufferList(i)},n.isBufferList=r.isBufferList,Pa.exports=n,Pa.exports.BufferListStream=n,Pa.exports.BufferList=r,Pa.exports}var Cd,ov;function OR(){if(ov)return Cd;ov=1;class t{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}return Cd=t,Cd}var Id={exports:{}},av;function vS(){return av||(av=1,function(t){const e=t.exports,{Buffer:r}=Qr();e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(const s in e.requiredHeaderFlags){const i=e.requiredHeaderFlags[s];e.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+i.toString(16)+" for "+e.types[s]+" packet"}e.codes={};for(const s in e.types){const i=e.types[s];e.codes[i]=s}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=r.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=r.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=r.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(const s in e.properties){const i=e.properties[s];e.propertiesCodes[i]=s}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function n(s){return[0,1,2].map(i=>[0,1].map(a=>[0,1].map(o=>{const l=r.alloc(1);return l.writeUInt8(e.codes[s]<<e.CMD_SHIFT|(a?e.DUP_MASK:0)|i<<e.QOS_SHIFT|o,0,!0),l})))}e.PUBLISH_HEADER=n("publish"),e.SUBSCRIBE_HEADER=n("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=n("unsubscribe"),e.ACKS={unsuback:n("unsuback"),puback:n("puback"),pubcomp:n("pubcomp"),pubrel:n("pubrel"),pubrec:n("pubrec")},e.SUBACK_HEADER=r.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=r.from([3]),e.VERSION4=r.from([4]),e.VERSION5=r.from([5]),e.VERSION131=r.from([131]),e.VERSION132=r.from([132]),e.QOS=[0,1,2].map(s=>r.from([s])),e.EMPTY={pingreq:r.from([e.codes.pingreq<<4,0]),pingresp:r.from([e.codes.pingresp<<4,0]),disconnect:r.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}(Id)),Id.exports}function _S(){throw new Error("setTimeout has not been defined")}function ES(){throw new Error("clearTimeout has not been defined")}var Ui=_S,Fi=ES;typeof zs.setTimeout=="function"&&(Ui=setTimeout);typeof zs.clearTimeout=="function"&&(Fi=clearTimeout);function SS(t){if(Ui===setTimeout)return setTimeout(t,0);if((Ui===_S||!Ui)&&setTimeout)return Ui=setTimeout,setTimeout(t,0);try{return Ui(t,0)}catch{try{return Ui.call(null,t,0)}catch{return Ui.call(this,t,0)}}}function LR(t){if(Fi===clearTimeout)return clearTimeout(t);if((Fi===ES||!Fi)&&clearTimeout)return Fi=clearTimeout,clearTimeout(t);try{return Fi(t)}catch{try{return Fi.call(null,t)}catch{return Fi.call(this,t)}}}var pi=[],Do=!1,Ps,Vu=-1;function RR(){!Do||!Ps||(Do=!1,Ps.length?pi=Ps.concat(pi):Vu=-1,pi.length&&xS())}function xS(){if(!Do){var t=SS(RR);Do=!0;for(var e=pi.length;e;){for(Ps=pi,pi=[];++Vu<e;)Ps&&Ps[Vu].run();Vu=-1,e=pi.length}Ps=null,Do=!1,LR(t)}}function BR(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];pi.push(new TS(t,e)),pi.length===1&&!Do&&SS(xS)}function TS(t,e){this.fun=t,this.array=e}TS.prototype.run=function(){this.fun.apply(null,this.array)};var $R="browser",NR="browser",DR=!0,UR={},FR=[],VR="",jR={},WR={},zR={};function oo(){}var HR=oo,qR=oo,GR=oo,YR=oo,KR=oo,XR=oo,QR=oo;function JR(t){throw new Error("process.binding is not supported")}function ZR(){return"/"}function eB(t){throw new Error("process.chdir is not supported")}function tB(){return 0}var _o=zs.performance||{},rB=_o.now||_o.mozNow||_o.msNow||_o.oNow||_o.webkitNow||function(){return new Date().getTime()};function nB(t){var e=rB.call(_o)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var iB=new Date;function sB(){var t=new Date,e=t-iB;return e/1e3}var Dr={nextTick:BR,title:$R,browser:DR,env:UR,argv:FR,version:VR,versions:jR,on:HR,addListener:qR,once:GR,off:YR,removeListener:KR,removeAllListeners:XR,emit:QR,binding:JR,cwd:ZR,chdir:eB,umask:tB,hrtime:nB,platform:NR,release:WR,config:zR,uptime:sB},lu={exports:{}},Md,lv;function oB(){if(lv)return Md;lv=1;var t=1e3,e=t*60,r=e*60,n=r*24,s=n*7,i=n*365.25;Md=function(c,f){f=f||{};var d=typeof c;if(d==="string"&&c.length>0)return a(c);if(d==="number"&&isFinite(c))return f.long?l(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function a(c){if(c=String(c),!(c.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(f){var d=parseFloat(f[1]),p=(f[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*i;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function o(c){var f=Math.abs(c);return f>=n?Math.round(c/n)+"d":f>=r?Math.round(c/r)+"h":f>=e?Math.round(c/e)+"m":f>=t?Math.round(c/t)+"s":c+"ms"}function l(c){var f=Math.abs(c);return f>=n?u(c,f,n,"day"):f>=r?u(c,f,r,"hour"):f>=e?u(c,f,e,"minute"):f>=t?u(c,f,t,"second"):c+" ms"}function u(c,f,d,p){var g=f>=d*1.5;return Math.round(c/d)+" "+p+(g?"s":"")}return Md}var kd,uv;function aB(){if(uv)return kd;uv=1;function t(e){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=l,n.humanize=oB(),n.destroy=c,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let d=0;for(let p=0;p<f.length;p++)d=(d<<5)-d+f.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=r;function n(f){let d,p=null,g,b;function v(...w){if(!v.enabled)return;const _=v,y=Number(new Date),S=y-(d||y);_.diff=S,_.prev=d,_.curr=y,d=y,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let T=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(C,L)=>{if(C==="%%")return"%";T++;const j=n.formatters[L];if(typeof j=="function"){const F=w[T];C=j.call(_,F),w.splice(T,1),T--}return C}),n.formatArgs.call(_,w),(_.log||n.log).apply(_,w)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=s,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==n.namespaces&&(g=n.namespaces,b=n.enabled(f)),b),set:w=>{p=w}}),typeof n.init=="function"&&n.init(v),v}function s(f,d){const p=n(this.namespace+(typeof d>"u"?":":d)+f);return p.log=this.log,p}function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const d=(typeof f=="string"?f:"").trim().replace(" ",",").split(",").filter(Boolean);for(const p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}function a(f,d){let p=0,g=0,b=-1,v=0;for(;p<f.length;)if(g<d.length&&(d[g]===f[p]||d[g]==="*"))d[g]==="*"?(b=g,v=p,g++):(p++,g++);else if(b!==-1)g=b+1,v++,p=v;else return!1;for(;g<d.length&&d[g]==="*";)g++;return g===d.length}function o(){const f=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),f}function l(f){for(const d of n.skips)if(a(f,d))return!1;for(const d of n.names)if(a(f,d))return!0;return!1}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return kd=t,kd}var cv;function AS(){return cv||(cv=1,function(t,e){var r={};e.formatArgs=s,e.save=i,e.load=a,e.useColors=n,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;u.splice(1,0,c,"color: inherit");let f=0,d=0;u[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(d=f))}),u.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function a(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof Dr<"u"&&"env"in Dr&&(u=r.DEBUG),u}function o(){try{return localStorage}catch{}}t.exports=aB()(e);const{formatters:l}=t.exports;l.j=function(u){try{return JSON.stringify(u)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}(lu,lu.exports)),lu.exports}var Pd,fv;function lB(){if(fv)return Pd;fv=1;const t=PR(),{EventEmitter:e}=ua(),r=OR(),n=vS(),s=AS()("mqtt-packet:parser");class i extends e{constructor(){super(),this.parser=this.constructor.parser}static parser(o){return this instanceof i?(this.settings=o||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new i().parser(o)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new r,this.error=null,this._list=t(),this._stateCounter=0}parse(o){for(this.error&&this._resetState(),this._list.append(o),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const o=this._list.readUInt8(0),l=o>>n.CMD_SHIFT;this.packet.cmd=n.types[l];const u=o&15,c=n.requiredHeaderFlags[l];return c!=null&&u!==c?this._emitError(new Error(n.requiredHeaderFlagsErrors[l])):(this.packet.retain=(o&n.RETAIN_MASK)!==0,this.packet.qos=o>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(o&n.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){const o=this._parseVarByteNum(!0);return o&&(this.packet.length=o.value,this._list.consume(o.bytes)),s("_parseLength %d",o.value),!!o}_parsePayload(){s("_parsePayload: payload %O",this._list);let o=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}o=!0}return s("_parsePayload complete result: %s",o),o}_parseConnect(){s("_parseConnect");let o,l,u,c;const f={},d=this.packet,p=this._parseString();if(p===null)return this._emitError(new Error("Cannot parse protocolId"));if(p!=="MQTT"&&p!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(d.protocolId=p,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(d.protocolVersion=this._list.readUInt8(this._pos),d.protocolVersion>=128&&(d.bridgeMode=!0,d.protocolVersion=d.protocolVersion-128),d.protocolVersion!==3&&d.protocolVersion!==4&&d.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));f.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,f.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,f.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;const g=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),b=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(f.will)d.will={},d.will.retain=g,d.will.qos=b;else{if(g)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(b)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(d.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,d.keepalive=this._parseNum(),d.keepalive===-1)return this._emitError(new Error("Packet too short"));if(d.protocolVersion===5){const w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(d.properties=w)}const v=this._parseString();if(v===null)return this._emitError(new Error("Packet too short"));if(d.clientId=v,s("_parseConnect: packet.clientId: %s",d.clientId),f.will){if(d.protocolVersion===5){const w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(d.will.properties=w)}if(o=this._parseString(),o===null)return this._emitError(new Error("Cannot parse will topic"));if(d.will.topic=o,s("_parseConnect: packet.will.topic: %s",d.will.topic),l=this._parseBuffer(),l===null)return this._emitError(new Error("Cannot parse will payload"));d.will.payload=l,s("_parseConnect: packet.will.paylaod: %s",d.will.payload)}if(f.username){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse username"));d.username=c,s("_parseConnect: packet.username: %s",d.username)}if(f.password){if(u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse password"));d.password=u}return this.settings=d,s("_parseConnect: complete"),d}_parseConnack(){s("_parseConnack");const o=this.packet;if(this._list.length<1)return null;const l=this._list.readUInt8(this._pos++);if(l>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(o.sessionPresent=!!(l&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?o.reasonCode=this._list.readUInt8(this._pos++):o.reasonCode=0;else{if(this._list.length<2)return null;o.returnCode=this._list.readUInt8(this._pos++)}if(o.returnCode===-1||o.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const u=this._parseProperties();Object.getOwnPropertyNames(u).length&&(o.properties=u)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");const o=this.packet;if(o.topic=this._parseString(),o.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(o.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}o.payload=this._list.slice(this._pos,o.length),s("_parsePublish: payload from buffer list: %o",o.payload)}}_parseSubscribe(){s("_parseSubscribe");const o=this.packet;let l,u,c,f,d,p,g;if(o.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(o.properties=b)}if(o.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<o.length;){if(l=this._parseString(),l===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=o.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(u=this._parseByte(),this.settings.protocolVersion===5){if(u&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(u&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(c=u&n.SUBSCRIBE_OPTIONS_QOS_MASK,c>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(p=(u>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,d=(u>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,f=u>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,f>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));g={topic:l,qos:c},this.settings.protocolVersion===5?(g.nl=p,g.rap=d,g.rh=f):this.settings.bridgeMode&&(g.rh=0,g.rap=!0,g.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",g),o.subscriptions.push(g)}}}_parseSuback(){s("_parseSuback");const o=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}if(o.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){const l=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[l])return this._emitError(new Error("Invalid suback code"))}else if(l>2&&l!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(l)}}}_parseUnsubscribe(){s("_parseUnsubscribe");const o=this.packet;if(o.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}if(o.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<o.length;){const l=this._parseString();if(l===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",l),o.unsubscriptions.push(l)}}}_parseUnsuback(){s("_parseUnsuback");const o=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&o.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(o.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){const l=this._parseProperties();for(Object.getOwnPropertyNames(l).length&&(o.properties=l),o.granted=[];this._pos<this.packet.length;){const u=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[u])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(u)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const o=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(o.length>2){switch(o.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[o.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[o.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",o.reasonCode)}else o.reasonCode=0;if(o.length>3){const l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}}return!0}_parseDisconnect(){const o=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(o.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[o.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):o.reasonCode=0;const l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(o.properties=l)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");const o=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(o.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[o.reasonCode])return this._emitError(new Error("Invalid auth reason code"));const l=this._parseProperties();return Object.getOwnPropertyNames(l).length&&(o.properties=l),s("_parseAuth: result: true"),!0}_parseMessageId(){const o=this.packet;return o.messageId=this._parseNum(),o.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",o.messageId),!0)}_parseString(o){const l=this._parseNum(),u=l+this._pos;if(l===-1||u>this._list.length||u>this.packet.length)return null;const c=this._list.toString("utf8",this._pos,u);return this._pos+=l,s("_parseString: result: %s",c),c}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const o=this._parseNum(),l=o+this._pos;if(o===-1||l>this._list.length||l>this.packet.length)return null;const u=this._list.slice(this._pos,l);return this._pos+=o,s("_parseBuffer: result: %o",u),u}_parseNum(){if(this._list.length-this._pos<2)return-1;const o=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",o),o}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const o=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",o),o}_parseVarByteNum(o){s("_parseVarByteNum");const l=4;let u=0,c=1,f=0,d=!1,p;const g=this._pos?this._pos:0;for(;u<l&&g+u<this._list.length;){if(p=this._list.readUInt8(g+u++),f+=c*(p&n.VARBYTEINT_MASK),c*=128,!(p&n.VARBYTEINT_FIN_MASK)){d=!0;break}if(this._list.length<=u)break}return!d&&u===l&&this._list.length>=u&&this._emitError(new Error("Invalid variable byte integer")),g&&(this._pos+=u),d?o?d={bytes:u,value:f}:d=f:d=!1,s("_parseVarByteNum: result: %o",d),d}_parseByte(){let o;return this._pos<this._list.length&&(o=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",o),o}_parseByType(o){switch(s("_parseByType: type: %s",o),o){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");const o=this._parseVarByteNum(),u=this._pos+o,c={};for(;this._pos<u;){const f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;const d=n.propertiesCodes[f];if(!d)return this._emitError(new Error("Unknown property")),!1;if(d==="userProperties"){c[d]||(c[d]=Object.create(null));const p=this._parseByType(n.propertiesTypes[d]);if(c[d][p.name])if(Array.isArray(c[d][p.name]))c[d][p.name].push(p.value);else{const g=c[d][p.name];c[d][p.name]=[g],c[d][p.name].push(p.value)}else c[d][p.name]=p.value;continue}c[d]?Array.isArray(c[d])?c[d].push(this._parseByType(n.propertiesTypes[d])):(c[d]=[c[d]],c[d].push(this._parseByType(n.propertiesTypes[d]))):c[d]=this._parseByType(n.propertiesTypes[d])}return c}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new r,this._pos=0,!0}_emitError(o){s("_emitError",o),this.error=o,this.emit("error",o)}}return Pd=i,Pd}var Od,dv;function uB(){if(dv)return Od;dv=1;const{Buffer:t}=Qr(),e=65536,r={},n=t.isBuffer(t.from([1,2]).subarray(0,1));function s(l){const u=t.allocUnsafe(2);return u.writeUInt8(l>>8,0),u.writeUInt8(l&255,1),u}function i(){for(let l=0;l<e;l++)r[l]=s(l)}function a(l){let c=0,f=0;const d=t.allocUnsafe(4);do c=l%128|0,l=l/128|0,l>0&&(c=c|128),d.writeUInt8(c,f++);while(l>0&&f<4);return l>0&&(f=0),n?d.subarray(0,f):d.slice(0,f)}function o(l){const u=t.allocUnsafe(4);return u.writeUInt32BE(l,0),u}return Od={cache:r,generateCache:i,generateNumber:s,genBufVariableByteInt:a,generate4ByteBuffer:o},Od}var uu={exports:{}},hv;function cB(){if(hv)return uu.exports;hv=1,typeof Dr>"u"||!Dr.version||Dr.version.indexOf("v0.")===0||Dr.version.indexOf("v1.")===0&&Dr.version.indexOf("v1.8.")!==0?uu.exports={nextTick:t}:uu.exports=Dr;function t(e,r,n,s){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,a,o;switch(i){case 0:case 1:return Dr.nextTick(e);case 2:return Dr.nextTick(function(){e.call(null,r)});case 3:return Dr.nextTick(function(){e.call(null,r,n)});case 4:return Dr.nextTick(function(){e.call(null,r,n,s)});default:for(a=new Array(i-1),o=0;o<a.length;)a[o++]=arguments[o];return Dr.nextTick(function(){e.apply(null,a)})}}return uu.exports}var Ld,pv;function CS(){if(pv)return Ld;pv=1;const t=vS(),{Buffer:e}=Qr(),r=e.allocUnsafe(0),n=e.from([0]),s=uB(),i=cB().nextTick,a=AS()("mqtt-packet:writeToStream"),o=s.cache,l=s.generateNumber,u=s.generateCache,c=s.genBufVariableByteInt,f=s.generate4ByteBuffer;let d=J,p=!0;function g(ee,K,W){switch(a("generate called"),K.cork&&(K.cork(),i(b,K)),p&&(p=!1,u()),a("generate: packet.cmd: %s",ee.cmd),ee.cmd){case"connect":return v(ee,K);case"connack":return w(ee,K,W);case"publish":return _(ee,K,W);case"puback":case"pubrec":case"pubrel":case"pubcomp":return y(ee,K,W);case"subscribe":return S(ee,K,W);case"suback":return T(ee,K,W);case"unsubscribe":return A(ee,K,W);case"unsuback":return C(ee,K,W);case"pingreq":case"pingresp":return L(ee,K);case"disconnect":return j(ee,K,W);case"auth":return F(ee,K,W);default:return K.destroy(new Error("Unknown command")),!1}}Object.defineProperty(g,"cacheNumbers",{get(){return d===J},set(ee){ee?((!o||Object.keys(o).length===0)&&(p=!0),d=J):(p=!1,d=ie)}});function b(ee){ee.uncork()}function v(ee,K,W){const D=ee||{},X=D.protocolId||"MQTT";let ce=D.protocolVersion||4;const le=D.will;let k=D.clean;const P=D.keepalive||0,V=D.clientId||"",R=D.username,H=D.password,q=D.properties;k===void 0&&(k=!0);let ue=0;if(!X||typeof X!="string"&&!e.isBuffer(X))return K.destroy(new Error("Invalid protocolId")),!1;if(ue+=X.length+2,ce!==3&&ce!==4&&ce!==5)return K.destroy(new Error("Invalid protocol version")),!1;if(ue+=1,(typeof V=="string"||e.isBuffer(V))&&(V||ce>=4)&&(V||k))ue+=e.byteLength(V)+2;else{if(ce<4)return K.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(k*1===0)return K.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof P!="number"||P<0||P>65535||P%1!==0)return K.destroy(new Error("Invalid keepalive")),!1;ue+=2,ue+=1;let Z,Y;if(ce===5){if(Z=fe(K,q),!Z)return!1;ue+=Z.length}if(le){if(typeof le!="object")return K.destroy(new Error("Invalid will")),!1;if(!le.topic||typeof le.topic!="string")return K.destroy(new Error("Invalid will topic")),!1;if(ue+=e.byteLength(le.topic)+2,ue+=2,le.payload)if(le.payload.length>=0)typeof le.payload=="string"?ue+=e.byteLength(le.payload):ue+=le.payload.length;else return K.destroy(new Error("Invalid will payload")),!1;if(Y={},ce===5){if(Y=fe(K,le.properties),!Y)return!1;ue+=Y.length}}let se=!1;if(R!=null)if(xe(R))se=!0,ue+=e.byteLength(R)+2;else return K.destroy(new Error("Invalid username")),!1;if(H!=null){if(!se)return K.destroy(new Error("Username is required to use password")),!1;if(xe(H))ue+=de(H)+2;else return K.destroy(new Error("Invalid password")),!1}K.write(t.CONNECT_HEADER),I(K,ue),N(K,X),D.bridgeMode&&(ce+=128),K.write(ce===131?t.VERSION131:ce===132?t.VERSION132:ce===4?t.VERSION4:ce===5?t.VERSION5:t.VERSION3);let Q=0;return Q|=R!=null?t.USERNAME_MASK:0,Q|=H!=null?t.PASSWORD_MASK:0,Q|=le&&le.retain?t.WILL_RETAIN_MASK:0,Q|=le&&le.qos?le.qos<<t.WILL_QOS_SHIFT:0,Q|=le?t.WILL_FLAG_MASK:0,Q|=k?t.CLEAN_SESSION_MASK:0,K.write(e.from([Q])),d(K,P),ce===5&&Z.write(),N(K,V),le&&(ce===5&&Y.write(),M(K,le.topic),N(K,le.payload)),R!=null&&N(K,R),H!=null&&N(K,H),!0}function w(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=D===5?X.reasonCode:X.returnCode,le=X.properties;let k=2;if(typeof ce!="number")return K.destroy(new Error("Invalid return code")),!1;let P=null;if(D===5){if(P=fe(K,le),!P)return!1;k+=P.length}return K.write(t.CONNACK_HEADER),I(K,k),K.write(X.sessionPresent?t.SESSIONPRESENT_HEADER:n),K.write(e.from([ce])),P!=null&&P.write(),!0}function _(ee,K,W){a("publish: packet: %o",ee);const D=W?W.protocolVersion:4,X=ee||{},ce=X.qos||0,le=X.retain?t.RETAIN_MASK:0,k=X.topic,P=X.payload||r,V=X.messageId,R=X.properties;let H=0;if(typeof k=="string")H+=e.byteLength(k)+2;else if(e.isBuffer(k))H+=k.length+2;else return K.destroy(new Error("Invalid topic")),!1;if(e.isBuffer(P)?H+=P.length:H+=e.byteLength(P),ce&&typeof V!="number")return K.destroy(new Error("Invalid messageId")),!1;ce&&(H+=2);let q=null;if(D===5){if(q=fe(K,R),!q)return!1;H+=q.length}return K.write(t.PUBLISH_HEADER[ce][X.dup?1:0][le?1:0]),I(K,H),d(K,de(k)),K.write(k),ce>0&&d(K,V),q!=null&&q.write(),a("publish: payload: %o",P),K.write(P)}function y(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=X.cmd||"puback",le=X.messageId,k=X.dup&&ce==="pubrel"?t.DUP_MASK:0;let P=0;const V=X.reasonCode,R=X.properties;let H=D===5?3:2;if(ce==="pubrel"&&(P=1),typeof le!="number")return K.destroy(new Error("Invalid messageId")),!1;let q=null;if(D===5&&typeof R=="object"){if(q=G(K,R,W,H),!q)return!1;H+=q.length}return K.write(t.ACKS[ce][P][k][0]),H===3&&(H+=V!==0?1:-1),I(K,H),d(K,le),D===5&&H!==2&&K.write(e.from([V])),q!==null?q.write():H===4&&K.write(e.from([0])),!0}function S(ee,K,W){a("subscribe: packet: ");const D=W?W.protocolVersion:4,X=ee||{},ce=X.dup?t.DUP_MASK:0,le=X.messageId,k=X.subscriptions,P=X.properties;let V=0;if(typeof le!="number")return K.destroy(new Error("Invalid messageId")),!1;V+=2;let R=null;if(D===5){if(R=fe(K,P),!R)return!1;V+=R.length}if(typeof k=="object"&&k.length)for(let q=0;q<k.length;q+=1){const ue=k[q].topic,Z=k[q].qos;if(typeof ue!="string")return K.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Z!="number")return K.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(D===5){if(typeof(k[q].nl||!1)!="boolean")return K.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(k[q].rap||!1)!="boolean")return K.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;const Q=k[q].rh||0;if(typeof Q!="number"||Q>2)return K.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}V+=e.byteLength(ue)+2+1}else return K.destroy(new Error("Invalid subscriptions")),!1;a("subscribe: writing to stream: %o",t.SUBSCRIBE_HEADER),K.write(t.SUBSCRIBE_HEADER[1][ce?1:0][0]),I(K,V),d(K,le),R!==null&&R.write();let H=!0;for(const q of k){const ue=q.topic,Z=q.qos,Y=+q.nl,se=+q.rap,Q=q.rh;let oe;M(K,ue),oe=t.SUBSCRIBE_OPTIONS_QOS[Z],D===5&&(oe|=Y?t.SUBSCRIBE_OPTIONS_NL:0,oe|=se?t.SUBSCRIBE_OPTIONS_RAP:0,oe|=Q?t.SUBSCRIBE_OPTIONS_RH[Q]:0),H=K.write(e.from([oe]))}return H}function T(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=X.messageId,le=X.granted,k=X.properties;let P=0;if(typeof ce!="number")return K.destroy(new Error("Invalid messageId")),!1;if(P+=2,typeof le=="object"&&le.length)for(let R=0;R<le.length;R+=1){if(typeof le[R]!="number")return K.destroy(new Error("Invalid qos vector")),!1;P+=1}else return K.destroy(new Error("Invalid qos vector")),!1;let V=null;if(D===5){if(V=G(K,k,W,P),!V)return!1;P+=V.length}return K.write(t.SUBACK_HEADER),I(K,P),d(K,ce),V!==null&&V.write(),K.write(e.from(le))}function A(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=X.messageId,le=X.dup?t.DUP_MASK:0,k=X.unsubscriptions,P=X.properties;let V=0;if(typeof ce!="number")return K.destroy(new Error("Invalid messageId")),!1;if(V+=2,typeof k=="object"&&k.length)for(let q=0;q<k.length;q+=1){if(typeof k[q]!="string")return K.destroy(new Error("Invalid unsubscriptions")),!1;V+=e.byteLength(k[q])+2}else return K.destroy(new Error("Invalid unsubscriptions")),!1;let R=null;if(D===5){if(R=fe(K,P),!R)return!1;V+=R.length}K.write(t.UNSUBSCRIBE_HEADER[1][le?1:0][0]),I(K,V),d(K,ce),R!==null&&R.write();let H=!0;for(let q=0;q<k.length;q++)H=M(K,k[q]);return H}function C(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=X.messageId,le=X.dup?t.DUP_MASK:0,k=X.granted,P=X.properties,V=X.cmd,R=0;let H=2;if(typeof ce!="number")return K.destroy(new Error("Invalid messageId")),!1;if(D===5)if(typeof k=="object"&&k.length)for(let ue=0;ue<k.length;ue+=1){if(typeof k[ue]!="number")return K.destroy(new Error("Invalid qos vector")),!1;H+=1}else return K.destroy(new Error("Invalid qos vector")),!1;let q=null;if(D===5){if(q=G(K,P,W,H),!q)return!1;H+=q.length}return K.write(t.ACKS[V][R][le][0]),I(K,H),d(K,ce),q!==null&&q.write(),D===5&&K.write(e.from(k)),!0}function L(ee,K,W){return K.write(t.EMPTY[ee.cmd])}function j(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=X.reasonCode,le=X.properties;let k=D===5?1:0,P=null;if(D===5){if(P=G(K,le,W,k),!P)return!1;k+=P.length}return K.write(e.from([t.codes.disconnect<<4])),I(K,k),D===5&&K.write(e.from([ce])),P!==null&&P.write(),!0}function F(ee,K,W){const D=W?W.protocolVersion:4,X=ee||{},ce=X.reasonCode,le=X.properties;let k=D===5?1:0;D!==5&&K.destroy(new Error("Invalid mqtt version for auth packet"));const P=G(K,le,W,k);return P?(k+=P.length,K.write(e.from([t.codes.auth<<4])),I(K,k),K.write(e.from([ce])),P!==null&&P.write(),!0):!1}const $={};function I(ee,K){if(K>t.VARBYTEINT_MAX)return ee.destroy(new Error(`Invalid variable byte integer: ${K}`)),!1;let W=$[K];return W||(W=c(K),K<16384&&($[K]=W)),a("writeVarByteInt: writing to stream: %o",W),ee.write(W)}function M(ee,K){const W=e.byteLength(K);return d(ee,W),a("writeString: %s",K),ee.write(K,"utf8")}function B(ee,K,W){M(ee,K),M(ee,W)}function J(ee,K){return a("writeNumberCached: number: %d",K),a("writeNumberCached: %o",o[K]),ee.write(o[K])}function ie(ee,K){const W=l(K);return a("writeNumberGenerated: %o",W),ee.write(W)}function re(ee,K){const W=f(K);return a("write4ByteNumber: %o",W),ee.write(W)}function N(ee,K){typeof K=="string"?M(ee,K):K?(d(ee,K.length),ee.write(K)):d(ee,0)}function fe(ee,K){if(typeof K!="object"||K.length!=null)return{length:1,write(){U(ee,{},0)}};let W=0;function D(ce,le){const k=t.propertiesTypes[ce];let P=0;switch(k){case"byte":{if(typeof le!="boolean")return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=2;break}case"int8":{if(typeof le!="number"||le<0||le>255)return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=2;break}case"binary":{if(le&&le===null)return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=1+e.byteLength(le)+2;break}case"int16":{if(typeof le!="number"||le<0||le>65535)return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=3;break}case"int32":{if(typeof le!="number"||le<0||le>4294967295)return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=5;break}case"var":{if(typeof le!="number"||le<0||le>268435455)return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=1+e.byteLength(c(le));break}case"string":{if(typeof le!="string")return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=3+e.byteLength(le.toString());break}case"pair":{if(typeof le!="object")return ee.destroy(new Error(`Invalid ${ce}: ${le}`)),!1;P+=Object.getOwnPropertyNames(le).reduce((V,R)=>{const H=le[R];return Array.isArray(H)?V+=H.reduce((q,ue)=>(q+=3+e.byteLength(R.toString())+2+e.byteLength(ue.toString()),q),0):V+=3+e.byteLength(R.toString())+2+e.byteLength(le[R].toString()),V},0);break}default:return ee.destroy(new Error(`Invalid property ${ce}: ${le}`)),!1}return P}if(K)for(const ce in K){let le=0,k=0;const P=K[ce];if(Array.isArray(P))for(let V=0;V<P.length;V++){if(k=D(ce,P[V]),!k)return!1;le+=k}else{if(k=D(ce,P),!k)return!1;le=k}if(!le)return!1;W+=le}return{length:e.byteLength(c(W))+W,write(){U(ee,K,W)}}}function G(ee,K,W,D){const X=["reasonString","userProperties"],ce=W&&W.properties&&W.properties.maximumPacketSize?W.properties.maximumPacketSize:0;let le=fe(ee,K);if(ce)for(;D+le.length>ce;){const k=X.shift();if(k&&K[k])delete K[k],le=fe(ee,K);else return!1}return le}function pe(ee,K,W){switch(t.propertiesTypes[K]){case"byte":{ee.write(e.from([t.properties[K]])),ee.write(e.from([+W]));break}case"int8":{ee.write(e.from([t.properties[K]])),ee.write(e.from([W]));break}case"binary":{ee.write(e.from([t.properties[K]])),N(ee,W);break}case"int16":{ee.write(e.from([t.properties[K]])),d(ee,W);break}case"int32":{ee.write(e.from([t.properties[K]])),re(ee,W);break}case"var":{ee.write(e.from([t.properties[K]])),I(ee,W);break}case"string":{ee.write(e.from([t.properties[K]])),M(ee,W);break}case"pair":{Object.getOwnPropertyNames(W).forEach(X=>{const ce=W[X];Array.isArray(ce)?ce.forEach(le=>{ee.write(e.from([t.properties[K]])),B(ee,X.toString(),le.toString())}):(ee.write(e.from([t.properties[K]])),B(ee,X.toString(),ce.toString()))});break}default:return ee.destroy(new Error(`Invalid property ${K} value: ${W}`)),!1}}function U(ee,K,W){I(ee,W);for(const D in K)if(Object.prototype.hasOwnProperty.call(K,D)&&K[D]!==null){const X=K[D];if(Array.isArray(X))for(let ce=0;ce<X.length;ce++)pe(ee,D,X[ce]);else pe(ee,D,X)}}function de(ee){return ee?ee instanceof e?ee.length:e.byteLength(ee):0}function xe(ee){return typeof ee=="string"||ee instanceof e}return Ld=g,Ld}var Rd,gv;function fB(){if(gv)return Rd;gv=1;const t=CS(),{EventEmitter:e}=ua(),{Buffer:r}=Qr();function n(i,a){const o=new s;return t(i,o,a),o.concat()}class s extends e{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0;const o=new Array(this._array.length),l=this._array;let u=0,c;for(c=0;c<l.length&&l[c]!==void 0;c++)typeof l[c]!="string"?o[c]=l[c].length:o[c]=r.byteLength(l[c]),a+=o[c];const f=r.allocUnsafe(a);for(c=0;c<l.length&&l[c]!==void 0;c++)typeof l[c]!="string"?(l[c].copy(f,u),u+=o[c]):(f.write(l[c],u),u+=o[c]);return f}destroy(a){a&&this.emit("error",a)}}return Rd=n,Rd}var mv;function dB(){return mv||(mv=1,ka.parser=lB().parser,ka.generate=fB(),ka.writeToStream=CS()),ka}dB();const hB=0,IS={host:location.hostname,port:location.protocol=="https:"?443:80,endpoint:"/ws",protocol:location.protocol=="https:"?"wss":"ws",connectTimeout:4e3,reconnectPeriod:4e3,clean:!1,clientId:Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,6)},vc={topic:"",qos:hB};let wn;const{host:pB,port:gB,endpoint:mB,...MS}=IS,bv=`${MS.protocol}://${pB}:${gB}${mB}`;try{console.debug("connectURL",bv),wn=vR.connect(bv,MS),wn.on("connect",()=>{console.info("MQTT connection successful")}),wn.on("disconnect",()=>{console.info("MQTT disconnected")}),wn.on("error",t=>{console.error("MQTT connection failed: ",t)})}catch(t){console.error("MQTT connect error: ",t)}function bB(t){wn?wn.on("message",t):console.error("MqttRegister: MQTT client not available")}function Us(t){vc.topic=t;const{topic:e,qos:r}=vc;wn.subscribe(e,{qos:r},n=>{if(n){console.error("MQTT Subscription error: "+n);return}})}function Uo(t){vc.topic=t;const{topic:e}=vc;wn.unsubscribe(e,r=>{if(r){console.error("MQTT Unsubscribe from "+t+" failed: "+r);return}})}async function _c(t,e){let n=wn.connected,s=0;for(;!n&&s<20;)console.warn("MQTT publish: Not connected. Waiting 0.1 seconds"),await yB(100),n=wn.connected,s+=1;if(s<20)try{wn.publish(t,e,{qos:0},i=>{i&&console.warn("MQTT publish error: ",i),console.info("MQTT publish: Message sent: ["+t+"]("+e+")")})}catch(i){console.warn("MQTT publish: caught error: "+i)}else console.error("MQTT publish: Lost connection to MQTT server. Please reload the page")}function Om(){return IS.clientId}function yB(t){return new Promise(e=>setTimeout(e,t))}class wB{constructor(e){ve(this,"id");ve(this,"name","Ladepunkt");ve(this,"icon","Ladepunkt");ve(this,"type",Et.chargepoint);ve(this,"ev",0);ve(this,"template",0);ve(this,"connectedPhases",0);ve(this,"phase_1",0);ve(this,"autoPhaseSwitchHw",!1);ve(this,"controlPilotInterruptionHw",!1);ve(this,"isEnabled",!0);ve(this,"isPluggedIn",!1);ve(this,"isCharging",!1);ve(this,"_isLocked",!1);ve(this,"_connectedVehicle",0);ve(this,"chargeTemplate",null);ve(this,"evTemplate",0);ve(this,"_chargeMode",Wr.pv_charging);ve(this,"_hasPriority",!1);ve(this,"currentPlan","");ve(this,"averageConsumption",0);ve(this,"vehicleName","");ve(this,"rangeCharged",0);ve(this,"rangeUnit","");ve(this,"counter",0);ve(this,"dailyYield",0);ve(this,"now",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"past",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"energyPv",0);ve(this,"energyBat",0);ve(this,"pvPercentage",0);ve(this,"faultState",0);ve(this,"faultStr","");ve(this,"phasesInUse",0);ve(this,"power",0);ve(this,"chargedSincePlugged",0);ve(this,"stateStr","");ve(this,"current",0);ve(this,"currents",[0,0,0]);ve(this,"phasesToUse",0);ve(this,"isSocConfigured",!0);ve(this,"isSocManual",!1);ve(this,"waitingForSoc",!1);ve(this,"color","white");ve(this,"showInGraph",!0);ve(this,"_timedCharging",!1);ve(this,"_instantChargeLimitMode","");ve(this,"_instantTargetCurrent",0);ve(this,"_instantTargetSoc",0);ve(this,"_instantMaxEnergy",0);ve(this,"_instantTargetPhases",0);ve(this,"_pvFeedInLimit",!1);ve(this,"_pvMinCurrent",0);ve(this,"_pvMaxSoc",0);ve(this,"_pvMinSoc",0);ve(this,"_pvMinSocCurrent",0);ve(this,"_pvMinSocPhases",1);ve(this,"_pvChargeLimitMode","");ve(this,"_pvTargetSoc",0);ve(this,"_pvMaxEnergy",0);ve(this,"_pvTargetPhases",0);ve(this,"_ecoMinCurrent",0);ve(this,"_ecoTargetPhases",0);ve(this,"_ecoChargeLimitMode","");ve(this,"_ecoTargetSoc",0);ve(this,"_ecoMaxEnergy",0);ve(this,"_etActive",!1);ve(this,"_etMaxPrice",20);this.id=e}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked=e,yr("cpLock",e,this.id)}updateIsLocked(e){this._isLocked=e}get connectedVehicle(){return this._connectedVehicle}set connectedVehicle(e){this._connectedVehicle=e,yr("cpVehicle",e,this.id)}updateConnectedVehicle(e){this._connectedVehicle=e}get soc(){return at[this.connectedVehicle]?at[this.connectedVehicle].soc:0}set soc(e){at[this.connectedVehicle]&&(at[this.connectedVehicle].soc=e)}get chargeMode(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.selected)??Wr.stop}set chargeMode(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.selected=e,Ut(this.id))}get hasPriority(){var e;return((e=this.chargeTemplate)==null?void 0:e.prio)??!1}set hasPriority(e){this.chargeTemplate&&(this.chargeTemplate.prio=e,yr("cpPriority",e,this.id))}get timedCharging(){return this.chargeTemplate?this.chargeTemplate.time_charging.active:!1}set timedCharging(e){this.chargeTemplate.time_charging.active=e,yr("cpTimedCharging",e,this.id)}get instantTargetCurrent(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.instant_charging.current)??0}set instantTargetCurrent(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.instant_charging.current=e,Ut(this.id))}get instantChargeLimitMode(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.instant_charging.limit.selected)??"none"}set instantChargeLimitMode(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.instant_charging.limit.selected=e,Ut(this.id))}get instantTargetSoc(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.instant_charging.limit.soc)??0}set instantTargetSoc(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.instant_charging.limit.soc=e,Ut(this.id))}get instantMaxEnergy(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.instant_charging.limit.amount)??0}set instantMaxEnergy(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.instant_charging.limit.amount=e,Ut(this.id))}get instantTargetPhases(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.instant_charging.phases_to_use)??0}set instantTargetPhases(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.instant_charging.phases_to_use=e,Ut(this.id))}get pvFeedInLimit(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.feed_in_limit)??!1}set pvFeedInLimit(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.feed_in_limit=e,Ut(this.id))}get pvMinCurrent(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.min_current)??0}set pvMinCurrent(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.min_current=e,Ut(this.id))}get pvMaxSoc(){return this._pvMaxSoc}set pvMaxSoc(e){this._pvMaxSoc=e,yr("cpPvMaxSoc",e,this.id)}updatePvMaxSoc(e){this._pvMaxSoc=e}get pvMinSoc(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.min_soc)??0}set pvMinSoc(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.min_soc=e,Ut(this.id))}get pvMinSocCurrent(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.min_soc_current)??0}set pvMinSocCurrent(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.min_soc_current=e,Ut(this.id))}set pvMinSocPhases(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.phases_to_use_min_soc=e,Ut(this.id))}get pvMinSocPhases(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.phases_to_use_min_soc)??0}get pvChargeLimitMode(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.limit.selected)??"none"}set pvChargeLimitMode(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.limit.selected=e,Ut(this.id))}get pvTargetSoc(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.limit.soc)??0}set pvTargetSoc(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.limit.soc=e,Ut(this.id))}get pvMaxEnergy(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.limit.amount)??0}set pvMaxEnergy(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.limit.amount=e,Ut(this.id))}get pvTargetPhases(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.pv_charging.phases_to_use)??0}set pvTargetPhases(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.pv_charging.phases_to_use=e,Ut(this.id))}get ecoMinCurrent(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.eco_charging.current)??0}set ecoMinCurrent(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.eco_charging.current=e,Ut(this.id))}get ecoTargetPhases(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.eco_charging.phases_to_use)??0}set ecoTargetPhases(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.eco_charging.phases_to_use=e,Ut(this.id))}get ecoChargeLimitMode(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.eco_charging.limit.selected)??"none"}set ecoChargeLimitMode(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.eco_charging.limit.selected=e,Ut(this.id))}get ecoTargetSoc(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.eco_charging.limit.soc)??0}set ecoTargetSoc(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.eco_charging.limit.soc=e,Ut(this.id))}get ecoMaxEnergy(){var e;return((e=this.chargeTemplate)==null?void 0:e.chargemode.eco_charging.limit.amount)??0}set ecoMaxEnergy(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.eco_charging.limit.amount=e,Ut(this.id))}get etMaxPrice(){var e;return(((e=this.chargeTemplate)==null?void 0:e.chargemode.eco_charging.max_price)??0)*1e5}set etMaxPrice(e){this.chargeTemplate&&(this.chargeTemplate.chargemode.eco_charging.max_price=Math.ceil(e*1e3)/1e8,Ut(this.id))}get etActive(){return this.chargeTemplate&&this.chargeTemplate.chargemode.selected==Wr.eco_charging}get realCurrent(){switch(this.phasesInUse){case 0:return 0;case 1:return this.currents[0];case 2:return(this.currents[0]+this.currents[1])/2;case 3:return(this.currents[0]+this.currents[1]+this.currents[2])/3;default:return 0}}}class vB{constructor(e){ve(this,"id");ve(this,"name","__invalid");ve(this,"tags",[]);ve(this,"config",{});ve(this,"soc",0);ve(this,"range",0);ve(this,"_chargeTemplateId",0);ve(this,"isSocConfigured",!1);ve(this,"isSocManual",!1);ve(this,"_evTemplateId",0);this.id=e}get chargeTemplateId(){return this._chargeTemplateId}set chargeTemplateId(e){this._chargeTemplateId=e,yr("vhChargeTemplateId",e,this.id)}updateChargeTemplateId(e){this._chargeTemplateId=e}get evTemplateId(){return this._evTemplateId}set evTemplateId(e){this._evTemplateId=e,yr("vhEvTemplateId",e,this.id)}updateEvTemplateId(e){this._evTemplateId=e}get chargepoint(){for(const e of Object.values(Ke))if(e.connectedVehicle==this.id)return e}get visible(){return this.name!="__invalid"&&(this.id!=0||_e.showStandardVehicle)}}const Ke=Vt({}),at=Vt({}),hg=Vt({}),_B=Vt({});function EB(t){if(!(t in Ke)){Ke[t]=new wB(t);const e=Um("cp",Object.values(Ke).length-1);Ke[t].color=e}}function SB(){Object.keys(Ke).forEach(t=>{delete Ke[parseInt(t)]})}const Xt=we(()=>{const t=[],e=Object.values(Ke),r=Object.values(at).filter(i=>i.visible);let n=-1;switch(e.length){case 0:n=r[0]?r[0].id:-1;break;default:n=e[0].connectedVehicle}let s=-1;switch(e.length){case 0:case 1:s=r[0]?r[0].id:-1;break;default:s=e[1].connectedVehicle}return n==s&&(s=r[1]?r[1].id:-1),n!=-1&&t.push(n),s!=-1&&t.push(s),t}),Lm=[{name:"keine",id:"none"},{name:"Ladestand",id:"soc"},{name:"Energie",id:"amount"}],kS={cpLock:"openWB/set/chargepoint/%/set/manual_lock",chargeMode:"openWB/set/vehicle/template/charge_template/%/chargemode/selected",cpPriority:"openWB/set/vehicle/template/charge_template/%/prio",cpTimedCharging:"openWB/set/vehicle/template/charge_template/%/time_charging/active",pvBatteryPriority:"openWB/set/general/chargemode_config/pv_charging/bat_mode",cpVehicle:"openWB/set/chargepoint/%/config/ev",cpInstantChargeLimitMode:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/limit/selected",cpInstantTargetCurrent:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/current",cpInstantTargetSoc:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/limit/soc",cpInstantMaxEnergy:"openWB/set/vehicle/template/charge_template/%/chargemode/instant_charging/limit/amount",cpPvFeedInLimit:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/feed_in_limit",cpPvMinCurrent:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/min_current",cpPvMaxSoc:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/max_soc",cpPvMinSoc:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/min_soc",cpPvMinSocCurrent:"openWB/set/vehicle/template/charge_template/%/chargemode/pv_charging/min_soc_current",cpEtMaxPrice:"openWB/set/vehicle/template/charge_template/%/et/max_price",vhChargeTemplateId:"openWB/set/vehicle/%/charge_template",vhEvTemplateId:"openWB/set/vehicle/%/ev_template",shSetManual:"openWB/set/LegacySmartHome/config/set/Devices/%/mode",shSwitchOn:"openWB/set/LegacySmartHome/config/set/Devices/%/device_manual_control",socUpdate:"openWB/set/vehicle/%/get/force_soc_update",setSoc:"openWB/set/vehicle/%/soc_module/calculated_soc_state/manual_soc",priceCharging:"openWB/set/vehicle/template/charge_template/%/et/active",chargeTemplate:"openWB/set/chargepoint/%/set/charge_template"};function yr(t,e,r=0){if(isNaN(r)){console.warn("Invalid index");return}let n=kS[t];if(!n){console.warn("No topic for update type "+t);return}switch(t){default:n=n.replace("%",String(r))}switch(typeof e){case"number":_c(n,JSON.stringify(+e));break;default:_c(n,JSON.stringify(e))}}function Rm(t){_c("openWB/set/command/"+Om()+"/todo",JSON.stringify(t))}function Ut(t){_c(kS.chargeTemplate.replace("%",String(t)),JSON.stringify(Ke[t].chargeTemplate))}const Sr=500,Zr=500,nt={top:15,right:20,bottom:10,left:25};class xB{constructor(){ve(this,"data",[]);ve(this,"_graphMode","");ve(this,"waitForData",!0)}get graphMode(){return this._graphMode}set graphMode(e){this._graphMode=e}get usePastData(){return this.graphMode!="live"&&this.graphMode!="today"}get graphScope(){return this.usePastData?"past":"now"}}const Ae=Vt(new xB),PS=lt(gm),Xi=we(()=>[0,Sr-nt.left-2*nt.right].map(t=>PS.value.applyX(t)));let bl=!0,Go=!0;function yv(){bl=!1}function wv(){bl=!0}function vv(){Go=!1}function _v(){Go=!0}function TB(t){Go=t}function kl(t){Ae.data=t,Ae.waitForData=!1}const Qt=Vt({refreshTopicPrefix:"openWB/graph/alllivevaluesJson",updateTopic:"openWB/graph/lastlivevaluesJson",configTopic:"openWB/graph/config/#",initialized:!1,initCounter:0,graphRefreshCounter:0,rawDataPacks:[],duration:0,activate(t){this.unsubscribeUpdates(),this.subscribeRefresh(),t&&(Ae.data=[]),Ae.waitForData=!0,Us(this.configTopic),this.initialized=!1,this.initCounter=0,this.graphRefreshCounter=0,this.rawDataPacks=[],CB(),Yo.value=!0},deactivate(){this.unsubscribeRefresh(),this.unsubscribeUpdates(),Uo(this.configTopic)},subscribeRefresh(){for(let t=1;t<17;t++)Us(this.refreshTopicPrefix+t)},unsubscribeRefresh(){for(let t=1;t<17;t++)Uo(this.refreshTopicPrefix+t)},subscribeUpdates(){Us(this.updateTopic)},unsubscribeUpdates(){Uo(this.updateTopic)}}),zt=Vt({topic:"openWB/log/daily/#",date:new Date,activate(t){if(Ae.graphMode=="day"||Ae.graphMode=="today"){Ae.graphMode=="today"&&(this.date=new Date);const e=this.date.getFullYear().toString()+(this.date.getMonth()+1).toString().padStart(2,"0")+this.date.getDate().toString().padStart(2,"0");this.topic="openWB/log/daily/"+e,Us(this.topic),t&&(Ae.data=[]),Ae.waitForData=!0,Rm({command:"getDailyLog",data:{date:e}})}},deactivate(){Uo(this.topic)},back(){this.date=new Date(this.date.setTime(this.date.getTime()-864e5))},forward(){this.date=new Date(this.date.setTime(this.date.getTime()+864e5))},setDate(t){this.date=t},getDate(){return this.date}}),Bn=Vt({topic:"openWB/log/monthly/#",month:new Date().getMonth()+1,year:new Date().getFullYear(),activate(t){const e=this.year.toString()+this.month.toString().padStart(2,"0");Ae.data=[],Us(this.topic),t&&(Ae.data=[]),Ae.waitForData=!0,Rm({command:"getMonthlyLog",data:{date:e}})},deactivate(){Uo(this.topic)},back(){this.month-=1,this.month<1&&(this.month=12,this.year-=1),this.activate()},forward(){const t=new Date;t.getFullYear()==this.year?this.month-1<t.getMonth()&&(this.month=this.month+1):(this.month=this.month+1,this.month>12&&(this.month=1,this.year+=1)),this.activate()},getDate(){return new Date(this.year,this.month)}}),qi=Vt({topic:"openWB/log/yearly/#",month:new Date().getMonth()+1,year:new Date().getFullYear(),activate(t){const e=this.year.toString();Us(this.topic),t&&(Ae.data=[]),Ae.waitForData=!0,Rm({command:"getYearlyLog",data:{date:e}})},deactivate(){Uo(this.topic)},back(){this.year-=1,this.activate()},forward(){this.year<new Date().getFullYear()&&(this.year=this.year+1,this.activate())},getDate(){return new Date(this.year,this.month)}});function tr(t=!1){switch(Ae.graphMode==""?AB(_e.graphPreference):Ae.graphMode=="live"?_e.graphPreference="live":_e.graphPreference="today",t||(bl=!0,Go=!0),Ae.graphMode){case"live":zt.deactivate(),Bn.deactivate(),qi.deactivate(),Qt.activate(!t);break;case"today":Qt.deactivate(),Bn.deactivate(),qi.deactivate(),zt.activate(!t);break;case"day":Qt.deactivate(),Bn.deactivate(),qi.deactivate(),zt.activate(!t);break;case"month":Qt.deactivate(),zt.deactivate(),qi.deactivate(),Bn.activate(!t);break;case"year":Qt.deactivate(),zt.deactivate(),Bn.deactivate(),qi.activate(!t);break}}function AB(t){Ae.graphMode=t}const Qi=lt(!1);function Bm(t,e){if(Object.entries(t).length==0)Qi.value=!0;else{Qi.value=!1,Object.entries(t.counter).forEach(([o,l])=>{(e.length==0||e.includes(o))&&(ke.setEnergy("evuIn",l.energy_imported),ke.setEnergy("evuOut",l.energy_exported))}),ke.setEnergy("pv",t.pv.all.energy_exported),t.bat.all&&(ke.setEnergy("batIn",t.bat.all.energy_imported),ke.setEnergy("batOut",t.bat.all.energy_exported)),Object.entries(t.cp).forEach(([o,l])=>{o=="all"?Bd(l,"charging"):Bd(l,o)}),ke.setEnergy("devices",0);let r=0,n=0;Object.entries(t.sh).forEach(([o,l])=>{ke.setEnergy(o,l.energy_imported),ke.calculatePvPercentage(o),$t.get(o).countAsHouse||(ke.setEnergy("devices",ke.getEnergy("devices")+l.energy_imported),r+=ke.getItem(o)[Ae.graphScope].energyPv,n+=ke.getItem(o)[Ae.graphScope].energyBat)}),ke.setEnergyPv("devices",r),ke.setEnergyBat("devices",n),ke.calculatePvPercentage("devices"),ke.setEnergy("counters",0);let s=0,i=0,a=0;Object.entries(t.counter).forEach(([o,l])=>{l.grid||(Bd(l,o),s+=l.energy_imported,i+=l.energy_imported_pv,a+=l.energy_imported_bat)}),ke.setEnergy("counters",s),ke.setEnergyPv("counters",i),ke.setEnergyBat("counters",a),ke.calculatePvPercentage("counters"),ke.setEnergy("house",0),t.hc&&t.hc.all?(ke.setEnergy("house",t.hc.all.energy_imported),t.hc.all.energy_imported_pv!=null&&(ke.setEnergyPv("house",t.hc.all.energy_imported_pv),ke.setEnergyBat("house",t.hc.all.energy_imported_bat))):ke.calculateHouseEnergy()}Yo.value=!0}const vn=we(()=>{const t=Sn(Ae.data,e=>new Date(e.date));return t[0]&&t[1]?zh().domain(t).range([0,Sr-nt.left-2*nt.right]):Ys().range([0,0])});function Bd(t,e){ke.setEnergy(e,t.energy_imported),ke.setEnergyPv(e,t.energy_imported_pv),ke.setEnergyBat(e,t.energy_imported_bat),ke.calculatePvPercentage(e)}function CB(){ke.items.forEach(t=>{t.now.energyPv=0,t.now.energyBat=0,t.now.pvPercentage=0})}const Gi=we(()=>{const t=Sn(Ae.data,e=>e.date);return t[1]?pl().domain(Array.from({length:t[1]},(e,r)=>r+1)).paddingInner(.4).range([0,Sr-nt.left-2]):pl().range([0,0])});function sf(){switch(Ae.graphMode){case"live":Ae.graphMode="today",_e.showRightButton=!0,tr();break;case"today":Ae.graphMode="day",zt.deactivate(),zt.back(),zt.activate(),tr();break;case"day":zt.back(),tr();break;case"month":Bn.back();break;case"year":qi.back();break}}function $m(){const t=new Date;switch(Ae.graphMode){case"live":break;case"today":Ae.graphMode="live",_e.showRightButton=!1,tr();break;case"day":zt.forward(),zt.date.getDate()==t.getDate()&&zt.date.getMonth()==t.getMonth()&&zt.date.getFullYear()==t.getFullYear()&&(Ae.graphMode="today"),tr();break;case"month":Bn.forward();break;case"year":qi.forward();break}}function Nm(){switch(Ae.graphMode){case"live":sf();break;case"day":case"today":Ae.graphMode="month",tr();break;case"month":Ae.graphMode="year",tr();break}}function Dm(){switch(Ae.graphMode){case"year":Ae.graphMode="month",tr();break;case"month":Ae.graphMode="today",tr();break;case"today":case"day":Ae.graphMode="live",tr();break}}function Ev(t){if(Ae.graphMode=="day"||Ae.graphMode=="today"){zt.setDate(t);const e=new Date;zt.date.getDate()==e.getDate()&&zt.date.getMonth()==e.getMonth()&&zt.date.getFullYear()==e.getFullYear()?Ae.graphMode="today":Ae.graphMode="day",tr()}}const gn=lt(new Map);let IB=class{constructor(){ve(this,"_showRelativeArcs",!1);ve(this,"showTodayGraph",!0);ve(this,"_graphPreference","today");ve(this,"_usageStackOrder",0);ve(this,"_displayMode","dark");ve(this,"_showGrid",!1);ve(this,"_smartHomeColors","normal");ve(this,"_decimalPlaces",1);ve(this,"_showQuickAccess",!0);ve(this,"_simpleCpList",!1);ve(this,"_shortCpList","no");ve(this,"_showAnimations",!0);ve(this,"_preferWideBoxes",!1);ve(this,"_maxPower",4e3);ve(this,"_fluidDisplay",!1);ve(this,"_showClock","no");ve(this,"_showButtonBar",!0);ve(this,"_showCounters",!1);ve(this,"_showVehicles",!1);ve(this,"_showStandardVehicle",!0);ve(this,"_showPrices",!1);ve(this,"_showInverters",!1);ve(this,"_alternativeEnergy",!1);ve(this,"_sslPrefs",!1);ve(this,"_debug",!1);ve(this,"_lowerPriceBound",0);ve(this,"_upperPriceBound",0);ve(this,"_showPmLabels",!0);ve(this,"showRightButton",!0);ve(this,"showLeftButton",!0);ve(this,"animationDuration",300);ve(this,"animationDelay",100);ve(this,"zoomGraph",!1);ve(this,"zoomedWidget",1)}get showRelativeArcs(){return this._showRelativeArcs}set showRelativeArcs(e){this._showRelativeArcs=e,wt()}setShowRelativeArcs(e){this._showRelativeArcs=e}get graphPreference(){return this._graphPreference}set graphPreference(e){this._graphPreference=e,wt()}setGraphPreference(e){this._graphPreference=e}get usageStackOrder(){return this._usageStackOrder}set usageStackOrder(e){this._usageStackOrder=e,wt()}setUsageStackOrder(e){this._usageStackOrder=e}get displayMode(){return this._displayMode}set displayMode(e){this._displayMode=e,OB(e)}setDisplayMode(e){this._displayMode=e}get showGrid(){return this._showGrid}set showGrid(e){this._showGrid=e,wt()}setShowGrid(e){this._showGrid=e}get decimalPlaces(){return this._decimalPlaces}set decimalPlaces(e){this._decimalPlaces=e,wt()}setDecimalPlaces(e){this._decimalPlaces=e}get smartHomeColors(){return this._smartHomeColors}set smartHomeColors(e){this._smartHomeColors=e,Sv(e),wt()}setSmartHomeColors(e){this._smartHomeColors=e,Sv(e)}get showQuickAccess(){return this._showQuickAccess}set showQuickAccess(e){this._showQuickAccess=e,wt()}setShowQuickAccess(e){this._showQuickAccess=e}get simpleCpList(){return this._simpleCpList}set simpleCpList(e){this._simpleCpList=e,wt()}setSimpleCpList(e){this._simpleCpList=e}get shortCpList(){return this._shortCpList}set shortCpList(e){this._shortCpList=e,wt()}setShortCpList(e){this._shortCpList=e}get showAnimations(){return this._showAnimations}set showAnimations(e){this._showAnimations=e,wt()}setShowAnimations(e){this._showAnimations=e}get preferWideBoxes(){return this._preferWideBoxes}set preferWideBoxes(e){this._preferWideBoxes=e,wt()}setPreferWideBoxes(e){this._preferWideBoxes=e}get maxPower(){return this._maxPower}set maxPower(e){this._maxPower=e,wt()}setMaxPower(e){this._maxPower=e}get fluidDisplay(){return this._fluidDisplay}set fluidDisplay(e){this._fluidDisplay=e,wt()}setFluidDisplay(e){this._fluidDisplay=e}get showClock(){return this._showClock}set showClock(e){this._showClock=e,wt()}setShowClock(e){this._showClock=e}get sslPrefs(){return this._sslPrefs}set sslPrefs(e){this._sslPrefs=e,wt()}setSslPrefs(e){this._sslPrefs=e}get debug(){return this._debug}set debug(e){this._debug=e,wt()}setDebug(e){this._debug=e}get showButtonBar(){return this._showButtonBar}set showButtonBar(e){this._showButtonBar=e,wt()}setShowButtonBar(e){this._showButtonBar=e}get showCounters(){return this._showCounters}set showCounters(e){this._showCounters=e,wt()}setShowCounters(e){this._showCounters=e}get showVehicles(){return this._showVehicles}set showVehicles(e){this._showVehicles=e,wt()}setShowVehicles(e){this._showVehicles=e}get showStandardVehicle(){return this._showStandardVehicle}set showStandardVehicle(e){this._showStandardVehicle=e,wt()}setShowStandardVehicle(e){this._showStandardVehicle=e}get showPrices(){return this._showPrices}set showPrices(e){this._showPrices=e,wt()}setShowPrices(e){this._showPrices=e}get showInverters(){return this._showInverters}set showInverters(e){this._showInverters=e,wv(),_v(),wt()}setShowInverters(e){this._showInverters=e}get alternativeEnergy(){return this._alternativeEnergy}set alternativeEnergy(e){this._alternativeEnergy=e,wv(),_v(),wt()}setAlternativeEnergy(e){this._alternativeEnergy=e}get lowerPriceBound(){return this._lowerPriceBound}set lowerPriceBound(e){this._lowerPriceBound=e,wt()}setLowerPriceBound(e){this._lowerPriceBound=e}get upperPriceBound(){return this._upperPriceBound}set upperPriceBound(e){this._upperPriceBound=e,wt()}setUpperPriceBound(e){this._upperPriceBound=e}get showPmLabels(){return this._showPmLabels}set showPmLabels(e){this._showPmLabels=e,wt()}setShowPmLabels(e){this._showPmLabels=e}};const _e=Vt(new IB);function OS(){BB();const t=Tt("html");t.classed("theme-dark",_e.displayMode=="dark"),t.classed("theme-light",_e.displayMode=="light"),t.classed("theme-blue",_e.displayMode=="blue"),t.classed("shcolors-standard",_e.smartHomeColors=="standard"),t.classed("shcolors-advanced",_e.smartHomeColors=="advanced"),t.classed("shcolors-normal",_e.smartHomeColors=="normal")}const MB=992,Ec=Vt({x:document.documentElement.clientWidth,y:document.documentElement.clientHeight});function kB(){Ec.x=document.documentElement.clientWidth,Ec.y=document.documentElement.clientHeight,OS()}const Vn=we(()=>Ec.x>=MB),mr={instant_charging:{mode:Wr.instant_charging,name:"Sofort",color:"var(--color-charging)",icon:"fa-bolt"},pv_charging:{mode:Wr.pv_charging,name:"PV",color:"var(--color-pv)",icon:"fa-solar-panel"},scheduled_charging:{mode:Wr.scheduled_charging,name:"Zielladen",color:"var(--color-battery)",icon:"fa-bullseye"},eco_charging:{mode:Wr.eco_charging,name:"Eco",color:"var(--color-devices)",icon:"fa-coins"},stop:{mode:Wr.stop,name:"Stop",color:"var(--color-fg)",icon:"fa-power-off"}};class PB{constructor(){ve(this,"batterySoc",0);ve(this,"isBatteryConfigured",!0);ve(this,"chargeMode","0");ve(this,"_pvBatteryPriority","ev_mode");ve(this,"displayLiveGraph",!0);ve(this,"isEtEnabled",!0);ve(this,"etMaxPrice",0);ve(this,"etCurrentPrice",0);ve(this,"cpDailyExported",0);ve(this,"evuId",0);ve(this,"etProvider","");ve(this,"country","de")}get pvBatteryPriority(){return this._pvBatteryPriority}set pvBatteryPriority(e){this._pvBatteryPriority=e,yr("pvBatteryPriority",e)}updatePvBatteryPriority(e){this._pvBatteryPriority=e}}function wt(){RB()}function OB(t){const e=Tt("html");e.classed("theme-dark",t=="dark"),e.classed("theme-light",t=="light"),e.classed("theme-blue",t=="blue"),wt()}function LB(){_e.maxPower=ke.getPower("evuIn")+ke.getPower("pv")+ke.getPower("batOut"),wt()}function Sv(t){const e=Tt("html");e.classed("shcolors-normal",t=="normal"),e.classed("shcolors-standard",t=="standard"),e.classed("shcolors-advanced",t=="advanced")}const zi={chargemode:"Der Lademodus für das Fahrzeug an diesem Ladepunkt",vehicle:"Das Fahrzeug, das an diesem Ladepounkt geladen wird",locked:"Für das Laden sperren",priority:"Fahrzeuge mit Priorität werden bevorzugt mit mehr Leistung geladen, falls verfügbar",timeplan:"Das Laden nach Zeitplan für dieses Fahrzeug aktivieren",minsoc:"Immer mindestens bis zum eingestellten Ladestand laden. Wenn notwendig mit Netzstrom.",minpv:"Durchgehend mit mindestens dem eingestellten Strom laden. Wenn notwendig mit Netzstrom.",pricebased:"Laden bei dynamischem Stromtarif, wenn eingestellter Maximalpreis unterboten wird.",pvpriority:"Ladepriorität bei PV-Produktion. Bevorzung von Fahzeugen, Speicher, oder Fahrzeugen bis zum eingestellten Mindest-Ladestand. Die Einstellung ist für alle Ladepunkte gleich."};function RB(){const t={};t.hideSH=[...$t.values()].filter(e=>!e.showInGraph).map(e=>e.id),t.showLG=_e.graphPreference=="live",t.displayM=_e.displayMode,t.stackO=_e.usageStackOrder,t.showGr=_e.showGrid,t.decimalP=_e.decimalPlaces,t.smartHomeC=_e.smartHomeColors,t.relPM=_e.showRelativeArcs,t.maxPow=_e.maxPower,t.showQA=_e.showQuickAccess,t.simpleCP=_e.simpleCpList,t.shortCP=_e.shortCpList,t.animation=_e.showAnimations,t.wideB=_e.preferWideBoxes,t.fluidD=_e.fluidDisplay,t.clock=_e.showClock,t.showButtonBar=_e.showButtonBar,t.showCounters=_e.showCounters,t.showVehicles=_e.showVehicles,t.showStandardV=_e.showStandardVehicle,t.showPrices=_e.showPrices,t.showInv=_e.showInverters,t.altEngy=_e.alternativeEnergy,t.lowerP=_e.lowerPriceBound,t.upperP=_e.upperPriceBound,t.sslPrefs=_e.sslPrefs,t.pmLabels=_e.showPmLabels,t.debug=_e.debug,document.cookie="openWBColorTheme="+JSON.stringify(t)+";max-age=16000000;"+(_e.sslPrefs?"SameSite=None;Secure":"SameSite=Strict")}function BB(){const e=document.cookie.split(";").filter(r=>r.split("=")[0]==="openWBColorTheme");if(e.length>0){const r=JSON.parse(e[0].split("=")[1]);r.decimalP!==void 0&&_e.setDecimalPlaces(+r.decimalP),r.smartHomeC!==void 0&&_e.setSmartHomeColors(r.smartHomeC),r.hideSH!==void 0&&r.hideSH.forEach(n=>{$t.get(n)==null&&mm(n),$t.get(n).setShowInGraph(!1)}),r.showLG!==void 0&&_e.setGraphPreference(r.showLG?"live":"today"),r.maxPow!==void 0&&_e.setMaxPower(+r.maxPow),r.relPM!==void 0&&_e.setShowRelativeArcs(r.relPM),r.displayM!==void 0&&_e.setDisplayMode(r.displayM),r.stackO!==void 0&&_e.setUsageStackOrder(r.stackO),r.showGr!==void 0&&_e.setShowGrid(r.showGr),r.showQA!==void 0&&_e.setShowQuickAccess(r.showQA),r.simpleCP!==void 0&&_e.setSimpleCpList(r.simpleCP),r.shortCP!==void 0&&_e.setShortCpList(r.shortCP),r.animation!=null&&_e.setShowAnimations(r.animation),r.wideB!=null&&_e.setPreferWideBoxes(r.wideB),r.fluidD!=null&&_e.setFluidDisplay(r.fluidD),r.clock!=null&&_e.setShowClock(r.clock),r.showButtonBar!==void 0&&_e.setShowButtonBar(r.showButtonBar),r.showCounters!==void 0&&_e.setShowCounters(r.showCounters),r.showVehicles!==void 0&&_e.setShowVehicles(r.showVehicles),r.showStandardV!==void 0&&_e.setShowStandardVehicle(r.showStandardV),r.showPrices!==void 0&&_e.setShowPrices(r.showPrices),r.showInv!==void 0&&_e.setShowInverters(r.showInv),r.altEngy!==void 0&&_e.setAlternativeEnergy(r.altEngy),r.lowerP!==void 0&&_e.setLowerPriceBound(r.lowerP),r.upperP!==void 0&&_e.setUpperPriceBound(r.upperP),r.sslPrefs!==void 0&&_e.setSslPrefs(r.sslPrefs),r.pmLabels!==void 0&&_e.setShowPmLabels(r.pmLabels),r.debug!==void 0&&_e.setDebug(r.debug)}}const tn=Vt({evuIn:{name:"Netz",color:"var(--color-evu)",icon:""},pv:{name:"PV",color:"var(--color-pv",icon:""},batOut:{name:"Bat >",color:"var(--color-battery)",icon:""},evuOut:{name:"Export",color:"var(--color-export)",icon:""},charging:{name:"Laden",color:"var(--color-charging)",icon:""},devices:{name:"Geräte",color:"var(--color-devices)",icon:""},counters:{name:"Zähler",color:"var(--color-counters)",icon:""},batIn:{name:"> Bat",color:"var(--color-battery)",icon:""},house:{name:"Haus",color:"var(--color-house)",icon:""}}),xv=new Map([["pv",["var(--color-pv1)","var(--color-pv2)","var(--color-pv3)","var(--color-pv4)","var(--color-pv5)","var(--color-pv6)","var(--color-pv7)","var(--color-pv8)","var(--color-pv9)	"]],["bat",["var(--color-bat1)","var(--color-bat2)","var(--color-bat3)","var(--color-bat4)","var(--color-bat5)","var(--color-bat6)","var(--color-bat7)","var(--color-bat8)","var(--color-bat9)	"]],["cp",["var(--color-cp1)","var(--color-cp2)","var(--color-cp3)","var(--color-cp4)","var(--color-cp5)","var(--color-cp6)","var(--color-cp7)","var(--color-cp8)	"]],["counter",["var(--color-ctr1)","var(--color-ctr2)","var(--color-ctr3)","var(--color-ctr4)","var(--color-ctr5)","var(--color-ctr6)","var(--color-ctr7)","var(--color-ctr8)","var(--color-ctr9)","var(--color-ctr10)	"]],["sh",["var(--color-sh1)","var(--color-sh2)","var(--color-sh3)","var(--color-sh4)","var(--color-sh5)","var(--color-sh6)","var(--color-sh7)","var(--color-sh8)","var(--color-sh9)	"]]]);function Um(t,e){if(xv.has(t)){const r=xv.get(t);return r[e%r.length]}return"var(--color-charging)"}class $B{constructor(){ve(this,"_items",new Map);this.addItem("evuIn"),this.addItem("pv"),this.addItem("batOut"),this.addItem("evuOut"),this.addItem("charging"),this.addItem("devices"),this.addItem("counters"),this.addItem("batIn"),this.addItem("house")}get items(){return this._items}get usageSummary(){return[this._items.get("evuOut"),this._items.get("charging"),this._items.get("devices"),this._items.get("counters"),this._items.get("batIn"),this._items.get("house")]}get sourceSummary(){return[this._items.get("evuIn"),this._items.get("pv"),this._items.get("batOut")]}keys(){return Array.from(this._items.keys())}values(){return Array.from(this._items.values())}getItem(e){return this._items.get(e)}addItem(e,r,n,s){let i;if(r)i=r;else switch(e){case"evuIn":i=Et.counter;break;case"pv":i=Et.inverter;break;case"batOut":i=Et.battery;break;case"evuOut":i=Et.counter;break;case"charging":i=Et.chargepoint;break;case"devices":i=Et.device;break;case"counters":i=Et.counter;break;case"batIn":i=Et.battery;break;case"house":i=Et.house;break;default:i=Et.counter}this._items.set(e,s?Fs(e,i,s):Fs(e,i)),n&&(this._items.get(e).name=n.name,this._items.get(e).icon=n.icon,this._items.get(e).color=n.color)}duplicateItem(e,r){let n=Fs(e,r.type);n={...r},this._items.set(e,n)}getPower(e){return this._items.get(e).power}setPower(e,r){this.items.has(e)||console.error(`item ${e} not found in item list`),this._items.get(e).power=r}getEnergy(e){return this.items.has(e)||this.addItem(e),Ae.usePastData?this._items.get(e).past.energy:this._items.get(e).now.energy}setEnergy(e,r){this.items.has(e)||console.error(`item ${e} not found in item list`),Ae.usePastData?this._items.get(e).past.energy=r:this._items.get(e).now.energy=r}setEnergyPv(e,r){this.items.has(e)||this.addItem(e),Ae.usePastData?this._items.get(e).past.energyPv=r:this._items.get(e).now.energyPv=r}setEnergyBat(e,r){this.items.has(e)||this.addItem(e),Ae.usePastData?this._items.get(e).past.energyBat=r:this._items.get(e).now.energyBat=r}setPvPercentage(e,r){this.items.has(e)||console.error(`item ${e} not found in item list`),Ae.usePastData?this._items.get(e).past.pvPercentage=r<=100?r:100:this._items.get(e).now.pvPercentage=r<=100?r:100}calculatePvPercentage(e){this.items.has(e)||console.error(`item ${e} not found in item list`),this._items.get(e)[Ae.graphScope].pvPercentage=Math.round((this.items.get(e)[Ae.graphScope].energyPv+this.items.get(e)[Ae.graphScope].energyBat)/this.items.get(e)[Ae.graphScope].energy*100)}calculateHouseEnergy(e=!1){e?this._items.get("house").past.energy=this._items.get("evuIn").past.energy+this._items.get("pv").past.energy+this._items.get("batOut").past.energy-this._items.get("evuOut").past.energy-this._items.get("batIn").past.energy-this._items.get("charging").past.energy-this._items.get("devices").past.energy-this._items.get("counters").past.energy:this._items.get("house").now.energy=this._items.get("evuIn").now.energy+this._items.get("pv").now.energy+this._items.get("batOut").now.energy-this._items.get("evuOut").now.energy-this._items.get("batIn").now.energy-this._items.get("charging").now.energy-this._items.get("devices").now.energy-this._items.get("counters").now.energy}}const ke=Vt(new $B);function Fm(){ke.values().forEach(t=>{t.past.energy=0,t.past.energyPv=0,t.past.energyBat=0,t.past.pvPercentage=0})}Vt({evuIn:Fs("evuIn",Et.counter),pv:Fs("pv",Et.pvSummary),batOut:Fs("batOut",Et.batterySummary)});const Mt=Vt(new PB);lt("");const Yo=lt(!1);function Fs(t,e,r){return{name:tn[t]?tn[t].name:"item",type:e,power:0,now:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},past:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},color:r||(tn[t]?tn[t].color:"var(--color-charging)"),icon:tn[t]?tn[t].icon:"",showInGraph:!0}}const pg=lt(new Date),sr=lt(new Map),NB=t=>{sr.value.set(t,new S1(t)),DB()};function DB(){[...sr.value.values()].sort((e,r)=>e.id-r.id).forEach((e,r)=>{e.color=Um("pv",r)})}class UB{constructor(e){ve(this,"id");ve(this,"name","Speicher");ve(this,"type",Et.battery);ve(this,"color","var(--color-battery)");ve(this,"dailyYieldExport",0);ve(this,"dailyYieldImport",0);ve(this,"monthlyYieldExport",0);ve(this,"monthlyYieldImport",0);ve(this,"yearlyYieldExport",0);ve(this,"yearlyYieldImport",0);ve(this,"exported",0);ve(this,"faultState",0);ve(this,"faultStr","");ve(this,"imported",0);ve(this,"power",0);ve(this,"soc",0);ve(this,"now",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"past",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"showInGraph",!0);ve(this,"icon","Speicher");this.id=e}}class FB{constructor(){ve(this,"dailyExport",0);ve(this,"dailyImport",0);ve(this,"exported",0);ve(this,"imported",0);ve(this,"power",0);ve(this,"soc",0)}}Vt(new FB);const kt=lt(new Map),LS=t=>{kt.value.set(t,new UB(t)),kt.value.get(t).color=Um("bat",kt.value.size)};function VB(){kt.value=new Map}function qr(t,e=1){let r;if(t>=1e3&&e<4){switch(e){case 0:r=Math.round(t/1e3);break;case 1:r=Math.round(t/100)/10;break;case 2:r=Math.round(t/10)/100;break;case 3:r=Math.round(t)/1e3;break;default:r=Math.round(t/100)/10;break}return(r==null?void 0:r.toLocaleString(void 0,{minimumFractionDigits:e}))+" kW"}else return Math.round(t).toLocaleString()+" W"}function Ai(t,e=1,r=!1){let n;if(t>1e6&&(r=!0,t=t/1e3),t>=1e3&&e<4){switch(e){case 0:n=Math.round(t/1e3);break;case 1:n=Math.round(t/100)/10;break;case 2:n=Math.round(t/10)/100;break;case 3:n=Math.round(t)/1e3;break;default:n=Math.round(t/100)/10;break}return n.toLocaleString(void 0,{minimumFractionDigits:e})+(r?" MWh":" kWh")}else return Math.round(t).toLocaleString()+(r?" kWh":" Wh")}function jB(t){const e=Math.floor(t/3600),r=(t%3600/60).toFixed(0);return e>0?e+"h "+r+" min":r+" min"}function RS(t){return t.toLocaleTimeString(["de-DE"],{hour:"2-digit",minute:"2-digit"})}function WB(t,e){return["Jan","Feb","März","April","Mai","Juni","Juli","Aug","Sep","Okt","Nov","Dez"][t]+" "+e}function zB(t){return t!=999?(Math.round(t*10)/10).toLocaleString(void 0,{minimumFractionDigits:1})+"°":"-"}function HB(t){const e=document.documentElement,r=getComputedStyle(e);t=t.slice(4,-1);const n=r.getPropertyValue(t).trim(),s=parseInt(n.slice(1,3),16),i=parseInt(n.slice(3,5),16),a=parseInt(n.slice(5,7),16);return(s*299+i*587+a*114)/1e3>125?"black":"white"}const qB={y:"0",class:"popup-title"},GB={dy:"1em",x:"0",class:"popup-content"},YB=We({__name:"PMPopup",props:{consumer:{}},setup(t){const e=t;function r(n){return n.length>8?n.substring(0,8)+".":n}return(n,s)=>(ae(),Ee("g",null,[z("rect",{x:"-40",y:"-17",rx:"10",ry:"10",width:"80",height:"40","corner-radius":"20",filter:"url(#f1)",class:"popup",style:ft({fill:e.consumer.color})},null,4),z("text",{dy:"0",x:"0",y:"0",class:"popup-textbox",style:ft({fill:ne(HB)(e.consumer.color)})},[z("tspan",qB,Pe(r(e.consumer.name)),1),z("tspan",GB,Pe(ne(qr)(Math.abs(e.consumer.power))),1)],4)]))}}),Je=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},KB=Je(YB,[["__scopeId","data-v-a154651e"]]),XB={key:0},QB=["d"],JB=["d","fill","stroke"],ZB={key:1},e$=["transform"],BS=We({__name:"PMArc",props:{upperArc:{type:Boolean},plotdata:{},radius:{},categoriesToShow:{}},setup(t){const e=t,r=we(()=>_e.showRelativeArcs?0:10),n=Math.PI/40,s=we(()=>e.upperArc?Ly().value(u=>Math.abs(u.power)).startAngle(-Math.PI/2+n).endAngle(Math.PI/2-n).sort(null):Ly().value(u=>u.power).startAngle(Math.PI*1.5-n).endAngle(Math.PI/2+n).sort(null)),i=we(()=>Oy().innerRadius(e.radius*.87).outerRadius(e.radius).cornerRadius(r.value));var a=Oy().startAngle(e.upperArc?-Math.PI/2+n:Math.PI*1.5-n).endAngle(e.upperArc?Math.PI/2-n:Math.PI/2+n).innerRadius(e.radius*.87).outerRadius(e.radius).cornerRadius(0);function o(u){return u.data.name=="empty"?u.data.power>0?"var(--color-scale)":"null":u.data.color}const l=we(()=>e.plotdata.reduce((u,c)=>u+Math.abs(c.power),0));return(u,c)=>(ae(),Ee(Ge,null,[c[0]||(c[0]=z("g",null,[z("defs",null,[z("filter",{id:"f1"},[z("feDropShadow",{dx:"1",dy:"1",rx:"10",ry:"10",stdDeviation:"1","flood-opacity":"0.7","flood-color":"var(--color-axis)"})])])],-1)),ne(_e).showRelativeArcs?(ae(),Ee("g",XB,[z("path",{d:ne(a)(0),fill:"var(--color-bg)",stroke:"var(--color-menu)"},null,8,QB)])):Me("",!0),(ae(!0),Ee(Ge,null,ot(s.value(e.plotdata.filter(f=>f.power!=0)),f=>(ae(),Ee("g",{key:f.data.name},[f.data.name!="empty"?(ae(),Ee("path",{key:0,d:i.value(f),fill:f.data.color,stroke:o(f)},null,8,JB)):Me("",!0)]))),128)),ne(_e).showPmLabels?(ae(),Ee("g",ZB,[(ae(!0),Ee(Ge,null,ot(s.value(u.plotdata.filter(f=>f.power!=0)),f=>(ae(),Ee("g",{key:f.data.name,transform:"translate("+i.value.centroid(f)+")"},[u.categoriesToShow.includes(f.data.type)&&Math.abs(f.data.power)/l.value>.06&&f.data.name!="empty"?(ae(),Be(KB,{key:0,consumer:f.data},null,8,["consumer"])):Me("",!0)],8,e$))),128))])):Me("",!0)],64))}}),t$=We({__name:"PMSourceArc",props:{radius:{},cornerRadius:{},circleGapSize:{},emptyPower:{}},setup(t){const e=t,r=[Et.inverter,Et.battery],n=we(()=>({name:"empty",type:Et.counter,power:e.emptyPower,now:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},past:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},energy:0,energyPv:0,energyBat:0,pvPercentage:0,color:"var(--color-bg)",icon:"",showInGraph:!0})),s=we(()=>[ke.getItem("evuIn")].concat(i.value,a.value,n.value)),i=we(()=>sr.value.size>1?[...sr.value.values()].filter(o=>o.power<0).sort((o,l)=>o.power-l.power):ke.getItem("pv").power>0?[ke.getItem("pv")]:[]),a=we(()=>kt.value.size>1?[...kt.value.values()].filter(o=>o.power<0).sort((o,l)=>o.power-l.power):[ke.getItem("batOut")]);return $A(()=>{let o=ke.getPower("pv")+ke.getPower("evuIn")+ke.getPower("batOut");o>_e.maxPower&&(_e.maxPower=o)}),(o,l)=>(ae(),Be(BS,{"upper-arc":!0,plotdata:s.value,radius:e.radius,"categories-to-show":r},null,8,["plotdata","radius"]))}});class r${constructor(e){ve(this,"id");ve(this,"name","Zähler");ve(this,"power",0);ve(this,"now",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"past",{energy:0,energyPv:0,energyBat:0,pvPercentage:0});ve(this,"energy_imported",0);ve(this,"energy_exported",0);ve(this,"grid",!1);ve(this,"counterType","counter");ve(this,"type",Et.counter);ve(this,"color","var(--color-ctr7)");ve(this,"icon","Zähler");ve(this,"showInGraph",!0);this.id=e}}const St=Vt(new Map);function n$(t,e,r=!1){if(St.has(t))console.info("Duplicate counter message: "+t);else switch(St.set(t,new r$(t)),St.get(t).counterType=e,e){case"counter":St.get(t).color=r?"var(--color-evu)":"var(--color-ctr"+(St.size-1)+")",r&&(St.get(t).showInGraph=!1);break;case"inverter":St.get(t).color="var(--color-pv)";break;case"cp":St.get(t).color="var(--color-charging)";break;case"bat":St.get(t).color="var(--color-bat)";break}}function i$(t){switch(t){case"power":ke.setPower("counters",[...St.values()].filter(e=>e.showInGraph).reduce((e,r)=>e+r.power,0));break;case"energy":ke.setEnergy("counters",[...St.values()].filter(e=>!e.showInGraph).reduce((e,r)=>e+r.now.energy,0));break;default:console.error("Unknown category")}}const s$=We({__name:"PMUsageArc",props:{radius:{},cornerRadius:{},circleGapSize:{},emptyPower:{}},setup(t){const e=t,r=[Et.chargepoint,Et.battery,Et.device,Et.counter],n=we(()=>({name:"empty",type:Et.counter,power:e.emptyPower,now:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},past:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},color:"var(--color-bg)",icon:"",showInGraph:!0})),s=we(()=>[ke.getItem("evuOut")].concat(i.value,a.value,l.value,o.value,u.value,ke.getItem("house"),n.value)),i=we(()=>Object.values(Ke).length>1?Object.values(Ke).sort((c,f)=>f.power-c.power):[ke.getItem("charging")]),a=we(()=>{let c=0;for(const p of $t.values())p.configured&&!p.countAsHouse&&!p.showInGraph&&(c+=p.power);const f={name:"Geräte",type:Et.device,power:c,now:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},past:{energy:0,energyPv:0,energyBat:0,pvPercentage:0},color:"var(--color-devices)",icon:"",showInGraph:!0};let d=[...$t.values()].filter(p=>p.configured);return d.length>1?[f].concat(d.filter(p=>!p.countAsHouse&&p.showInGraph).sort((p,g)=>g.power-p.power)):[ke.getItem("devices")]}),o=we(()=>kt.value.size>1?[...kt.value.values()].filter(c=>c.power>0).sort((c,f)=>f.power-c.power):kt.value.size>0?[ke.getItem("batIn")]:[]),l=we(()=>St.size>0?[...St.values()].filter(c=>c.showInGraph&&c.power>0).sort((c,f)=>f.power-c.power):[]),u=we(()=>sr.value.size>1?[...sr.value.values()].filter(c=>c.power>0).sort((c,f)=>c.power-f.power):ke.getItem("pv").power<0?[ke.getItem("pv")]:[]);return(c,f)=>(ae(),Be(BS,{"upper-arc":!1,plotdata:s.value,radius:e.radius,"categories-to-show":r},null,8,["plotdata","radius"]))}}),Pl=We({__name:"FormatWatt",props:{watt:{}},setup(t){const e=t,r=we(()=>qr(e.watt,_e.decimalPlaces));return(n,s)=>Pe(r.value)}}),o$={key:0,id:"pmLabel"},a$=["x","y","fill","text-anchor"],l$=22,Pn=We({__name:"PMLabel",props:{x:{},y:{},data:{},props:{},anchor:{},labeltext:{},labelicon:{},labelcolor:{}},setup(t){const e=t,r=we(()=>e.labeltext?e.labeltext:e.props?e.props.icon+" ":e.labelicon?e.labelicon+" ":""),n=we(()=>e.labelcolor?e.labelcolor:e.props?e.props.color:""),s=we(()=>!e.data||e.data.power>0),i=we(()=>e.labeltext?"":"fas");return(a,o)=>s.value?(ae(),Ee("g",o$,[z("text",{x:a.x,y:a.y,fill:n.value,"text-anchor":a.anchor,"font-size":l$,class:"pmLabel"},[z("tspan",{class:tt(i.value)},Pe(r.value),3),z("tspan",null,[a.data!==void 0?(ae(),Be(Pl,{key:0,watt:a.data.power},null,8,["watt"])):Me("",!0)])],8,a$)])):Me("",!0)}}),u$={class:"wb-widget p-0 m-0 shadow"},c$={class:"d-flex justify-content-between"},f$={class:"m-4 me-0 mb-0"},d$={class:"p-4 pb-0 ps-0 m-0",style:{"text-align":"right"}},h$={class:"px-4 pt-4 pb-2 wb-subwidget"},p$={class:"row"},g$={class:"col m-0 p-0"},m$={class:"container-fluid m-0 p-0"},b$={key:0},y$={class:"px-4 py-2 wb-subwidget"},w$={class:"row"},v$={class:"col"},_$={class:"container-fluid m-0 p-0"},Ol=We({__name:"WBWidget",props:{variableWidth:{type:Boolean},fullWidth:{type:Boolean}},setup(t){const e=t,r=we(()=>e.fullWidth?"col-12":e.variableWidth&&_e.preferWideBoxes?"col-lg-6":"col-lg-4");return(n,s)=>(ae(),Ee("div",{class:tt(["p-2 m-0 d-flex",r.value])},[z("div",u$,[z("div",c$,[z("h3",f$,[qt(n.$slots,"title",{},()=>[s[0]||(s[0]=z("div",{class:"p-0"},"(title goes here)",-1))]),qt(n.$slots,"subtitle")]),z("div",d$,[qt(n.$slots,"buttons")])]),z("div",h$,[z("div",p$,[z("div",g$,[z("div",m$,[qt(n.$slots,"default")])])])]),n.$slots.footer!=null?(ae(),Ee("div",b$,[s[1]||(s[1]=z("hr",null,null,-1)),z("div",y$,[z("div",w$,[z("div",v$,[z("div",_$,[qt(n.$slots,"footer")])])])])])):Me("",!0)])],2))}});class E${constructor(){ve(this,"active",!1);ve(this,"etPriceList",new Map);ve(this,"etProvider","");ve(this,"etMaxPrice",0);ve(this,"country","de")}get etCurrentPriceString(){if(this.etPriceList.size>0){const[e]=this.etPriceList.values();return(Math.round(e*10)/10).toFixed(1)+(Mt.country==="ch"?" Rp":" ct")}else return"---"}}const It=Vt(new E$),S$={id:"powermeter",class:"p-0 m-0"},x$=["viewBox"],T$=["transform"],A$=["x"],C$=["y"],Es=500,Zn=20,Tv=20,I$=We({__name:"PowerMeter",setup(t){const e=Es,r=Math.PI/40,n=[[4],[4,6],[1,4,6],[0,2,4,6],[0,2,3,5,6]],s=[{x:-85,y:e/2*1/5},{x:0,y:e/2*1/5},{x:85,y:e/2*1/5},{x:-85,y:e/2*2/5},{x:0,y:e/2*2/5},{x:85,y:e/2*2/5},{x:0,y:e/2*3/5}],i=we(()=>Es/2-Zn),a=we(()=>{let v="",w=ke.sourceSummary.filter(_=>_.power>0);return w.length==1&&w[0].name=="PV"?v="Aktueller Verbrauch: ":v="Bezug/Verbrauch: ",v+qr(ke.getPower("house")+ke.getPower("charging")+ke.getPower("devices")+ke.getPower("batIn")+ke.getPower("counters"),_e.decimalPlaces)}),o=we(()=>{let v=ke.getPower("pv")+ke.getPower("evuIn")+ke.getPower("batOut");return _e.maxPower>v?qr(_e.maxPower,_e.decimalPlaces):qr(v,_e.decimalPlaces)}),l=we(()=>Object.values(Ke)),u=we(()=>{let v=0;return _e.showRelativeArcs&&(v=_e.maxPower-(ke.getPower("pv")+ke.getPower("evuIn")+ke.getPower("batOut"))),v<0?0:v}),c=we(()=>[ke.getItem("evuOut"),ke.getItem("charging"),ke.getItem("devices"),ke.getItem("counters"),ke.getItem("batIn"),ke.getItem("house")].filter(v=>v.power>0)),f=we(()=>n[c.value.length-1]);function d(v){return s[f.value[v]]}function p(v){return v.length>12?v.slice(0,11)+".":v}const g=we(()=>{const[v]=It.etPriceList.values();return Math.round(v*10)/10});function b(){_e.showPmLabels=!_e.showPmLabels}return(v,w)=>(ae(),Be(Ol,{"full-width":!0},{title:Ie(()=>w[0]||(w[0]=[it(" Aktuelle Leistung ")])),default:Ie(()=>[z("figure",S$,[(ae(),Ee("svg",{viewBox:"0 0 "+Es+" "+ne(e)},[z("g",{transform:"translate("+Es/2+","+ne(e)/2+")"},[Se(t$,{radius:i.value,"corner-radius":Tv,"circle-gap-size":r,"empty-power":u.value},null,8,["radius","empty-power"]),Se(s$,{radius:i.value,"corner-radius":Tv,"circle-gap-size":r,"empty-power":u.value},null,8,["radius","empty-power"]),Se(Pn,{x:0,y:-ne(e)/10*2,data:ne(ke).getItem("pv"),props:ne(tn).pv,anchor:"middle",config:ne(_e)},null,8,["y","data","props","config"]),Se(Pn,{x:0,y:-ne(e)/10*3,data:ne(ke).getItem("evuIn"),props:ne(tn).evuIn,anchor:"middle",config:ne(_e)},null,8,["y","data","props","config"]),Se(Pn,{x:0,y:-ne(e)/10,data:ne(ke).getItem("batOut"),props:ne(tn).batOut,anchor:"middle",config:ne(_e)},null,8,["y","data","props","config"]),ne(It).active?(ae(),Be(Pn,{key:0,x:0,y:-ne(e)/10,data:ne(ke).getItem("batOut"),props:ne(tn).batOut,anchor:"middle",config:ne(_e)},null,8,["y","data","props","config"])):Me("",!0),(ae(!0),Ee(Ge,null,ot(c.value,(_,y)=>(ae(),Be(Pn,{key:y,x:d(y).x,y:d(y).y,data:_,labelicon:_.icon,labelcolor:_.color,anchor:"middle",config:ne(_e)},null,8,["x","y","data","labelicon","labelcolor","config"]))),128)),ne(Xt)[0]!=null&&ne(at)[ne(Xt)[0]]!=null&&ne(at)[ne(Xt)[0]].isSocConfigured?(ae(),Be(Pn,{key:1,x:-500/2-Zn/4+10,y:-ne(e)/2+Zn+5,labeltext:p(ne(at)[ne(Xt)[0]].name)+": "+Math.round(ne(at)[ne(Xt)[0]].soc)+"%",labelcolor:l.value[0]?l.value[0].color:"var(--color-charging)",anchor:"start",config:ne(_e)},null,8,["x","y","labeltext","labelcolor","config"])):Me("",!0),ne(Xt)[1]!=null&&ne(at)[ne(Xt)[1]]!=null&&ne(at)[ne(Xt)[1]].isSocConfigured?(ae(),Be(Pn,{key:2,x:Es/2+Zn/4-10,y:-ne(e)/2+Zn+5,labeltext:p(ne(at)[ne(Xt)[1]].name)+": "+Math.round(ne(at)[ne(Xt)[1]].soc)+"%",labelcolor:l.value[1]?l.value[1].color:"var(--color-charging)",anchor:"end",config:ne(_e)},null,8,["x","y","labeltext","labelcolor","config"])):Me("",!0),ne(Mt).batterySoc>0?(ae(),Be(Pn,{key:3,x:-500/2-Zn/4+10,y:ne(e)/2-Zn+15,labeltext:"Speicher: "+ne(Mt).batterySoc+"%",labelcolor:ne(ke).getItem("batIn").color,anchor:"start",config:ne(_e)},null,8,["x","y","labeltext","labelcolor","config"])):Me("",!0),ne(It).active?(ae(),Be(Pn,{key:4,x:Es/2+Zn/4-10,y:ne(e)/2-Zn+15,value:g.value,labeltext:ne(It).etCurrentPriceString,labelcolor:"var(--color-charging)",anchor:"end",config:ne(_e)},null,8,["x","y","value","labeltext","config"])):Me("",!0),Se(Pn,{x:0,y:0,labeltext:a.value,labelcolor:"var(--color-fg)",anchor:"middle",config:ne(_e)},null,8,["labeltext","config"]),ne(_e).showRelativeArcs?(ae(),Ee("text",{key:5,x:Es/2-44,y:"2","text-anchor":"middle",fill:"var(--color-axis)","font-size":"12"}," Peak: "+Pe(o.value),9,A$)):Me("",!0),z("text",{x:0,y:ne(e)/2*3.8/5,"text-anchor":"middle",fill:"var(--color-menu)","font-size":"28",class:"fas",type:"button",onClick:b},Pe(""),8,C$)],8,T$)],8,x$))])]),_:1}))}}),M$=["origin","origin2","transform"],k$=We({__name:"PgSourceGraph",props:{width:{},height:{},margin:{}},setup(t){const e=t,r={house:"var(--color-house)",batIn:"var(--color-battery)",inverter:"var(--color-pv)",batOut:"var(--color-battery)",selfUsage:"var(--color-pv)",pv:"var(--color-pv)",evuOut:"var(--color-export)",evuIn:"var(--color-evu)"};var n,s;const i=_e.showAnimations?_e.animationDuration:0,a=_e.showAnimations?_e.animationDelay:0,o=we(()=>{const S=Tt("g#pgSourceGraph");if(Ae.data.length>0){Ae.graphMode=="month"||Ae.graphMode=="year"?_(S,Gi.value):w(S,vn.value),S.selectAll(".axis").remove();const T=S.append("g").attr("class","axis");T.call(g.value),T.selectAll(".tick").attr("font-size",12),T.selectAll(".tick line").attr("stroke",v.value).attr("stroke-width",b.value),T.select(".domain").attr("stroke","var(--color-bg)")}return"pgSourceGraph.vue"}),l=we(()=>E1().value((S,T)=>S[T]??0).keys(f.value)),u=we(()=>l.value(Ae.data)),c=we(()=>Yn().range([e.height-10,0]).domain(Ae.graphMode=="year"?[0,Math.ceil(d.value[1]*10)/10]:[0,Math.ceil(d.value[1])])),f=we(()=>{let S=[];const T=["batOut","evuIn"];if(_e.showInverters){const A=/pv\d+/;Ae.data.length>0&&(S=Object.keys(Ae.data[0]).reduce((C,L)=>(L.match(A)&&C.push(L),C),[]))}switch(Ae.graphMode){case"live":return _e.showInverters?["pv","batOut","evuIn"]:["selfUsage","evuOut","batOut","evuIn"];case"today":case"day":return S.forEach(A=>{var C;r[A]=((C=sr.value.get(+A.slice(2)))==null?void 0:C.color)??"var(--color-pv)"}),_e.showInverters?[...S,...T]:["selfUsage","evuOut","batOut","evuIn"];default:return _e.showInverters?["evuIn","batOut","selfUsage"]:["evuIn","batOut","selfUsage","evuOut"]}}),d=we(()=>{let S=Sn(Ae.data,T=>Math.max(T.pv+T.evuIn+T.batOut,T.selfUsage+T.evuOut));return S[0]!=null&&S[1]!=null?(Ae.graphMode=="year"&&(S[0]=S[0]/1e3,S[1]=S[1]/1e3),S):[0,0]}),p=we(()=>Ae.graphMode=="month"||Ae.graphMode=="year"?-e.width-e.margin.right-22:-e.width),g=we(()=>xl(c.value).tickSizeInner(p.value).ticks(4).tickFormat(S=>(S==0?"":Math.round(S*10)/10).toLocaleString(void 0))),b=we(()=>_e.showGrid?"0.5":"1"),v=we(()=>_e.showGrid?"var(--color-grid)":"var(--color-bg)");function w(S,T){const A=$o().x((L,j)=>T(Ae.data[j].date)).y(c.value(0)).curve(No),C=$o().x((L,j)=>T(Ae.data[j].date)).y0(L=>c.value(Ae.graphMode=="year"?L[0]/1e3:L[0])).y1(L=>c.value(Ae.graphMode=="year"?L[1]/1e3:L[1])).curve(No);bl?(S.selectAll("*").remove(),n=S.append("svg").attr("x",0).attr("width",e.width).selectAll(".sourceareas").data(u.value).enter().append("path").attr("fill",(j,F)=>r[f.value[F]]).attr("d",j=>A(j)),n.transition().duration(i).delay(a).ease(Za).attr("d",j=>C(j)),yv()):n.data(u.value).transition().duration(0).ease(Za).attr("d",L=>C(L))}function _(S,T){Ae.data.length>0&&(bl?(S.selectAll("*").remove(),s=S.selectAll(".sourcebar").data(u.value).enter().append("g").attr("fill",(A,C)=>r[f.value[C]]).selectAll("rect").data(A=>A).enter().append("rect").attr("x",(A,C)=>T(Ae.data[C].date)??0).attr("y",()=>c.value(0)).attr("height",0).attr("width",T.bandwidth()),s.transition().duration(i).delay(a).ease(Za).attr("height",A=>Ae.graphMode=="year"?c.value(A[0]/1e3)-c.value(A[1]/1e3):c.value(A[0])-c.value(A[1])).attr("y",A=>Ae.graphMode=="year"?c.value(A[1]/1e3):c.value(A[1])),yv()):(S.selectAll("*").remove(),s=S.selectAll(".sourcebar").data(u.value).enter().append("g").attr("fill",(A,C)=>r[f.value[C]]).selectAll("rect").data(A=>A).enter().append("rect").attr("x",(A,C)=>T(Ae.data[C].date)??0).attr("y",A=>Ae.graphMode=="year"?c.value(A[1]/1e3):c.value(A[1])).attr("width",T.bandwidth()).attr("height",A=>Ae.graphMode=="year"?c.value(A[0]/1e3)-c.value(A[1]/1e3):c.value(A[0])-c.value(A[1]))))}const y=we(()=>{const S=Tt("g#pgSourceGraph");if(Ae.graphMode!="month"&&Ae.graphMode!="year"&&Ae.data.length>0){vn.value.range(Xi.value);const T=$o().x((A,C)=>vn.value(Ae.data[C].date)).y0(A=>c.value(A[0])).y1(A=>c.value(A[1])).curve(No);S.selectAll("path").attr("d",A=>A?T(A):""),S.selectAll("g#sourceToolTips").select("rect").attr("x",A=>vn.value(A.date)).attr("width",e.width/Ae.data.length)}return"zoomed"});return(S,T)=>(ae(),Ee("g",{id:"pgSourceGraph",origin:o.value,origin2:y.value,transform:"translate("+S.margin.left+","+S.margin.top+")"},null,8,M$))}}),P$=["origin","origin2","transform"],O$=We({__name:"PgUsageGraph",props:{width:{},height:{},margin:{},stackOrder:{}},setup(t){const e=t,r=we(()=>_e.showInverters?[["house","charging","devices","counters","batIn","evuOut"],["charging","devices","counters","batIn","house","evuOut"],["devices","counters","batIn","charging","house","evuOut"],["batIn","charging","house","devices","counters","evuOut"]]:[["house","charging","devices","counters","batIn"],["charging","devices","counters","batIn","house"],["devices","counters","batIn","charging","house"],["batIn","charging","house","devices","counters"]]),n={house:"var(--color-house)",charging:"var(--color-charging)",batIn:"var(--color-battery)",batOut:"var(--color-battery)",selfUsage:"var(--color-pv)",evuOut:"var(--color-export)",evuIn:"var(--color-evu)",cp0:"var(--color-cp0)",cp1:"var(--color-cp1)",cp2:"var(--color-cp2)",cp3:"var(--color-cp3)",sh1:"var(--color-sh1)",sh2:"var(--color-sh2)",sh3:"var(--color-sh3)",sh4:"var(--color-sh4)",devices:"var(--color-devices)",counters:"var(--color-counters)"};var s,i;const a=_e.showAnimations?_e.animationDuration:0,o=_e.showAnimations?_e.animationDelay:0,l=we(()=>{const y=Tt("g#pgUsageGraph");Ae.graphMode=="month"||Ae.graphMode=="year"?w(y):v(y),y.selectAll(".axis").remove();const S=y.append("g").attr("class","axis");return S.call(b.value),S.selectAll(".tick").attr("font-size",12).attr("color","var(--color-axis)"),_e.showGrid?S.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"):S.selectAll(".tick line").attr("stroke","var(--color-bg)"),S.select(".domain").attr("stroke","var(--color-bg)"),"pgUsageGraph.vue"}),u=we(()=>E1().value((y,S)=>y[S]??0).keys(d.value)),c=we(()=>u.value(Ae.data)),f=we(()=>Yn().range([e.height+10,2*e.height]).domain(Ae.graphMode=="year"?[0,Math.ceil(p.value[1]*10)/10]:[0,Math.ceil(p.value[1])])),d=we(()=>{if(Ae.graphMode!="today"&&Ae.graphMode!="day"&&Ae.graphMode!="live")return r.value[e.stackOrder];{const y=r.value[e.stackOrder].slice(),S=y.indexOf("charging");y.splice(S,1);const T=/cp\d+/;let A=[];return Ae.data.length>0&&(A=Object.keys(Ae.data[0]).reduce((C,L)=>(L.match(T)&&C.push(L),C),[])),A.forEach((C,L)=>{var j;y.splice(S+L,0,C),n[C]=((j=Ke[+C.slice(2)])==null?void 0:j.color)??"black"}),y}}),p=we(()=>{let y=Sn(Ae.data,S=>S.house+S.charging+S.batIn+S.devices+S.counters+S.evuOut);return y[0]!=null&&y[1]!=null?(Ae.graphMode=="year"&&(y[0]=y[0]/1e3,y[1]=y[1]/1e3),y):[0,0]}),g=we(()=>Ae.graphMode=="month"||Ae.graphMode=="year"?-e.width-e.margin.right-22:-e.width),b=we(()=>xl(f.value).tickSizeInner(g.value).ticks(4).tickFormat(y=>(y==0?"":Math.round(y*10)/10).toLocaleString(void 0)));function v(y){const S=$o().x((A,C)=>vn.value(Ae.data[C].date)).y(f.value(0)).curve(No),T=$o().x((A,C)=>vn.value(Ae.data[C].date)).y0(A=>f.value(A[0])).y1(A=>f.value(A[1])).curve(No);_e.showAnimations?Go?(y.selectAll("*").remove(),s=y.append("svg").attr("x",0).attr("width",e.width).selectAll(".usageareas").data(c.value).enter().append("path").attr("d",C=>S(C)).attr("fill",(C,L)=>n[d.value[L]]),s.transition().duration(300).delay(100).ease(Za).attr("d",C=>T(C)),vv()):(y.selectAll("*").remove(),y.append("svg").attr("x",0).attr("width",e.width).selectAll(".usageareas").data(c.value).enter().append("path").attr("d",C=>T(C)).attr("fill",(C,L)=>n[d.value[L]])):(y.selectAll("*").remove(),y.append("svg").attr("x",0).attr("width",e.width).selectAll(".usageareas").data(c.value).enter().append("path").attr("d",C=>T(C)).attr("fill",(C,L)=>n[d.value[L]]))}function w(y){Go?(y.selectAll("*").remove(),i=y.selectAll(".usagebar").data(c.value).enter().append("g").attr("fill",(S,T)=>n[r.value[e.stackOrder][T]]).selectAll("rect").data(S=>S).enter().append("rect").attr("x",(S,T)=>Gi.value(Ae.data[T].date)??0).attr("y",()=>f.value(0)).attr("height",0).attr("width",Gi.value.bandwidth()),i.transition().duration(a).delay(o).ease(Za).attr("y",S=>Ae.graphMode=="year"?f.value(S[0]/1e3):f.value(S[0])).attr("height",S=>Ae.graphMode=="year"?f.value(S[1]/1e3)-f.value(S[0]/1e3):f.value(S[1])-f.value(S[0])),vv()):(y.selectAll("*").remove(),i=y.selectAll(".usagebar").data(c.value).enter().append("g").attr("fill",(S,T)=>n[r.value[e.stackOrder][T]]).selectAll("rect").data(S=>S).enter().append("rect").attr("x",(S,T)=>Gi.value(Ae.data[T].date)??0).attr("y",S=>Ae.graphMode=="year"?f.value(S[0]/1e3):f.value(S[0])).attr("height",S=>Ae.graphMode=="year"?f.value(S[1]/1e3)-f.value(S[0]/1e3):f.value(S[1])-f.value(S[0])).attr("width",Gi.value.bandwidth()))}const _=we(()=>{const y=Tt("g#pgUsageGraph");if(Ae.graphMode!="month"&&Ae.graphMode!="year"){vn.value.range(Xi.value);const S=$o().x((T,A)=>vn.value(Ae.data[A].date)).y0(T=>f.value(T[0])).y1(T=>f.value(T[1])).curve(No);y.selectAll("path").attr("d",T=>T?S(T):"")}return"zoomed"});return(y,S)=>(ae(),Ee("g",{id:"pgUsageGraph",origin:l.value,origin2:_.value,transform:"translate("+y.margin.left+","+y.margin.top+")"},null,8,P$))}}),L$=["width"],R$=["transform"],B$=["width"],$$=["transform"],N$=["origin","origin2","transform"],D$=["origin","transform"],U$={key:0},F$=["width","height"],V$={key:1},j$=["y","width","height"],$d=12,W$=We({__name:"PgXAxis",props:{width:{},height:{},margin:{}},setup(t){const e=t,r=we(()=>Ja(vn.value).ticks(6).tickSizeInner(a.value).tickFormat(Zi("%H:%M"))),n=we(()=>JC(vn.value).ticks(6).tickSizeInner(a.value+3).tickFormat(Zi(""))),s=we(()=>Ja(Gi.value).ticks(4).tickSizeInner(a.value).tickFormat(c=>c.toString())),i=we(()=>Ja(Gi.value).ticks(4).tickSizeInner(a.value).tickFormat(()=>"")),a=we(()=>Ae.graphMode!=="month"&&Ae.graphMode!=="year"?_e.showGrid?-(e.height/2-7):-10:0),o=we(()=>{let c=Tt("g#PGXAxis"),f=Tt("g#PgUnit");return c.selectAll("*").remove(),f.selectAll("*").remove(),Ae.graphMode=="month"||Ae.graphMode=="year"?c.call(s.value):c.call(r.value),c.selectAll(".tick > text").attr("fill",(d,p)=>p>=0||Ae.graphMode=="month"||Ae.graphMode=="year"?"var(--color-axis)":"var(--color-bg)").attr("font-size",$d),_e.showGrid?c.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"):c.selectAll(".tick line").attr("stroke","var(--color-bg)"),c.select(".domain").attr("stroke","var(--color-bg)"),f.append("text").attr("x",0).attr("y",12).attr("fill","var(--color-axis)").attr("font-size",$d).text(Ae.graphMode=="year"?"MWh":Ae.graphMode=="month"?"kWh":"kW").attr("text-anchor","start"),"PGXAxis.vue"}),l=we(()=>{let c=Tt("g#PGXAxis2");return c.selectAll("*").remove(),Ae.graphMode=="month"||Ae.graphMode=="year"?c.call(i.value):c.call(n.value),c.selectAll(".tick > text").attr("fill",(f,d)=>d>=0||Ae.graphMode=="month"||Ae.graphMode=="year"?"var(--color-axis)":"var(--color-bg)").attr("font-size",$d),_e.showGrid?(c.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"),c.select(".domain").attr("stroke","var(--color-bg)")):c.selectAll(".tick line").attr("stroke","var(--color-bg)"),c.select(".domain").attr("stroke","var(--color-bg)"),"PGXAxis2.vue"}),u=we(()=>{if(Ae.graphMode!="month"&&Ae.graphMode!="year"){const c=Tt("g#PGXAxis"),f=Tt("g#PGXAxis2");Ae.graphMode=="month"||Ae.graphMode=="year"?(Gi.value.range(Xi.value),c.call(s.value),f.call(i.value)):(vn.value.range(Xi.value),c.call(r.value),f.call(n.value))}return"zoomed"});return(c,f)=>(ae(),Ee(Ge,null,[(ae(),Ee("svg",{x:"0",width:e.width},[z("g",{id:"PgUnit",transform:"translate(0,"+(c.height/2+9)+")"},null,8,R$)],8,L$)),(ae(),Ee("svg",{x:0,width:e.width+10},[z("g",{transform:"translate("+c.margin.left+","+c.margin.top+")"},[z("g",{id:"PGXAxis",class:"axis",origin:o.value,origin2:u.value,transform:"translate(0,"+(c.height/2-6)+")"},null,8,N$),z("g",{id:"PGXAxis2",class:"axis",origin:l.value,transform:"translate(0,"+(c.height/2+-6)+")"},null,8,D$),ne(_e).showGrid?(ae(),Ee("g",U$,[z("rect",{x:"0",y:"0",width:c.width,height:c.height/2-10,fill:"none",stroke:"var(--color-grid)","stroke-width":"0.5"},null,8,F$)])):Me("",!0),ne(_e).showGrid?(ae(),Ee("g",V$,[z("rect",{x:"0",y:c.height/2+10,width:c.width,height:c.height/2-10,fill:"none",stroke:"var(--color-grid)","stroke-width":"0.5"},null,8,j$)])):Me("",!0)],8,$$)],8,B$))],64))}}),z$=["width"],H$=["id",".origin","d"],q$=["id","d","stroke"],G$=["x","y","text-anchor"],Nd=We({__name:"PgSoc",props:{width:{},height:{},margin:{},order:{}},setup(t){const e=t,r=we(()=>{let d=Sn(Ae.data,p=>p.date);return d[0]&&d[1]?Ys().domain(d).range([0,e.width]):Ys().range([0,0])}),n=we(()=>Yn().range([e.height-10,0]).domain([0,100])),s=we(()=>{let p=$n().x(g=>r.value(g.date)).y(g=>n.value(e.order==2?g.batSoc:e.order==0?g["soc"+Xt.value[0]]:g["soc"+Xt.value[1]])??n.value(0))(Ae.data);return p||""}),i=we(()=>e.order),a=we(()=>{switch(e.order){case 2:return"Speicher";case 1:return at[Xt.value[1]]!=null?at[Xt.value[1]].name:"???";default:return at[Xt.value[0]]!=null?at[Xt.value[0]].name:"???"}}),o=we(()=>{switch(e.order){case 0:return"var(--color-cp1)";case 1:return"var(--color-cp2)";case 2:return"var(--color-battery)";default:return"red"}}),l=we(()=>{switch(e.order){case 0:return 3;case 1:return e.width-3;case 2:return e.width/2;default:return 0}}),u=we(()=>{if(Ae.data.length>0){let d;switch(e.order){case 0:return d=0,n.value(Ae.data[d]["soc"+Xt.value[0]]+2);case 1:return d=Ae.data.length-1,Math.max(12,n.value(Ae.data[d]["soc"+Xt.value[1]]+2));case 2:return d=Math.round(Ae.data.length/2),n.value(Ae.data[d].batSoc+2);default:return 0}}else return 0}),c=we(()=>{switch(e.order){case 0:return"start";case 1:return"end";case 2:return"middle";default:return"middle"}}),f=we(()=>{if(Ae.graphMode!="month"&&Ae.graphMode!="year"){const d=Tt("path#soc-"+i.value),p=Tt("path#socdashes-"+i.value);r.value.range(Xi.value);const g=$n().x(b=>r.value(b.date)).y(b=>n.value(e.order==2?b.batSoc:e.order==1?b["soc"+Xt.value[0]]:b["soc"+Xt.value[1]])??n.value(0));d.attr("d",g(Ae.data)),p.attr("d",g(Ae.data))}return"zoomed"});return(d,p)=>(ae(),Ee("svg",{x:"0",width:e.width},[z("g",null,[z("path",{id:"soc-"+i.value,".origin":f.value,class:"soc-baseline",d:s.value,stroke:"var(--color-bg)","stroke-width":"1",fill:"none"},null,40,H$),z("path",{id:"socdashes-"+i.value,class:"soc-dashes",d:s.value,stroke:o.value,"stroke-width":"1",style:{strokeDasharray:"3,3"},fill:"none"},null,8,q$),z("text",{class:"cpname",x:l.value,y:u.value,style:ft({fill:o.value,fontSize:10}),"text-anchor":c.value},Pe(a.value),13,G$)])],8,z$))}}),Y$=["transform"],K$=We({__name:"PgSocAxis",props:{width:{},height:{},margin:{}},setup(t){const e=t,r=we(()=>Yn().range([e.height-10,0]).domain([0,100])),n=we(()=>ZC(r.value).ticks(5).tickFormat(i=>i.toString()+"%"));function s(){let i=Tt("g#PGSocAxis");i.call(n.value),i.selectAll(".tick").attr("font-size",12),i.selectAll(".tick line").attr("stroke","var(--color-bg)"),i.select(".domain").attr("stroke","var(--color-bg)")}return cn(()=>{s()}),(i,a)=>(ae(),Ee("g",{id:"PGSocAxis",class:"axis",transform:"translate("+(i.width-20)+",0)"},null,8,Y$))}}),X$={class:"d-flex align-self-top justify-content-center align-items-center"},Q$={class:"input-group input-group-xs"},J$={key:0,class:"btn dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},Z$={class:"dropdown-menu"},eN={class:"table optiontable"},tN=["onClick"],rN={key:1,class:"btn dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},nN={class:"dropdown-menu"},iN={class:"table optiontable"},sN=["onClick"],oN={key:2,class:"btn dropdown-toggle",type:"button","data-bs-toggle":"dropdown"},aN={class:"dropdown-menu"},lN={class:"table optiontable"},uN=["onClick"],cN=We({__name:"DateInput",props:{modelValue:{type:Date,required:!0},mode:{type:String,default:"day"}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=new Date().getFullYear();let s=Array.from({length:10},(p,g)=>n-g);const i=lt(!0),a=e,o=[[0,1,2,3],[4,5,6,7],[8,9,10,11]],l=lt(r.modelValue.getDate()),u=lt(r.modelValue.getMonth()),c=lt(r.modelValue.getFullYear()),f=we(()=>{const g=new Date(c.value,u.value,1).getDay();let b=0;switch(u.value){case 1:case 3:case 5:case 7:case 8:case 10:case 12:b=31;break;case 4:case 6:case 9:case 11:b=30;break;case 2:Math.trunc(c.value/4)*4==c.value?b=29:b=28}let v=[],w=[0,0,0,0,0,0,0],_=g;for(let y=0;y<b;y++)w[_]=y+1,_==6?(v.push(w),w=[0,0,0,0,0,0,0],_=0):_++;return _<8&&v.push(w),v});function d(){a("update:modelValue",new Date(c.value,u.value,l.value)),i.value=!1}return(p,g)=>(ae(),Ee("span",X$,[z("div",Q$,[r.mode=="day"||r.mode=="today"?(ae(),Ee("button",J$,Pe(l.value),1)):Me("",!0),z("div",Z$,[z("table",eN,[(ae(!0),Ee(Ge,null,ot(f.value,(b,v)=>(ae(),Ee("tr",{key:v,class:""},[(ae(!0),Ee(Ge,null,ot(b,(w,_)=>(ae(),Ee("td",{key:_},[w!=0?(ae(),Ee("span",{key:0,type:"button",class:"btn optionbutton",onClick:y=>l.value=w},Pe(w),9,tN)):Me("",!0)]))),128))]))),128))])]),r.mode!="year"&&r.mode!="live"?(ae(),Ee("button",rN,Pe(u.value+1),1)):Me("",!0),z("div",nN,[z("table",iN,[(ae(),Ee(Ge,null,ot(o,(b,v)=>z("tr",{key:v,class:""},[(ae(!0),Ee(Ge,null,ot(b,(w,_)=>(ae(),Ee("td",{key:_,class:"p-0 m-0"},[z("span",{type:"button",class:"btn btn-sm optionbutton",onClick:y=>u.value=w},Pe(w+1),9,sN)]))),128))])),64))])]),r.mode!="live"?(ae(),Ee("button",oN,Pe(c.value),1)):Me("",!0),z("div",aN,[z("table",lN,[(ae(!0),Ee(Ge,null,ot(ne(s),(b,v)=>(ae(),Ee("tr",{key:v,class:""},[z("td",null,[z("span",{type:"button",class:"btn optionbutton",onClick:w=>c.value=b},Pe(b),9,uN)])]))),128))])]),r.mode!="live"?(ae(),Ee("button",{key:3,class:"button-outline-secondary",type:"button",onClick:d},g[0]||(g[0]=[z("span",{class:"fa-solid fa-circle-check"},null,-1)]))):Me("",!0)])]))}}),fN=Je(cN,[["__scopeId","data-v-98690e5d"]]),dN={class:"btn-group m-0",role:"group","aria-label":"radiobar"},hN=["id","value"],pN=We({__name:"RadioBarInput",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=e,s=we({get(){return r.modelValue},set(o){n("update:modelValue",o)}});function i(o){let l=r.options[o].color?r.options[o].color:"var(--color-fg)";return r.options[o].active?{color:"var(--color-bg)",background:l}:{color:l}}function a(o){let l=o.target;for(;l&&!l.value&&l.parentElement;)l=l.parentElement;l.value&&(s.value=l.value)}return(o,l)=>(ae(),Ee("div",null,[z("div",dN,[(ae(!0),Ee(Ge,null,ot(o.options,(u,c)=>(ae(),Ee("button",{id:"radio-"+u.value,key:c,class:tt(["btn btn-outline-secondary btn-sm radiobutton mx-0 mb-0 px-2",u.value==s.value?"active":""]),value:u.value,style:ft(i(c)),onClick:a},[z("span",{style:ft(i(c))},[u.icon?(ae(),Ee("i",{key:0,class:tt(["fa-solid",u.icon])},null,2)):Me("",!0),it(" "+Pe(u.text),1)],4)],14,hN))),128))])]))}}),$S=Je(pN,[["__scopeId","data-v-82ab6829"]]),gN=We({__name:"PgSelector",props:{widgetid:{},showLeftButton:{type:Boolean},showRightButton:{type:Boolean},ignoreLive:{type:Boolean}},emits:["shiftLeft","shiftRight","shiftUp","shiftDown"],setup(t){const e=t,r=lt(0),n=we(()=>{if(Ae.waitForData)return"Lädt";switch(Ae.graphMode){case"live":return e.ignoreLive?"heute":`${Qt.duration} min`;case"today":return"heute";case"day":return zt.date.getDate()+"."+(zt.date.getMonth()+1)+".";case"month":return WB(Bn.month-1,Bn.year);case"year":return qi.year.toString();default:return"???"}}),s=["live","today","day","month","year"],i=["Live","Heute","Tag","Monat","Jahr"],a=we({get(){return Ae.graphMode},set(_){switch(_){case"day":f();break;case"today":d();break;case"live":c();break;case"month":p();break;case"year":g()}}}),o=we(()=>{switch(Ae.graphMode){case"live":case"today":return zt.getDate();case"month":return Bn.getDate();default:return zt.getDate()}});function l(_){Ev(_)}function u(){r.value+=1,r.value>2&&(r.value=0)}function c(){Ae.graphMode!="live"&&(Ae.graphMode="live",tr())}function f(){Ae.graphMode!="day"&&Ae.graphMode!="today"&&(Ae.graphMode="day",tr())}function d(){Ae.graphMode!="today"&&(Ae.graphMode="today",Ev(new Date),tr())}function p(){Ae.graphMode!="month"&&(Ae.graphMode="month",tr())}function g(){Ae.graphMode!="year"&&(Ae.graphMode="year",tr())}const b=we(()=>r.value>0?{border:"1px solid var(--color-frame)"}:""),v=we(()=>r.value==1?"justify-content-between":"justify-content-end"),w=we(()=>r.value==1?"justify-content-between":"justify-content-center");return(_,y)=>(ae(),Ee("div",{class:"d-flex flex-column justify-content-center pgselector rounded",style:ft(b.value)},[r.value==2?(ae(),Be($S,{key:0,id:"pgm2",modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=S=>a.value=S),class:"m-2",options:s.map((S,T)=>({text:i[T],value:S,color:"var(--color-menu)",active:S==ne(Ae).graphMode}))},null,8,["modelValue","options"])):Me("",!0),r.value==1?(ae(),Ee("span",{key:1,type:"button",class:tt(["arrowButton d-flex align-self-center mb-3 mt-3",{disabled:!e.showLeftButton}]),onClick:y[1]||(y[1]=S=>_.$emit("shiftUp"))},y[6]||(y[6]=[z("i",{class:"fa-solid fa-xl fa-chevron-circle-up"},null,-1)]),2)):Me("",!0),z("div",{class:tt(["d-flex align-items-center",w.value])},[r.value==1?(ae(),Ee("span",{key:0,type:"button",class:tt(["p-1",{disabled:!e.showLeftButton}]),onClick:y[2]||(y[2]=S=>_.$emit("shiftLeft"))},y[7]||(y[7]=[z("span",{class:"fa-solid fa-xl fa-chevron-circle-left arrowButton"},null,-1)]),2)):Me("",!0),r.value<2?(ae(),Ee("span",{key:1,type:"button",class:"btn-outline-secondary p-2 px-3 badge rounded-pill datebadge",onClick:u},Pe(n.value),1)):Me("",!0),r.value==2?(ae(),Be(fN,{key:2,"model-value":o.value,mode:ne(Ae).graphMode,"onUpdate:modelValue":l},null,8,["model-value","mode"])):Me("",!0),r.value==1?(ae(),Ee("span",{key:3,id:"graphRightButton",type:"button",class:tt(["arrowButton fa-solid fa-xl fa-chevron-circle-right p-1",{disabled:!e.showRightButton}]),onClick:y[3]||(y[3]=S=>_.$emit("shiftRight"))},null,2)):Me("",!0)],2),z("div",{class:tt(["d-flex align-items-center",v.value])},[r.value==1?(ae(),Ee("span",{key:0,type:"button",class:"p-1",onClick:u},y[8]||(y[8]=[z("span",{class:"fa-solid fa-xl fa-gear"},null,-1)]))):Me("",!0),r.value==1?(ae(),Ee("span",{key:1,id:"graphLeftButton",type:"button",class:tt(["arrowButton fa-solid fa-xl fa-chevron-circle-down p-1",{disabled:!e.showLeftButton}]),onClick:y[4]||(y[4]=S=>_.$emit("shiftDown"))},null,2)):Me("",!0),r.value>0?(ae(),Ee("span",{key:2,type:"button",class:"p-1",onClick:y[5]||(y[5]=S=>r.value=0)},y[9]||(y[9]=[z("span",{class:"fa-solid fa-xl fa-circle-check"},null,-1)]))):Me("",!0)],2)],4))}}),Vm=Je(gN,[["__scopeId","data-v-d75ec1a4"]]),mN=["x","fill"],bN=["x"],Nr=We({__name:"PgToolTipLine",props:{cat:{},name:{},indent:{},power:{},width:{}},setup(t){const e=t;return(r,n)=>(ae(),Ee(Ge,null,[r.power>0?(ae(),Ee("tspan",{key:0,x:r.indent,dy:"1.3em",class:tt(r.name?"":"fas"),fill:ne(tn)[r.cat].color},Pe(r.name?r.name:ne(tn)[r.cat].icon)+"   ",11,mN)):Me("",!0),z("tspan",{"text-anchor":"end",x:r.width-r.indent},[e.power>0?(ae(),Be(Pl,{key:0,watt:r.power*1e3},null,8,["watt"])):Me("",!0)],8,bN)],64))}}),yN=["transform"],wN=["width","height"],vN={"text-anchor":"start",x:"5",y:"20","font-size":"16",fill:"var(--color-fg)"},_N=["x"],EN=We({__name:"PgToolTipItem",props:{entry:{},boxwidth:{},xScale:{type:[Function,Object]}},setup(t){const e=t;function r(){return Object.values(e.entry).filter(l=>l>0).length*18+40}function n(){return Object.entries(e.entry).filter(([l,u])=>l.startsWith("pv")&&l.length>2&&u>0).map(([l,u])=>({power:u,name:gn.value.get(l)?o(gn.value.get(l)):"Wechselr.",id:l}))}function s(){return Object.entries(e.entry).filter(([l,u])=>l.startsWith("cp")&&l.length>2&&u>0).map(([l,u])=>({power:u,name:gn.value.get(l)?o(gn.value.get(l)):"Ladep.",id:l}))}function i(){return Object.entries(e.entry).filter(([l,u])=>l.startsWith("sh")&&l.length>2&&u>0).map(([l,u])=>({power:u,name:gn.value.get(l)?o(gn.value.get(l)):"Gerät",id:l}))}function a(){return Object.entries(e.entry).filter(([l,u])=>l.startsWith("counter")&&l.length>2&&u>0).map(([l,u])=>({power:u,name:gn.value.get(l)?o(gn.value.get(l)):"Zähler",id:l}))}function o(l){return l.length>6?l.slice(0,6)+"...":l}return(l,u)=>(ae(),Ee("g",{class:"ttmessage",transform:"translate("+l.xScale(l.entry.date)+",0)"},[z("rect",{rx:"5",width:l.boxwidth,height:r(),fill:"var(--color-bg)",opacity:"90%",stroke:"var(--color-menu)"},null,8,wN),z("text",vN,[z("tspan",{"text-anchor":"middle",x:l.boxwidth/2,dy:"0em"},Pe(ne(Zi)("%H:%M")(new Date(l.entry.date))),9,_N),u[0]||(u[0]=z("line",{y:"120",x1:"5",x2:"100",stroke:"var(--color-fg)","stroke-width":"1"},null,-1)),Se(Nr,{cat:"evuIn",indent:5,power:l.entry.evuIn,width:l.boxwidth},null,8,["power","width"]),Se(Nr,{cat:"batOut",indent:5,power:l.entry.batOut,width:l.boxwidth},null,8,["power","width"]),Se(Nr,{cat:"pv",indent:5,power:l.entry.pv,width:l.boxwidth},null,8,["power","width"]),(ae(!0),Ee(Ge,null,ot(n(),c=>(ae(),Be(Nr,{key:c.id,cat:"pv",name:c.name,power:c.power,indent:10,width:l.boxwidth},null,8,["name","power","width"]))),128)),Se(Nr,{cat:"house",indent:5,power:l.entry.house,width:l.boxwidth},null,8,["power","width"]),Se(Nr,{cat:"charging",indent:5,power:l.entry.charging,width:l.boxwidth},null,8,["power","width"]),(ae(!0),Ee(Ge,null,ot(s(),c=>(ae(),Be(Nr,{key:c.id,cat:"charging",name:c.name,power:c.power,indent:10,width:l.boxwidth},null,8,["name","power","width"]))),128)),Se(Nr,{cat:"devices",indent:5,power:l.entry.devices,width:l.boxwidth},null,8,["power","width"]),(ae(!0),Ee(Ge,null,ot(i(),c=>(ae(),Be(Nr,{key:c.id,cat:"devices",name:c.name,power:c.power,indent:10,width:l.boxwidth},null,8,["name","power","width"]))),128)),Se(Nr,{cat:"counters",indent:5,power:l.entry.counters,width:l.boxwidth},null,8,["power","width"]),(ae(!0),Ee(Ge,null,ot(a(),c=>(ae(),Be(Nr,{key:c.id,cat:"counters",name:c.name,power:c.power,indent:10,width:l.boxwidth},null,8,["name","power","width"]))),128)),Se(Nr,{cat:"batIn",indent:5,power:l.entry.batIn,width:l.boxwidth},null,8,["power","width"]),Se(Nr,{cat:"evuOut",indent:5,power:l.entry.evuOut,width:l.boxwidth},null,8,["power","width"])])],8,yN))}}),SN=["origin","transform"],xN=["x","height","width"],Av=140,TN=We({__name:"PgToolTips",props:{width:{},height:{},margin:{},data:{}},setup(t){const e=t,r=we(()=>{const i=Sn(e.data,a=>new Date(a.date));return i[0]&&i[1]?zh().domain(i).range([0,e.width-e.margin.right]):Ys().range([0,0])}),n=we(()=>{const i=Sn(e.data,a=>new Date(a.date));return i[0]&&i[1]?zh().domain(i).range([0,e.width-e.margin.right-Av]):Ys().range([0,0])}),s=we(()=>((Ae.graphMode=="day"||Ae.graphMode=="today")&&(r.value.range(Xi.value),Tt("g#pgToolTips").selectAll("g.ttarea").select("rect").attr("x",(i,a)=>e.data.length>a?r.value(e.data[a].date):0).attr("width",e.data.length>0?(Xi.value[1]-Xi.value[0])/e.data.length:0)),"PgToolTips.vue:autozoom"));return(i,a)=>(ae(),Ee("g",{id:"pgToolTips",origin:s.value,transform:"translate("+i.margin.left+","+i.margin.top+")"},[(ae(!0),Ee(Ge,null,ot(i.data,o=>(ae(),Ee("g",{key:o.date,class:"ttarea"},[z("rect",{x:r.value(o.date),y:"0",height:i.height,class:"ttrect",width:ne(Ae).data.length>0?i.width/ne(Ae).data.length:0,opacity:"1%",fill:"var(--color-charging)"},null,8,xN),Se(EN,{entry:o,boxwidth:Av,"x-scale":n.value},null,8,["entry","x-scale"])]))),128))],8,SN))}}),AN={class:"d-flex justify-content-end"},CN={id:"powergraphFigure",class:"p-0 m-0"},IN=["viewBox"],MN=["transform"],kN=["x","y"],PN=2,ON=We({__name:"PowerGraph",setup(t){const e=we(()=>{switch(Ae.graphMode){case"year":return"Jahresübersicht";case"month":return"Monatsübersicht";default:return"Leistung / Ladestand"}});function r(){let o=_e.usageStackOrder+1;o>PN&&(o=0),_e.usageStackOrder=o,TB(!0)}function n(o){const l=[[0,nt.top],[Sr,Zr-nt.top]];o.call(M2().scaleExtent([1,8]).translateExtent([[0,0],[Sr,Zr]]).extent(l).filter(i).on("zoom",s))}function s(o){PS.value=o.transform}function i(o){return o.preventDefault(),(!o.ctrlKey||o.type==="wheel")&&!o.button}function a(){_e.zoomedWidget=1,_e.zoomGraph=!_e.zoomGraph}return cn(()=>{const o=Tt("svg#powergraph");n(o)}),(o,l)=>(ae(),Be(Ol,{"full-width":!0},{title:Ie(()=>[it(Pe(e.value),1)]),buttons:Ie(()=>[z("div",AN,[Se(Vm,{widgetid:"graphsettings","show-left-button":!0,"show-right-button":!0,"ignore-live":!1,onShiftLeft:ne(sf),onShiftRight:ne($m),onShiftUp:ne(Nm),onShiftDown:ne(Dm)},null,8,["onShiftLeft","onShiftRight","onShiftUp","onShiftDown"]),ne(Vn)?(ae(),Ee("span",{key:0,type:"button",class:"ms-1 p-0 pt-1",onClick:a},l[0]||(l[0]=[z("span",{class:"fa-solid fa-lg ps-1 fa-magnifying-glass"},null,-1)]))):Me("",!0)])]),default:Ie(()=>[sa(z("figure",CN,[(ae(),Ee("svg",{id:"powergraph",class:"powergraphSvg",viewBox:"0 0 "+ne(Sr)+" "+ne(Zr)},[Se(k$,{width:ne(Sr)-ne(nt).left-2*ne(nt).right,height:(ne(Zr)-ne(nt).top-ne(nt).bottom)/2,margin:ne(nt)},null,8,["width","height","margin"]),Se(O$,{width:ne(Sr)-ne(nt).left-2*ne(nt).right,height:(ne(Zr)-ne(nt).top-ne(nt).bottom)/2,margin:ne(nt),"stack-order":ne(_e).usageStackOrder},null,8,["width","height","margin","stack-order"]),Se(W$,{width:ne(Sr)-ne(nt).left-ne(nt).right,height:ne(Zr)-ne(nt).top-ne(nt).bottom,margin:ne(nt)},null,8,["width","height","margin"]),z("g",{transform:"translate("+ne(nt).left+","+ne(nt).top+")"},[(ne(Ae).graphMode=="day"||ne(Ae).graphMode=="today"||ne(Ae).graphMode=="live")&&Object.values(ne(at)).filter(u=>u.visible).length>0?(ae(),Be(Nd,{key:0,width:ne(Sr)-ne(nt).left-2*ne(nt).right,height:(ne(Zr)-ne(nt).top-ne(nt).bottom)/2,margin:ne(nt),order:0},null,8,["width","height","margin"])):Me("",!0),(ne(Ae).graphMode=="day"||ne(Ae).graphMode=="today"||ne(Ae).graphMode=="live")&&Object.values(ne(at)).filter(u=>u.visible).length>1?(ae(),Be(Nd,{key:1,width:ne(Sr)-ne(nt).left-2*ne(nt).right,height:(ne(Zr)-ne(nt).top-ne(nt).bottom)/2,margin:ne(nt),order:1},null,8,["width","height","margin"])):Me("",!0),(ne(Ae).graphMode=="day"||ne(Ae).graphMode=="today"||ne(Ae).graphMode=="live")&&ne(Mt).isBatteryConfigured?(ae(),Be(Nd,{key:2,width:ne(Sr)-ne(nt).left-2*ne(nt).right,height:(ne(Zr)-ne(nt).top-ne(nt).bottom)/2,margin:ne(nt),order:2},null,8,["width","height","margin"])):Me("",!0),ne(Ae).graphMode=="day"||ne(Ae).graphMode=="today"||ne(Ae).graphMode=="live"?(ae(),Be(K$,{key:3,width:ne(Sr)-ne(nt).left-ne(nt).right,height:(ne(Zr)-ne(nt).top-ne(nt).bottom)/2,margin:ne(nt)},null,8,["width","height","margin"])):Me("",!0)],8,MN),ne(Ae).graphMode=="day"||ne(Ae).graphMode=="today"?(ae(),Be(TN,{key:0,width:ne(Sr)-ne(nt).left-ne(nt).right,height:ne(Zr)-ne(nt).top-ne(nt).bottom,margin:ne(nt),data:ne(Ae).data},null,8,["width","height","margin","data"])):Me("",!0),z("g",{id:"button",type:"button",onClick:r},[z("text",{x:ne(Sr)-10,y:ne(Zr)-10,color:"var(--color-menu)","text-anchor":"end"},l[1]||(l[1]=[z("tspan",{fill:"var(--color-menu)",class:"fas fa-lg"},Pe(""),-1)]),8,kN)])],8,IN))],512),[[fC,ne(Ae).data.length>0]])]),_:1}))}}),LN=Je(ON,[["__scopeId","data-v-d40bf528"]]),RN=["id"],BN=["x","width","height","fill"],$N=["x","width","height"],NN=["x","y","width","height"],DN=We({__name:"EmBar",props:{item:{},id:{},xScale:{},yScale:{},margin:{},height:{}},setup(t){const e=t,r=we(()=>e.height-e.yScale(e.item[i.value].energy)-e.margin.top-e.margin.bottom),n=we(()=>{let a=0;return e.item[i.value].energyPv>0&&(a=e.height-e.yScale(e.item[i.value].energyPv)-e.margin.top-e.margin.bottom),a>r.value&&(a=r.value),a}),s=we(()=>{let a=0;return e.item[i.value].energyBat>0&&(a=e.height-e.yScale(e.item[i.value].energyBat)-e.margin.top-e.margin.bottom),a>r.value&&(a=r.value),a}),i=we(()=>Ae.usePastData?"past":"now");return(a,o)=>(ae(),Ee("g",{id:"bar-"+e.id,transform:"scale(1,-1) translate (0,-445)"},[z("rect",{class:"bar",x:e.xScale(e.id),y:"0",width:e.xScale.bandwidth(),height:r.value,fill:a.item.color},null,8,BN),z("rect",{class:"bar",x:e.xScale(e.id)+e.xScale.bandwidth()/6,y:"0",width:e.xScale.bandwidth()*2/3,height:n.value,fill:"var(--color-pv)","fill-opacity":"66%"},null,8,$N),z("rect",{class:"bar",x:e.xScale(e.id)+e.xScale.bandwidth()/6,y:n.value,width:e.xScale.bandwidth()*2/3,height:s.value,fill:"var(--color-battery)","fill-opacity":"66%"},null,8,NN)],8,RN))}}),UN={id:"emBargraph"},FN=We({__name:"EMBarGraph",props:{plotdata:{},xScale:{},yScale:{},margin:{},height:{}},setup(t){const e=t;return(r,n)=>(ae(),Ee("g",UN,[(ae(!0),Ee(Ge,null,ot(e.plotdata,(s,i)=>(ae(),Ee("g",{key:i},[Se(DN,{id:i.toString(),item:s,"x-scale":e.xScale,"y-scale":e.yScale,margin:e.margin,height:e.height},null,8,["id","item","x-scale","y-scale","margin","height"])]))),128)),n[0]||(n[0]=z("animateTransform",{"attribute-name":"transform",type:"scale",from:"1 0",to:"1 1",begin:"0s",dur:"2s"},null,-1))]))}}),VN=["origin"],jN=We({__name:"EMYAxis",props:{yScale:{type:[Function,Object]},width:{},fontsize:{}},setup(t){const e=t,r=we(()=>xl(e.yScale).tickFormat(i=>s(i)).ticks(6).tickSizeInner(-e.width)),n=we(()=>{const i=Tt("g#emYAxis");return i.attr("class","axis").call(r.value),i.append("text").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text("energy"),i.selectAll(".tick").attr("font-size",e.fontsize),_e.showGrid?i.selectAll(".tick line").attr("stroke","var(--color-grid)").attr("stroke-width","0.5"):i.selectAll(".tick line").attr("stroke","var(--color-bg)"),i.select(".domain").attr("stroke","var(--color-bg)"),"emYAxis.vue"});function s(i){return i>0?Ae.graphMode=="year"?(i/1e6).toString():(i/1e3).toString():""}return(i,a)=>(ae(),Ee("g",{id:"emYAxis",class:"axis",origin:n.value},null,8,VN))}}),WN=["id"],zN=["x","y","font-size"],HN=["x","y","font-size","fill"],qN=["x","y","font-size","fill"],GN=We({__name:"EmLabel",props:{id:{},item:{},xScale:{},yScale:{},margin:{},height:{},barcount:{},autarchy:{},autText:{}},setup(t){const e=t,r=we(()=>e.autarchy?e.yScale(e.item[i.value].energy)-25:e.yScale(e.item[i.value].energy)-10),n=we(()=>{let u=16,c=e.barcount;return c<=5?u=16:c==6?u=14:c>6&&c<=8?u=13:c==9?u=11:c==10?u=10:u=9,u}),s=we(()=>{let u=12,c=e.barcount;return c<=5?u=12:c==6?u=11:c>6&&c<=8||c==9?u=8:c==10?u=7:u=6,u}),i=we(()=>Ae.usePastData?"past":"now");function a(u,c){return c.length>s.value?c.substring(0,s.value)+".":c}function o(){return e.autarchy?e.autText+": "+e.autarchy.toLocaleString(void 0)+" %":""}function l(){return"var(--color-pv)"}return(u,c)=>(ae(),Ee("g",{id:"barlabel-"+e.item.name},[z("text",{x:e.xScale(e.id)+e.xScale.bandwidth()/2,y:r.value,"font-size":n.value,"text-anchor":"middle",fill:"var(--color-menu)"},Pe(ne(Ai)(u.item[i.value].energy,ne(_e).decimalPlaces,!1)),9,zN),z("text",{x:e.xScale(e.id)+e.xScale.bandwidth()/2,y:e.yScale(u.item[i.value].energy)-10,"font-size":n.value-2,"text-anchor":"middle",fill:l()},Pe(o()),9,HN),z("text",{x:e.xScale(e.id)+e.xScale.bandwidth()/2,y:e.height-e.margin.bottom-5,"font-size":n.value,"text-anchor":"middle",fill:u.item.color,class:tt(u.item.icon.length<=2?"fas":"")},Pe(a(u.item.name,u.item.icon)),11,qN)],8,WN))}});function NS(t){if(t.name=="PV"){const e=ke.getEnergy("evuOut"),r=ke.getEnergy("pv");return Math.round((r-e)/r*100)}else if(t.name=="Netz"){const e=ke.getEnergy("evuOut"),r=ke.getEnergy("evuIn"),n=ke.getEnergy("pv"),s=ke.getEnergy("batOut"),i=ke.getEnergy("batIn");return Math.round((n+s-e-i)/(n+s+r-e-i)*100)}else return t[Ae.graphScope].pvPercentage}const YN={id:"emBarLabels"},KN=We({__name:"EMLabels",props:{plotdata:{},xScale:{},yScale:{},height:{},margin:{}},setup(t){const e=t;function r(n){return n.name=="PV"?"Eigen":"Aut"}return(n,s)=>(ae(),Ee("g",YN,[(ae(!0),Ee(Ge,null,ot(e.plotdata,(i,a)=>(ae(),Ee("g",{key:a},[Se(GN,{id:a.toString(),item:i,"x-scale":e.xScale,"y-scale":e.yScale,margin:e.margin,height:e.height,barcount:e.plotdata.length,"aut-text":r(i),autarchy:ne(NS)(i)},null,8,["id","item","x-scale","y-scale","margin","height","barcount","aut-text","autarchy"])]))),128))]))}}),XN={class:"d-flex justify-content-end"},QN={id:"energymeter",class:"p-0 m-0"},JN={viewBox:"0 0 500 500"},ZN=["transform"],eD=["x"],tD={key:0},Cv=500,Dd=500,Iv=12,rD="Energie",nD=We({__name:"EnergyMeter",setup(t){const e={top:25,bottom:30,left:25,right:0},r=we(()=>{let l=[];return _e.debug&&a(),Yo.value==!0&&(Yo.value=!1),ke.items.size==0?Qi.value=!0:(Qi.value=!1,l=[ke.getItem("evuIn"),ke.getItem("pv"),ke.getItem("evuOut"),ke.getItem("batOut"),ke.getItem("charging")],Object.values(Ke).forEach(u=>{l.push(u)})),l.push(ke.getItem("devices")),$t.forEach(u=>{u.showInGraph&&l.push(u)}),l.push(ke.getItem("counters")),St.forEach(u=>{u.showInGraph&&l.push(u)}),l=l.concat([ke.getItem("batIn"),ke.getItem("house")]),l.filter(u=>u[i.value].energy&&u[i.value].energy>0)}),n=we(()=>pl().range([0,Cv-e.left-e.right]).domain(r.value.map((l,u)=>u.toString())).padding(.4)),s=we(()=>Yn().range([Dd-e.bottom-e.top,15]).domain([0,P_(r.value,l=>l[i.value].energy)??0])),i=we(()=>Ae.usePastData?"past":"now");function a(){console.debug(["all items:",ke])}function o(){_e.zoomedWidget=2,_e.zoomGraph=!_e.zoomGraph}return(l,u)=>(ae(),Be(Ol,{"full-width":!0},{title:Ie(()=>[it(Pe(rD))]),buttons:Ie(()=>[z("div",XN,[Se(Vm,{widgetid:"graphsettings","show-left-button":!0,"show-right-button":!0,"ignore-live":!0,onShiftLeft:ne(sf),onShiftRight:ne($m),onShiftUp:ne(Nm),onShiftDown:ne(Dm)},null,8,["onShiftLeft","onShiftRight","onShiftUp","onShiftDown"]),ne(Vn)?(ae(),Ee("span",{key:0,type:"button",class:"ms-1 p-0 pt-1",onClick:o},u[0]||(u[0]=[z("span",{class:"fa-solid fa-lg ps-1 fa-magnifying-glass"},null,-1)]))):Me("",!0)])]),default:Ie(()=>[z("figure",QN,[(ae(),Ee("svg",JN,[z("g",{transform:"translate("+e.left+","+e.top+")"},[Se(FN,{plotdata:r.value,"x-scale":n.value,"y-scale":s.value,height:Dd,margin:e},null,8,["plotdata","x-scale","y-scale"]),Se(jN,{"y-scale":s.value,width:Cv,fontsize:Iv,config:ne(_e)},null,8,["y-scale","config"]),z("text",{x:-e.left,y:"-15",fill:"var(--color-axis)","font-size":Iv},Pe(ne(Ae).graphMode=="year"?"MWh":"kWh"),9,eD),Se(KN,{plotdata:r.value,"x-scale":n.value,"y-scale":s.value,height:Dd,margin:e},null,8,["plotdata","x-scale","y-scale"])],8,ZN)]))]),ne(Qi)?(ae(),Ee("p",tD,"No data")):Me("",!0)]),_:1}))}}),iD=Je(nD,[["__scopeId","data-v-d49ff748"]]),sD=["id"],oD=["y","width","fill"],aD=["y","width"],lD=["y","x","width"],uD=We({__name:"EnergyBar",props:{id:{},item:{},yScale:{},xScale:{},itemHeight:{}},setup(t){const e=t,r=we(()=>e.xScale(e.item[Ae.graphScope].energy)),n=we(()=>{let i=0;return e.item[Ae.graphScope].energyPv>0&&(i=e.xScale(e.item[Ae.graphScope].energyPv)),i>r.value&&(i=r.value),i}),s=we(()=>{let i=0;return e.item[Ae.graphScope].energyBat>0&&(i=e.xScale(e.item[Ae.graphScope].energyBat)),i>r.value&&(i=r.value),i});return(i,a)=>(ae(),Ee("g",{id:`bar-${e.item.name}`},[z("rect",{class:"bar",y:e.yScale(e.id)+e.itemHeight/2-4,x:"0",rx:"6",ry:"6",height:"12",width:r.value,fill:i.item.color},null,8,oD),z("rect",{class:"bar",y:e.yScale(e.id)+e.itemHeight/2+10,x:"0",rx:"3",ry:"3",height:"7",width:n.value,fill:"var(--color-pv)","fill-opacity":"100%"},null,8,aD),z("rect",{class:"bar",y:e.yScale(e.id)+e.itemHeight/2+10,x:n.value,rx:"3",ry:"3",height:"7",width:s.value,fill:"var(--color-battery)","fill-opacity":"100%"},null,8,lD)],8,sD))}}),cD={id:"emBargraph"},fD=We({__name:"BarGraph",props:{plotdata:{},yscale:{},xscale:{},itemHeight:{}},setup(t){const e=t;return(r,n)=>(ae(),Ee("g",cD,[(ae(!0),Ee(Ge,null,ot(e.plotdata,(s,i)=>(ae(),Ee("g",{key:i},[Se(uD,{id:i.toString(),item:s,"x-scale":e.xscale,"y-scale":e.yscale,"item-height":r.itemHeight},null,8,["id","item","x-scale","y-scale","item-height"])]))),128))]))}}),dD=["id"],hD=["y","x","fill"],pD=["y","x"],gD=["y","x","font-size"],Ud=24,mD=We({__name:"EnergyLabel",props:{id:{},item:{},yscale:{},margin:{},width:{},itemHeight:{},autarchy:{},autText:{}},setup(t){const e=t,r=we(()=>e.yscale(e.id)+e.itemHeight/3);function n(){return e.autarchy?e.autText+": "+e.autarchy.toLocaleString(void 0)+" %":""}function s(i){return i.length>14?i.slice(0,13)+"...":i}return(i,a)=>(ae(),Ee("g",{id:"barlabel-"+e.id},[z("text",{y:r.value,x:e.margin.left,"font-size":Ud,"text-anchor":"start",fill:i.item.color,class:tt(i.item.icon.length<=2?"fas":"")},Pe(s(e.item.icon)),11,hD),z("text",{y:r.value,x:e.width/2+e.margin.left,"font-size":Ud,"text-anchor":"middle",fill:"var(--color-menu)"},Pe(ne(Ai)(i.item[ne(Ae).graphScope].energy,ne(_e).decimalPlaces,!1)),9,pD),z("text",{y:r.value,x:e.width-e.margin.right,"font-size":Ud-2,"text-anchor":"end",fill:"var(--color-pv)"},Pe(n()),9,gD)],8,dD))}}),bD={id:"emBarLabels"},yD=We({__name:"EnergyLabels",props:{plotdata:{},yscale:{},width:{},itemHeight:{},margin:{}},setup(t){const e=t;function r(n){return n.name=="PV"?"Eigen":"Aut"}return(n,s)=>(ae(),Ee("g",bD,[(ae(!0),Ee(Ge,null,ot(e.plotdata,(i,a)=>(ae(),Ee("g",{key:a},[Se(mD,{id:a.toString(),item:i,yscale:e.yscale,margin:e.margin,width:e.width,"item-height":n.itemHeight,"aut-text":r(i),autarchy:ne(NS)(i)},null,8,["id","item","yscale","margin","width","item-height","aut-text","autarchy"])]))),128))]))}}),wD={class:"d-flex justify-content-end"},vD={id:"energymeter",class:"p-0 m-0"},_D=["viewBox"],ED=["transform"],SD=["x"],xD={key:0},Mv=500,Fd=60,TD=12,AD="Energie",CD=We({__name:"EnergyMeter2",setup(t){const e={top:0,bottom:30,left:0,right:0},r=we(()=>n.value.length*Fd+e.top+e.bottom),n=we(()=>{let l=[];return _e.debug&&a(),Yo.value==!0&&(Yo.value=!1),ke.items.size==0?Qi.value=!0:(Qi.value=!1,l=[ke.getItem("evuIn"),ke.getItem("pv"),ke.getItem("evuOut"),ke.getItem("batOut"),ke.getItem("charging")],Object.values(Ke).forEach(u=>{l.push(u)})),l.push(ke.getItem("devices")),$t.forEach(u=>{u.showInGraph&&l.push(u)}),l.push(ke.getItem("counters")),St.forEach(u=>{u.showInGraph&&l.push(u)}),l=l.concat([ke.getItem("batIn"),ke.getItem("house")]),l.filter(u=>u[Ae.graphScope].energy&&u[Ae.graphScope].energy>0)}),s=we(()=>Yn().range([0,Mv-e.left-e.right]).domain([0,P_(n.value,l=>(Ae.graphMode=="live"||Ae.graphMode=="today",l[Ae.graphScope].energy))??0])),i=we(()=>pl().range([e.top,r.value-e.bottom]).domain(n.value.map((l,u)=>u.toString())).padding(.1));function a(){console.debug(["all items:",ke])}function o(){_e.zoomedWidget=2,_e.zoomGraph=!_e.zoomGraph}return(l,u)=>(ae(),Be(Ol,{"full-width":!0},{title:Ie(()=>[it(Pe(AD))]),buttons:Ie(()=>[z("div",wD,[Se(Vm,{widgetid:"graphsettings","show-left-button":!0,"show-right-button":!0,"ignore-live":!0,onShiftLeft:ne(sf),onShiftRight:ne($m),onShiftUp:ne(Nm),onShiftDown:ne(Dm)},null,8,["onShiftLeft","onShiftRight","onShiftUp","onShiftDown"]),ne(Vn)?(ae(),Ee("span",{key:0,type:"button",class:"ms-1 p-0 pt-1",onClick:o},u[0]||(u[0]=[z("span",{class:"fa-solid fa-lg ps-1 fa-magnifying-glass"},null,-1)]))):Me("",!0)])]),default:Ie(()=>[z("figure",vD,[(ae(),Ee("svg",{viewBox:"0 0 500 "+r.value},[z("g",{transform:"translate("+e.left+","+e.top+")"},[Se(fD,{plotdata:n.value,xscale:s.value,yscale:i.value,"item-height":Fd},null,8,["plotdata","xscale","yscale"]),z("text",{x:-e.left,y:"-15",fill:"var(--color-axis)","font-size":TD},Pe(ne(Ae).graphMode=="year"?"MWh":"kWh"),9,SD),Se(yD,{plotdata:n.value,yscale:i.value,width:Mv,"item-height":Fd,margin:e},null,8,["plotdata","yscale"])],8,ED)],8,_D))]),ne(Qi)?(ae(),Ee("p",xD,"No data")):Me("",!0)]),_:1}))}}),ID=Je(CD,[["__scopeId","data-v-db1baedf"]]),MD={class:"d-flex flex-column align-items-center justify-content-start infoitem"},kD=We({__name:"InfoItem",props:{heading:{},small:{type:Boolean}},setup(t){const e=t,r=we(()=>e.small?{"font-size":"var(--font-small)"}:{"font-size":"var(--font-small)"}),n=we(()=>e.small?{"font-size":"var(--font-small)"}:{"font-size":"var(--font-normal)"}),s=we(()=>e.small?"mt-0":"mt-1");return(i,a)=>(ae(),Ee("span",MD,[z("span",{class:tt(["d-flex heading",s.value]),style:ft(r.value)},Pe(e.heading),7),z("span",{class:"d-flex my-0 me-0 align-items-center content",style:ft(n.value)},[qt(i.$slots,"default",{},void 0,!0)],4)]))}}),ht=Je(kD,[["__scopeId","data-v-f6af00e8"]]),PD={class:"d-flex justify-content-between align-items-center titlerow"},OD={class:"buttonarea d-flex float-right justify-content-end align-items-center"},LD={class:"contentrow grid-col-12"},RD=We({__name:"WbSubwidget",props:{titlecolor:{},fullwidth:{type:Boolean},small:{type:Boolean}},setup(t){const e=t,r=we(()=>{let s={"font-weight":"bold",color:"var(--color-fg)","font-size":"var(--font-normal)"};return e.titlecolor&&(s.color=e.titlecolor),e.small&&(s["font-size"]="var(--font-verysmall)"),s}),n=we(()=>e.fullwidth?"grid-col-12":"grid-col-4");return(s,i)=>(ae(),Ee("div",{class:tt(["wb-subwidget-noborder px-0 pe-1 my-0 pb-2",n.value])},[z("div",PD,[z("div",{class:"d-flex widgetname p-0 m-0",style:ft(r.value)},[qt(s.$slots,"title",{},void 0,!0)],4),z("div",OD,[qt(s.$slots,"buttons",{},void 0,!0)])]),z("div",LD,[qt(s.$slots,"default",{},void 0,!0)])],2))}}),ao=Je(RD,[["__scopeId","data-v-2aa2b95f"]]),BD={class:"grid-col-12 mt-0 mb-0 px-0 py-0 configitem"},$D={class:"titlecolumn m-0 p-0 d-flex justify-content-between align-items-baseline"},ND={class:"d-flex justify-content-end align-items-baseline"},DD={class:"d-flex align-items-center"},UD={class:"d-flex"},FD={class:"d-flex justify-content-end m-0 p-0"},VD={class:"ms-1 mb-2 p-0 pt-2 d-flex justify-content-stretch align-items-center contentrow"},jD=We({__name:"ConfigItem",props:{title:{},infotext:{},icon:{},fullwidth:{type:Boolean}},setup(t){const e=t,r=lt(!1);function n(){r.value=!r.value}const s=we(()=>{let i={color:"var(--color-charging)"};return r.value&&(i.color="var(--color-battery)"),i});return(i,a)=>(ae(),Be(ao,{fullwidth:!!i.fullwidth},{default:Ie(()=>[z("div",BD,[z("div",$D,[z("span",ND,[z("span",{class:"d-flex align-items-baseline m-0 p-0",onClick:n},[e.icon?(ae(),Ee("i",{key:0,class:tt(["fa-solid fa-sm m-0 p-0 me-2 item-icon",e.icon])},null,2)):Me("",!0),it(" "+Pe(i.title),1)])]),z("span",DD,[z("span",UD,[e.infotext?(ae(),Ee("i",{key:0,class:"fa-solid fa-sm fa-circle-question ms-4 me-2",style:ft(s.value),onClick:n},null,4)):Me("",!0)]),z("span",FD,[qt(i.$slots,"inline-item",{},void 0,!0)])])]),r.value?(ae(),Ee("p",{key:0,class:"infotext shadow m-0 ps-2 mb-1 p-1",onClick:n},[a[0]||(a[0]=z("i",{class:"me-1 fa-solid fa-sm fa-circle-info"},null,-1)),it(" "+Pe(i.infotext),1)])):Me("",!0),z("div",VD,[qt(i.$slots,"default",{},void 0,!0)])])]),_:3},8,["fullwidth"]))}}),et=Je(jD,[["__scopeId","data-v-25ab3fbb"]]),WD={class:"d-flex flex-column rangeinput"},zD={class:"d-flex flex-fill justify-content-between align-items-center"},HD={class:"d-flex flex-fill flex-column justify-content-center m-0 p-0"},qD={key:0,id:"rangeIndicator",class:"rangeIndicator"},GD={viewBox:"0 0 100 2"},YD=["width"],KD=["x","width"],XD=["x","width"],QD=["id","min","max","step"],JD={class:"d-flex justify-content-between align-items-center"},ZD={class:"minlabel ps-4"},e3={class:"valuelabel"},t3={class:"maxlabel pe-4"},r3=We({__name:"RangeInput",props:{id:{},min:{},max:{},step:{},unit:{},decimals:{},showSubrange:{type:Boolean},subrangeMin:{},subrangeMax:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=r.decimals??0,s=e,i=we({get(){return Math.round(r.modelValue*Math.pow(10,n))/Math.pow(10,n)},set(f){s("update:modelValue",f)}});function a(){i.value>r.min&&(i.value=Math.round((i.value-r.step)*Math.pow(10,n))/Math.pow(10,n))}function o(){i.value<r.max&&(i.value=Math.round((i.value+r.step)*Math.pow(10,n))/Math.pow(10,n))}const l=we(()=>Yn().domain([r.min,r.max]).range([0,100])),u=we(()=>l.value(r.subrangeMin?r.subrangeMin:0)),c=we(()=>r.subrangeMin&&r.subrangeMax?l.value(r.subrangeMax)-l.value(r.subrangeMin):0);return(f,d)=>(ae(),Ee("span",WD,[z("span",zD,[z("span",{type:"button",class:"minusButton",onClick:a},d[1]||(d[1]=[z("i",{class:"fa fa-xl fa-minus-square me-2"},null,-1)])),z("div",HD,[r.showSubrange?(ae(),Ee("figure",qD,[(ae(),Ee("svg",GD,[z("g",null,[z("rect",{class:"below",x:0,y:"0",width:u.value,height:"2",rx:"1",ry:"1",fill:"var(--color-evu)"},null,8,YD),z("rect",{class:"bar",x:u.value,y:"0",width:c.value,height:"2",rx:"1",ry:"1",fill:"var(--color-charging)"},null,8,KD),z("rect",{class:"above",x:u.value+c.value,y:"0",width:u.value,height:"2",rx:"1",ry:"1",fill:"var(--color-pv)"},null,8,XD)])]))])):Me("",!0),sa(z("input",{id:f.id,"onUpdate:modelValue":d[0]||(d[0]=p=>i.value=p),type:"range",class:"form-range flex-fill",min:f.min,max:f.max,step:f.step},null,8,QD),[[AC,i.value,void 0,{number:!0}]])]),z("span",{type:"button",class:"plusButton",onClick:o},d[2]||(d[2]=[z("i",{class:"fa fa-xl fa-plus-square ms-2"},null,-1)]))]),z("span",JD,[z("span",ZD,Pe(f.min),1),z("span",e3,Pe(i.value)+" "+Pe(f.unit),1),z("span",t3,Pe(f.max),1)])]))}}),wr=Je(r3,[["__scopeId","data-v-af945965"]]),n3=["id","value"],i3=We({__name:"RadioInput2",props:{options:{},modelValue:{},columns:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=e,s=we({get(){return r.modelValue},set(o){n("update:modelValue",o)}});function i(o){const l=r.options[o][2]||"var(--color-fg)",u="var(--color-bg)";return r.options[o][1]==s.value?{color:u,background:r.options[o][2]||"var(--color-menu)"}:{color:l,background:u}}function a(o){let l=o.target;for(;l&&!l.value&&l.parentElement;)l=l.parentElement;l.value&&(typeof r.options[0][1]=="number"?s.value=Number(l.value):s.value=l.value)}return(o,l)=>(ae(),Ee("div",{class:"buttongrid",style:ft({"grid-template-columns":"repeat("+(r.columns||3)+", 1fr)"})},[(ae(!0),Ee(Ge,null,ot(r.options,(u,c)=>(ae(),Ee("button",{id:"radio-"+u[1],key:c,class:tt(["btn btn-outline-secondary radiobutton me-0 mb-0 px-2",u[1]==s.value?"active":""]),value:u[1],style:ft(i(c)),onClick:a},[z("span",{style:ft(i(c))},[u[3]?(ae(),Ee("i",{key:0,class:tt(["fa-solid",u[3]])},null,2)):Me("",!0),it(" "+Pe(u[0]),1)],4)],14,n3))),128))],4))}}),Ar=Je(i3,[["__scopeId","data-v-88c9ea7a"]]),s3={class:"mt-2"},o3={key:0},a3=We({__name:"ConfigInstant",props:{chargepoint:{}},setup(t){const r=lt(t.chargepoint),n=we({get(){return r.value.instantMaxEnergy/1e3},set(s){r.value.instantMaxEnergy=s*1e3}});return(s,i)=>(ae(),Ee("div",s3,[i[5]||(i[5]=z("p",{class:"heading ms-1"},"Sofortladen:",-1)),Se(et,{title:"Stromstärke",icon:"fa-bolt",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"targetCurrent",modelValue:r.value.instantTargetCurrent,"onUpdate:modelValue":i[0]||(i[0]=a=>r.value.instantTargetCurrent=a),min:6,max:32,step:1,unit:"A"},null,8,["modelValue"])]),_:1}),Se(et,{title:"Anzahl Phasen",icon:"fa-plug",fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:r.value.instantTargetPhases,"onUpdate:modelValue":i[1]||(i[1]=a=>r.value.instantTargetPhases=a),options:[["1",1],["Maximum",3],["Auto",0]]},null,8,["modelValue"])]),_:1}),r.value.instantChargeLimitMode!="none"?(ae(),Ee("hr",o3)):Me("",!0),Se(et,{title:"Begrenzung",icon:"fa-hand",fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:r.value.instantChargeLimitMode,"onUpdate:modelValue":i[2]||(i[2]=a=>r.value.instantChargeLimitMode=a),options:ne(Lm).map(a=>[a.name,a.id])},null,8,["modelValue","options"])]),_:1}),r.value.instantChargeLimitMode=="soc"?(ae(),Be(et,{key:1,title:"Maximaler Ladestand",icon:"fa-sliders",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"maxSoc",modelValue:r.value.instantTargetSoc,"onUpdate:modelValue":i[3]||(i[3]=a=>r.value.instantTargetSoc=a),min:0,max:100,step:1,unit:"%"},null,8,["modelValue"])]),_:1})):Me("",!0),r.value.instantChargeLimitMode=="amount"?(ae(),Be(et,{key:2,title:"Zu ladende Energie",icon:"fa-sliders",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"maxEnergy",modelValue:n.value,"onUpdate:modelValue":i[4]||(i[4]=a=>n.value=a),min:0,max:100,step:1,unit:"kWh"},null,8,["modelValue"])]),_:1})):Me("",!0)]))}}),l3=Je(a3,[["__scopeId","data-v-de6b86dd"]]),u3={class:"form-check form-switch"},Wt=We({__name:"SwitchInput",props:{modelValue:{type:Boolean},onColor:{},offColor:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=e,s=we({get(){return r.modelValue},set(a){n("update:modelValue",a)}}),i=we(()=>s.value?{"background-color":"green"}:{"background-color":"white"});return(a,o)=>(ae(),Ee("div",u3,[sa(z("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),class:"form-check-input",type:"checkbox",role:"switch",style:ft(i.value)},null,4),[[Yg,s.value]])]))}}),c3={class:"pt-2 d-flex flex-column"},f3={class:"subconfigstack grid-col-12 mt-4"},d3={key:0,class:"subconfig subgrid"},h3={key:0,class:"subconfigstack mt-4"},p3={class:"subconfig subgrid"},g3={class:"subconfig subgrid"},m3={class:"subconfig subgrid"},b3=We({__name:"ConfigPv",props:{chargepoint:{}},setup(t){const r=lt(t.chargepoint),n=we({get(){return r.value.pvMaxEnergy/1e3},set(a){r.value.pvMaxEnergy=a*1e3}}),s=we({get(){return r.value.pvMinCurrent>5},set(a){a?r.value.pvMinCurrent=6:r.value.pvMinCurrent=0}}),i=we({get(){return r.value.pvMinSoc>0},set(a){a?r.value.pvMinSoc=50:r.value.pvMinSoc=0}});return(a,o)=>(ae(),Ee("div",c3,[o[16]||(o[16]=z("div",{class:"heading ms-1"},"PV-Laden:",-1)),Se(et,{title:"Minimaler Ladestrom",icon:"fa-bolt",infotext:ne(zi).minpv,fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l)},null,8,["modelValue"])]),default:Ie(()=>[z("div",f3,[s.value?(ae(),Ee("div",d3,[o[11]||(o[11]=z("span",{class:"subconfigtitle grid-col-1"},"Stärke:",-1)),Se(wr,{id:"minCurrent",modelValue:r.value.pvMinCurrent,"onUpdate:modelValue":o[1]||(o[1]=l=>r.value.pvMinCurrent=l),min:6,max:32,step:1,unit:"A"},null,8,["modelValue"])])):Me("",!0)])]),_:1},8,["infotext"]),Se(et,{title:"Anzahl Phasen",icon:"fa-plug",fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:r.value.pvTargetPhases,"onUpdate:modelValue":o[2]||(o[2]=l=>r.value.pvTargetPhases=l),options:[["1",1],["Maximum",3],["Auto",0]]},null,8,["modelValue"])]),_:1}),Se(et,{title:"Mindest-Ladestand",icon:"fa-battery-half",infotext:ne(zi).minsoc,fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:i.value,"onUpdate:modelValue":o[3]||(o[3]=l=>i.value=l),class:"grid-col-3"},null,8,["modelValue"])]),default:Ie(()=>[i.value?(ae(),Ee("div",h3,[z("div",p3,[o[12]||(o[12]=z("span",{class:"subconfigtitle grid-col-1"},"SoC:",-1)),Se(wr,{id:"minSoc",modelValue:r.value.pvMinSoc,"onUpdate:modelValue":o[4]||(o[4]=l=>r.value.pvMinSoc=l),class:"grid-col-2",min:0,max:100,step:1,unit:"%"},null,8,["modelValue"])]),z("div",g3,[o[13]||(o[13]=z("span",{class:"subconfigtitle grid-col-1"},"Ladestrom:",-1)),Se(wr,{id:"minSocCurrent",modelValue:r.value.pvMinSocCurrent,"onUpdate:modelValue":o[5]||(o[5]=l=>r.value.pvMinSocCurrent=l),class:"grid-col-2",min:6,max:32,step:1,unit:"A"},null,8,["modelValue"])]),z("div",m3,[o[14]||(o[14]=z("span",{class:"subconfigtitle grid-col-1"},"Phasen:",-1)),Se(Ar,{modelValue:r.value.pvMinSocPhases,"onUpdate:modelValue":o[6]||(o[6]=l=>r.value.pvMinSocPhases=l),class:"grid-col-1",columns:2,options:[["1",1],["Maximum",3]]},null,8,["modelValue"])]),o[15]||(o[15]=z("hr",{class:"grid-col-3"},null,-1))])):Me("",!0)]),_:1},8,["infotext"]),Se(et,{title:"Begrenzung",icon:"fa-hand",fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:r.value.pvChargeLimitMode,"onUpdate:modelValue":o[7]||(o[7]=l=>r.value.pvChargeLimitMode=l),options:ne(Lm).map(l=>[l.name,l.id])},null,8,["modelValue","options"])]),_:1}),r.value.pvChargeLimitMode=="soc"?(ae(),Be(et,{key:0,title:"Maximaler Ladestand",icon:"fa-sliders",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"maxSoc",modelValue:r.value.pvTargetSoc,"onUpdate:modelValue":o[8]||(o[8]=l=>r.value.pvTargetSoc=l),min:0,max:100,step:1,unit:"%"},null,8,["modelValue"])]),_:1})):Me("",!0),r.value.pvChargeLimitMode=="amount"?(ae(),Be(et,{key:1,title:"Zu ladende Energie",icon:"fa-sliders",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"maxEnergy",modelValue:n.value,"onUpdate:modelValue":o[9]||(o[9]=l=>n.value=l),min:0,max:100,step:1,unit:"kWh"},null,8,["modelValue"])]),_:1})):Me("",!0),Se(et,{title:"Einspeisegrenze beachten",icon:"fa-hand",fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:r.value.pvFeedInLimit,"onUpdate:modelValue":o[10]||(o[10]=l=>r.value.pvFeedInLimit=l)},null,8,["modelValue"])]),_:1})]))}}),y3=Je(b3,[["__scopeId","data-v-8d58a519"]]),w3={class:"plandetails d-flex flex-cloumn"},v3={class:"heading"},_3={key:0},E3=We({__name:"ScheduleDetails",props:{plan:{}},emits:["close"],setup(t){const e=t,r=we(()=>e.plan.limit.selected=="soc"?`Lade bis ${e.plan.time} auf ${e.plan.limit.soc_scheduled}% (maximal ${e.plan.limit.soc_limit}% mit PV)`:e.plan.limit.selected=="amount"?`Energiemenge: ${Ai(e.plan.limit.amount)}`:"Keine Begrenzung"),n=we(()=>{let i="Wiederholung ";switch(e.plan.frequency.selected){case"daily":i+="täglich";break;case"once":i+=`einmal (${e.plan.frequency.once})`;break;case"weekly":i+="wöchentlich "+s.value;break;default:i+="unbekannt"}return i}),s=we(()=>{const i=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];let a="(";return e.plan.frequency.weekly.forEach((o,l)=>{o&&(a+=`${i[l]} `)}),a=a.trim(),a+=")",a});return(i,a)=>(ae(),Ee("div",w3,[a[1]||(a[1]=z("hr",null,null,-1)),z("span",v3,"Details für "+Pe(e.plan.name)+":",1),z("ul",null,[z("li",null,Pe(r.value),1),z("li",null,Pe(n.value),1),e.plan.et_active?(ae(),Ee("li",_3,"Preisbasiert laden")):Me("",!0)]),z("button",{class:"btn btn-outline-secondary btn-sm",onClick:a[0]||(a[0]=o=>i.$emit("close"))}," Ok ")]))}}),S3=Je(E3,[["__scopeId","data-v-2f5cb5c1"]]),x3={key:0,class:"table table-borderless"},T3={class:"tablecell left"},A3=["onClick"],C3={class:"tablecell left"},I3={class:"tablecell"},M3={class:"tablecell"},k3={class:"tablecell"},P3={class:"tablecell right"},O3={key:1,class:"ms-1"},L3={key:2},R3=We({__name:"ConfigScheduled",props:{chargePoint:{}},setup(t){const e=lt(!1),r={daily:"Täglich",once:"Einmal",weekly:"Woche"},n=t,s=we(()=>{var l,u;return((u=(l=n.chargePoint)==null?void 0:l.chargeTemplate)==null?void 0:u.chargemode.scheduled_charging.plans)??[]});function i(l){return s.value[l].time}function a(l){return{color:s.value[l].active?"var(--color-switchGreen)":"var(--color-switchRed)"}}function o(l){n.chargePoint.chargeTemplate.chargemode.scheduled_charging.plans[l].active=!s.value[l].active,Ut(n.chargePoint.id)}return(l,u)=>(ae(),Ee(Ge,null,[u[3]||(u[3]=z("p",{class:"heading ms-1 pt-2"},"Pläne für Zielladen:",-1)),s.value.length>0?(ae(),Ee("table",x3,[u[2]||(u[2]=z("thead",null,[z("tr",null,[z("th",{class:"tableheader left"}),z("th",{class:"tableheader left"},"Plan"),z("th",{class:"tableheader"},"Zeit"),z("th",{class:"tableheader"},"Ziel"),z("th",{class:"tableheader"},"Wiederh."),z("th",{class:"tableheader right"})])],-1)),z("tbody",null,[(ae(!0),Ee(Ge,null,ot(s.value,(c,f)=>{var d;return ae(),Ee("tr",{key:f,class:tt(c.active?"text-bold":"text-normal")},[z("td",T3,[((d=n.chargePoint.chargeTemplate)==null?void 0:d.id)!=null?(ae(),Ee("a",{key:0,onClick:p=>o(f)},[z("span",{class:tt([c.active?"fa-toggle-on":"fa-toggle-off","fa"]),style:ft(a(f)),type:"button"},null,6)],8,A3)):Me("",!0)]),z("td",C3,Pe(c.name),1),z("td",I3,Pe(i(f)),1),z("td",M3,Pe(c.limit.selected=="soc"?c.limit.soc_scheduled+"%":ne(Ai)(c.limit.amount,0)),1),z("td",k3,Pe(r[c.frequency.selected]),1),z("td",P3,[z("i",{class:"me-1 fa-solid fa-sm fa-circle-info",onClick:u[0]||(u[0]=p=>e.value=!e.value)})])],2)}),128))])])):(ae(),Ee("p",O3," Pläne für das Zielladen können in den Einstellungen des Ladeprofils angelegt werden . ")),e.value?(ae(),Ee("div",L3,[(ae(!0),Ee(Ge,null,ot(s.value,c=>(ae(),Be(S3,{key:c.id,plan:c,onClose:u[1]||(u[1]=f=>e.value=!1)},null,8,["plan"]))),128))])):Me("",!0)],64))}}),B3=Je(R3,[["__scopeId","data-v-08df44d8"]]),$3={class:"plandetails d-flex flex-cloumn"},N3={class:"heading"},D3=We({__name:"TimePlanDetails",props:{plan:{}},emits:["close"],setup(t){const e=t,r=we(()=>`Lade von ${e.plan.time[0]} bis ${e.plan.time[1]} mit ${e.plan.current}A`),n=we(()=>e.plan.limit.selected=="soc"?`Lade bis maximal ${e.plan.limit.soc}%`:e.plan.limit.selected=="amount"?`Lade maximal ${Ai(e.plan.limit.amount)}`:"Keine Begrenzung"),s=we(()=>{let a="Wiederholung ";switch(e.plan.frequency.selected){case"daily":a+="täglich";break;case"once":a+=`einmal (${e.plan.frequency.once})`;break;case"weekly":a+="wöchentlich "+i.value;break;default:a+="unbekannt"}return a}),i=we(()=>{const a=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"];let o="(";return e.plan.frequency.weekly.forEach((l,u)=>{l&&(o+=`${a[u]} `)}),o=o.trim(),o+=")",o});return(a,o)=>(ae(),Ee("div",$3,[o[1]||(o[1]=z("hr",null,null,-1)),z("span",N3,"Details für "+Pe(e.plan.name)+":",1),z("ul",null,[z("li",null,Pe(r.value),1),z("li",null,Pe(n.value),1),z("li",null,Pe(s.value),1)]),z("button",{class:"btn btn-outline-secondary btn-sm",onClick:o[0]||(o[0]=l=>a.$emit("close"))}," Ok ")]))}}),U3=Je(D3,[["__scopeId","data-v-eaa44cb2"]]),F3={class:"table table-borderless"},V3={class:"tablecell left"},j3=["onClick"],W3={class:"tablecell"},z3={class:"tablecell"},H3={class:"tablecell"},q3={class:"tablecell"},G3={class:"tablecell right"},Y3={key:0},K3=We({__name:"ConfigTimed",props:{chargePoint:{}},setup(t){const e=t,r=lt(!1),n=e.chargePoint,s={daily:"Täglich",once:"Einmal",weekly:"Woche"},i=we(()=>{var l,u;return((u=(l=e.chargePoint)==null?void 0:l.chargeTemplate)==null?void 0:u.time_charging.plans)??[]});function a(l){return{color:i.value[l].active?"var(--color-switchGreen)":"var(--color-switchRed)"}}function o(l){e.chargePoint.chargeTemplate.time_charging.plans[l].active=!i.value[l].active,Ut(e.chargePoint.id)}return(l,u)=>(ae(),Ee(Ge,null,[Se(et,{title:"Zeitplan aktiv",icon:"fa-clock",fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(n).timedCharging,"onUpdate:modelValue":u[0]||(u[0]=c=>ne(n).timedCharging=c)},null,8,["modelValue"])]),_:1}),u[4]||(u[4]=z("p",{class:"heading ms-1 pt-2"},"Zeitpläne:",-1)),z("table",F3,[u[3]||(u[3]=z("thead",null,[z("tr",null,[z("th",{class:"tableheader left"}),z("th",{class:"tableheader"},"Von"),z("th",{class:"tableheader"},"Bis"),z("th",{class:"tableheader"},"Strom"),z("th",{class:"tableheader"},"Wiederh."),z("th",{class:"tableheader right"})])],-1)),z("tbody",null,[(ae(!0),Ee(Ge,null,ot(i.value,(c,f)=>{var d;return ae(),Ee("tr",{key:f,class:tt(c.active?"text-bold":"text-normal")},[z("td",V3,[((d=e.chargePoint.chargeTemplate)==null?void 0:d.id)!=null?(ae(),Ee("span",{key:0,onClick:p=>o(f)},[z("span",{class:tt([c.active?"fa-toggle-on":"fa-toggle-off","fa"]),style:ft(a(f)),type:"button"},null,6)],8,j3)):Me("",!0)]),z("td",W3,Pe(c.time[0]),1),z("td",z3,Pe(c.time[1]),1),z("td",H3,Pe(c.current)+" A",1),z("td",q3,Pe(s[c.frequency.selected]),1),z("td",G3,[z("i",{class:"me-1 fa-solid fa-sm fa-circle-info",onClick:u[1]||(u[1]=p=>r.value=!r.value)})])],2)}),128))])]),r.value?(ae(),Ee("div",Y3,[(ae(!0),Ee(Ge,null,ot(i.value,c=>(ae(),Be(U3,{key:c.id,plan:c,onClose:u[2]||(u[2]=f=>r.value=!1)},null,8,["plan"]))),128))])):Me("",!0)],64))}}),X3=Je(K3,[["__scopeId","data-v-543e8ca2"]]),Q3={class:"providername ms-1"},J3={class:"container"},Z3={id:"pricechart",class:"p-0 m-0"},e8={viewBox:"0 0 400 260"},t8=["id","origin","transform"],r8={class:"chargeDuration p-0 m-0"},n8={key:0,class:"p-3 pb-1 rangeInputContainer"},i8={key:1,class:"d-flex justify-content-end"},s8=["disabled"],mo=400,kv=250,Pv=12,o8=We({__name:"PriceChart",props:{chargepoint:{},globalview:{type:Boolean}},setup(t){const e=t;let r=e.chargepoint?lt(e.chargepoint.etMaxPrice):lt(0);const n=lt(!1),s=lt(e.chargepoint),i=we({get(){return r.value},set($){r.value=$,n.value=!0}});function a(){s.value&&(Ke[s.value.id].etMaxPrice=i.value),n.value=!1}const o=lt(!1),l={top:0,bottom:15,left:20,right:5},u=we(()=>{let $=[];return It.etPriceList.size>0&&It.etPriceList.forEach((I,M)=>{$.push([M,I])}),$}),c=we(()=>u.value.length>1?(mo-l.left-l.right)/u.value.length:0),f=we(()=>n.value?{background:"var(--color-charging)"}:{background:"var(--color-menu)"}),d=we(()=>{let $=Sn(u.value,I=>I[0]);return $[1]&&($[1]=new Date($[1]),$[1].setTime($[1].getTime()+36e5)),Ys().range([l.left,mo-l.right]).domain($)}),p=we(()=>{let $=[0,0];return u.value.length>0?($=Sn(u.value,I=>I[1]),$[0]=Math.floor($[0]-1),$[1]=Math.floor($[1]+1)):$=[0,0],$}),g=we(()=>Yn().range([kv-l.bottom,0]).domain(p.value)),b=we(()=>{const $=$n(),I=[[l.left,g.value(i.value)],[mo-l.right,g.value(i.value)]];return $(I)}),v=we(()=>{const $=$n(),I=[[l.left,g.value(_e.lowerPriceBound)],[mo-l.right,g.value(_e.lowerPriceBound)]];return $(I)}),w=we(()=>{const $=$n(),I=[[l.left,g.value(_e.upperPriceBound)],[mo-l.right,g.value(_e.upperPriceBound)]];return $(I)}),_=we(()=>{const $=$n(),I=[[l.left,g.value(0)],[mo-l.right,g.value(0)]];return $(I)}),y=we(()=>Ja(d.value).ticks(u.value.length).tickSize(5).tickSizeInner(-250).tickFormat($=>$.getHours()%6==0&&$.getMinutes()==0?Zi("%H:%M")($):"")),S=we(()=>xl(g.value).ticks(p.value[1]-p.value[0]).tickSizeInner(-375).tickFormat($=>$%5!=0?"":$.toString())),T=we(()=>{o.value==!0;const $=Tt("g#"+A.value);$.selectAll("*").remove(),$.selectAll("bar").data(u.value).enter().append("g").append("rect").attr("class","bar").attr("x",J=>d.value(J[0])).attr("y",J=>g.value(J[1])).attr("width",c.value).attr("height",J=>g.value(p.value[0])-g.value(J[1])).attr("fill",J=>J[1]<=i.value?"var(--color-charging)":"var(--color-axis)");const M=$.append("g").attr("class","axis").call(y.value);M.attr("transform","translate(0,"+(kv-l.bottom)+")"),M.selectAll(".tick").attr("font-size",Pv).attr("color","var(--color-bg)"),M.selectAll(".tick line").attr("stroke","var(--color-bg)").attr("stroke-width",J=>J.getMinutes()==0?J.getHours()%6==0?"2":"0.5":"0"),M.select(".domain").attr("stroke","var(--color-bg");const B=$.append("g").attr("class","axis").call(S.value);return B.attr("transform","translate("+l.left+",0)"),B.selectAll(".tick").attr("font-size",Pv).attr("color","var(--color-bg)"),B.selectAll(".tick line").attr("stroke","var(--color-bg)").attr("stroke-width",J=>J%5==0?"2":"0.5"),B.select(".domain").attr("stroke","var(--color-bg)"),p.value[0]<0&&$.append("path").attr("d",_.value).attr("stroke","var(--color-fg)"),$.append("path").attr("d",v.value).attr("stroke","green"),$.append("path").attr("d",w.value).attr("stroke","red"),$.append("path").attr("d",b.value).attr("stroke","yellow"),"PriceChart.vue"}),A=we(()=>e.chargepoint?"priceChartCanvas"+e.chargepoint.id:"priceChartCanvasGlobal"),C=we(()=>{let $=[];return It.etPriceList.forEach(I=>{$.push(I)}),$.sort((I,M)=>I-M)}),L=we(()=>{const I=C.value.filter(M=>M<=i.value).length;return`${Math.floor(I*15/60)}h ${I*15%60}min`});function j(){let $=C.value[0];for(let I of C.value){if(I>=i.value)break;$=I}i.value=$}function F(){let $=C.value[0];for(let I of C.value)if(I>i.value){$=I;break}else $=I;i.value=$}return cn(()=>{o.value=!o.value}),($,I)=>(ae(),Ee(Ge,null,[z("p",Q3,"Anbieter: "+Pe(ne(It).etProvider),1),z("div",J3,[z("figure",Z3,[(ae(),Ee("svg",e8,[z("g",{id:A.value,origin:T.value,transform:"translate("+l.top+","+l.right+")"},null,8,t8)]))])]),z("div",r8,"Ladezeit: "+Pe(L.value),1),$.chargepoint!=null?(ae(),Ee("div",n8,[Se(wr,{id:"pricechart_local",modelValue:i.value,"onUpdate:modelValue":I[0]||(I[0]=M=>i.value=M),min:Math.floor(C.value[0]-1),max:Math.ceil(C.value[C.value.length-1]+1),step:.1,decimals:2,"show-subrange":!0,"subrange-min":C.value[0],"subrange-max":C.value[C.value.length-1],unit:ne(Mt).country=="ch"?"Rp":"ct"},null,8,["modelValue","min","max","subrange-min","subrange-max","unit"])])):Me("",!0),z("div",{class:"d-flex justify-content-between px-3 pb-2 pt-0 mt-0"},[z("button",{type:"button",class:"btn btn-sm jumpbutton",onClick:j},I[1]||(I[1]=[z("i",{class:"fa fa-sm fa-arrow-left"},null,-1)])),z("button",{type:"button",class:"btn btn-sm jumpbutton",onClick:F},I[2]||(I[2]=[z("i",{class:"fa fa-sm fa-arrow-right"},null,-1)]))]),$.chargepoint!=null?(ae(),Ee("div",i8,[z("span",{class:"me-3 pt-2 pb-3",onClick:a},[z("button",{type:"button",class:"btn btn-secondary confirmButton",style:ft(f.value),disabled:!n.value}," Bestätigen ",12,s8)])])):Me("",!0)],64))}}),DS=Je(o8,[["__scopeId","data-v-9d96099e"]]),a8={class:"pt-2 d-flex flex-column"},l8={class:"subconfigstack grid-col-12"},u8={class:"subconfig subgrid"},c8=We({__name:"ConfigEco",props:{chargepoint:{}},setup(t){const r=lt(t.chargepoint),n=we({get(){return r.value.ecoMaxEnergy/1e3},set(s){r.value.ecoMaxEnergy=s*1e3}});return(s,i)=>(ae(),Ee("div",a8,[i[6]||(i[6]=z("div",{class:"heading ms-1"},"Eco-Laden:",-1)),ne(It).active?(ae(),Be(DS,{key:0,chargepoint:r.value},null,8,["chargepoint"])):Me("",!0),ne(It).active?(ae(),Be(et,{key:1,title:"Minimaler Ladestrom unter der Preisgrenze:",icon:"fa-bolt",fullwidth:!0},{default:Ie(()=>[z("div",l8,[z("div",u8,[i[5]||(i[5]=z("span",{class:"subconfigtitle grid-col-1"},"Stärke:",-1)),Se(wr,{id:"minCurrent",modelValue:r.value.ecoMinCurrent,"onUpdate:modelValue":i[0]||(i[0]=a=>r.value.ecoMinCurrent=a),min:6,max:32,step:1,unit:"A"},null,8,["modelValue"])])])]),_:1})):Me("",!0),Se(et,{title:"Anzahl Phasen",icon:"fa-plug",fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:r.value.ecoTargetPhases,"onUpdate:modelValue":i[1]||(i[1]=a=>r.value.ecoTargetPhases=a),options:[["1",1],["Maximum",3],["Auto",0]]},null,8,["modelValue"])]),_:1}),Se(et,{title:"Begrenzung",icon:"fa-hand",fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:r.value.ecoChargeLimitMode,"onUpdate:modelValue":i[2]||(i[2]=a=>r.value.ecoChargeLimitMode=a),options:ne(Lm).map(a=>[a.name,a.id])},null,8,["modelValue","options"])]),_:1}),r.value.ecoChargeLimitMode=="soc"?(ae(),Be(et,{key:2,title:"Maximaler Ladestand",icon:"fa-sliders",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"maxSoc",modelValue:r.value.ecoTargetSoc,"onUpdate:modelValue":i[3]||(i[3]=a=>r.value.ecoTargetSoc=a),min:0,max:100,step:1,unit:"%"},null,8,["modelValue"])]),_:1})):Me("",!0),r.value.ecoChargeLimitMode=="amount"?(ae(),Be(et,{key:3,title:"Zu ladende Energie",icon:"fa-sliders",fullwidth:!0},{default:Ie(()=>[Se(wr,{id:"maxEnergy",modelValue:n.value,"onUpdate:modelValue":i[4]||(i[4]=a=>n.value=a),min:0,max:100,step:1,unit:"kWh"},null,8,["modelValue"])]),_:1})):Me("",!0)]))}}),f8=Je(c8,[["__scopeId","data-v-106a9fca"]]),d8={class:"settingsheader mt-2 ms-1"},h8=We({__name:"ConfigGeneral",props:{chargepoint:{}},emits:["closeConfig"],setup(t){const r=t.chargepoint;return(n,s)=>(ae(),Ee(Ge,null,[z("p",d8," Ladeeinstellungen für "+Pe(ne(r).vehicleName)+": ",1),Se(et,{title:"Lademodus",icon:"fa-charging-station",infotext:ne(zi).chargemode,fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:ne(r).chargeMode,"onUpdate:modelValue":s[0]||(s[0]=i=>ne(r).chargeMode=i),columns:3,options:Object.keys(ne(mr)).map(i=>[ne(mr)[i].name,i,ne(mr)[i].color,ne(mr)[i].icon])},null,8,["modelValue","options"])]),_:1},8,["infotext"]),Object.values(ne(at)).filter(i=>i.visible).length>1?(ae(),Be(et,{key:0,title:"Fahrzeug wechseln",icon:"fa-car",infotext:ne(zi).vehicle,fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:ne(r).connectedVehicle,"onUpdate:modelValue":s[1]||(s[1]=i=>ne(r).connectedVehicle=i),modelModifiers:{number:!0},options:Object.values(ne(at)).filter(i=>i.visible).map(i=>[i.name,i.id])},null,8,["modelValue","options"])]),_:1},8,["infotext"])):Me("",!0),Se(et,{title:"Sperren",icon:"fa-lock",infotext:ne(zi).locked,fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(r).isLocked,"onUpdate:modelValue":s[2]||(s[2]=i=>ne(r).isLocked=i)},null,8,["modelValue"])]),_:1},8,["infotext"]),Se(et,{title:"Priorität",icon:"fa-star",infotext:ne(zi).priority,fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(r).hasPriority,"onUpdate:modelValue":s[3]||(s[3]=i=>ne(r).hasPriority=i)},null,8,["modelValue"])]),_:1},8,["infotext"]),Se(et,{title:"Zeitplan",icon:"fa-clock",infotext:ne(zi).timeplan,fullwidth:!0},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(r).timedCharging,"onUpdate:modelValue":s[4]||(s[4]=i=>ne(r).timedCharging=i)},null,8,["modelValue"])]),_:1},8,["infotext"]),ne(Mt).isBatteryConfigured?(ae(),Be(et,{key:1,title:"PV-Priorität",icon:"fa-car-battery",infotext:ne(zi).pvpriority,fullwidth:!0},{default:Ie(()=>[Se(Ar,{modelValue:ne(Mt).pvBatteryPriority,"onUpdate:modelValue":s[5]||(s[5]=i=>ne(Mt).pvBatteryPriority=i),options:ne(k2)},null,8,["modelValue","options"])]),_:1},8,["infotext"])):Me("",!0)],64))}}),p8=Je(h8,[["__scopeId","data-v-e6ae9e07"]]),g8={class:"status-string"},m8={style:{color:"red"}},b8={class:"m-0 mt-4 p-0 grid-col-12 tabarea"},y8={class:"nav nav-tabs nav-justified mx-1 mt-1",role:"tablist"},w8=["data-bs-target"],v8=["data-bs-target"],_8=["data-bs-target"],E8=["data-bs-target"],S8=["data-bs-target"],x8=["data-bs-target"],T8={id:"settingsPanes",class:"tab-content mx-1 p-1 pb-3"},A8=["id"],C8=["id"],I8=["id"],M8=["id"],k8=["id"],P8=["id"],O8=We({__name:"ChargeConfigPanel",props:{chargepoint:{}},emits:["closeConfig"],setup(t){const r=t.chargepoint,n=we(()=>{var i;return((i=r.chargeTemplate)==null?void 0:i.id)??0}),s=we(()=>r.id);return cn(()=>{}),(i,a)=>(ae(),Ee(Ge,null,[Se(et,{title:"Status",icon:"fa-info-circle",fullwidth:!0,class:"item"},{default:Ie(()=>[z("span",g8,Pe(ne(r).stateStr),1)]),_:1}),ne(r).faultState!=0?(ae(),Be(et,{key:0,title:"Fehler",class:"grid-col-12",icon:"fa-triangle-exclamation"},{default:Ie(()=>[z("span",m8,Pe(ne(r).faultStr),1)]),_:1})):Me("",!0),z("div",b8,[z("nav",y8,[z("a",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#chargeSettings"+s.value},a[0]||(a[0]=[z("i",{class:"fa-solid fa-charging-station"},null,-1)]),8,w8),z("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#instantSettings"+s.value},a[1]||(a[1]=[z("i",{class:"fa-solid fa-lg fa-bolt"},null,-1)]),8,v8),z("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#pvSettings"+s.value},a[2]||(a[2]=[z("i",{class:"fa-solid fa-solar-panel me-1"},null,-1)]),8,_8),z("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#scheduledSettings"+s.value},a[3]||(a[3]=[z("i",{class:"fa-solid fa-bullseye me-1"},null,-1)]),8,E8),z("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#ecoSettings"+s.value},a[4]||(a[4]=[z("i",{class:"fa-solid fa-coins"},null,-1)]),8,S8),z("a",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#timedSettings"+s.value},a[5]||(a[5]=[z("i",{class:"fa-solid fa-clock"},null,-1)]),8,x8)]),z("div",T8,[z("div",{id:"chargeSettings"+s.value,class:"tab-pane active",role:"tabpanel","aria-labelledby":"instant-tab"},[Se(p8,{chargepoint:i.chargepoint},null,8,["chargepoint"])],8,A8),z("div",{id:"instantSettings"+s.value,class:"tab-pane",role:"tabpanel","aria-labelledby":"instant-tab"},[Se(l3,{chargepoint:ne(r),vehicles:ne(at),"charge-templates":ne(hg)},null,8,["chargepoint","vehicles","charge-templates"])],8,C8),z("div",{id:"pvSettings"+s.value,class:"tab-pane",role:"tabpanel","aria-labelledby":"pv-tab"},[Se(y3,{chargepoint:ne(r),vehicles:ne(at),"charge-templates":ne(hg)},null,8,["chargepoint","vehicles","charge-templates"])],8,I8),z("div",{id:"scheduledSettings"+s.value,class:"tab-pane",role:"tabpanel","aria-labelledby":"scheduled-tab"},[n.value!=null?(ae(),Be(B3,{key:0,"charge-point":ne(r)},null,8,["charge-point"])):Me("",!0)],8,M8),z("div",{id:"ecoSettings"+s.value,class:"tab-pane",role:"tabpanel","aria-labelledby":"eco-tab"},[n.value!=null?(ae(),Be(f8,{key:0,chargepoint:ne(r)},null,8,["chargepoint"])):Me("",!0)],8,k8),z("div",{id:"timedSettings"+s.value,class:"tab-pane",role:"tabpanel","aria-labelledby":"scheduled-tab"},[n.value!=null?(ae(),Be(X3,{key:0,"charge-point":ne(r)},null,8,["charge-point"])):Me("",!0)],8,P8)])])],64))}}),gg=Je(O8,[["__scopeId","data-v-cd92fe69"]]),jn=We({__name:"FormatWattH",props:{wattH:{}},setup(t){const e=t,r=we(()=>Ai(e.wattH,_e.decimalPlaces));return(n,s)=>(ae(),Ee("span",null,Pe(r.value),1))}}),L8={class:"wb-widget p-0 m-0 shadow widgetWidth"},R8={class:"py-4 px-3 d-flex justify-content-between align-items-center titlerow"},B8={class:"d-flex align-items-center widgetname p-0 m-0"},$8={class:"buttonrea d-flex float-right justify-content-end align-items-center"},N8={class:"grid12 pb-3 px-3"},D8=We({__name:"WbWidgetFlex",props:{variableWidth:{type:Boolean},fullWidth:{type:Boolean}},setup(t){const e=t,r=we(()=>e.fullWidth?"col-12":e.variableWidth&&_e.preferWideBoxes?"col-lg-6":"col-lg-4");return(n,s)=>(ae(),Ee("div",{class:tt(["p-2 m-0",r.value])},[z("div",L8,[z("div",R8,[z("div",B8,[qt(n.$slots,"title",{},()=>[s[0]||(s[0]=z("div",{class:"p-0"},"(title goes here)",-1))],!0),qt(n.$slots,"subtitle",{},void 0,!0)]),z("div",$8,[qt(n.$slots,"buttons",{},void 0,!0)])]),z("div",N8,[qt(n.$slots,"default",{},void 0,!0)])])],2))}}),xn=Je(D8,[["__scopeId","data-v-fb6ac7a4"]]),U8={class:"d-flex justify-content-center align-items-center"},F8=We({__name:"BatterySymbol",props:{soc:{},color:{}},setup(t){const e=t,r=we(()=>e.soc<=12?"fa-battery-empty":e.soc<38?"fa-battery-quarter":e.soc<62?"fa-battery-half":e.soc<87?"fa-battery-three-quarters":"fa-battery-full"),n=we(()=>({color:e.color??"var(--color-menu)"}));return(s,i)=>(ae(),Ee("span",U8,[z("i",{class:tt(["fa me-1",r.value]),style:ft(n.value)},null,6),it(" "+Pe(Math.round(s.soc)+"%"),1)]))}}),of=Je(F8,[["__scopeId","data-v-a68c844a"]]),V8=We({__name:"WbBadge",props:{color:{},bgcolor:{}},setup(t){const e=t,r=we(()=>({color:e.color??"var(--color-bg)","background-color":e.bgcolor??"var(--color-menu)"}));return(n,s)=>(ae(),Ee("span",{class:"pillWbBadge rounded-pill ms-2 px-2",style:ft(r.value)},[qt(n.$slots,"default",{},void 0,!0)],4))}}),Tn=Je(V8,[["__scopeId","data-v-36112fa3"]]),j8={style:{color:"var(--color-charging)"}},W8={style:{color:"var(--color-charging)"}},z8={style:{color:"var(--color-charging)"}},H8={class:"targetCurrent"},q8=We({__name:"ChargingState",props:{chargepoint:{},fullWidth:{type:Boolean}},setup(t){const e=t,r=we(()=>(Math.round(e.chargepoint.current*10)/10).toLocaleString(void 0)+" A"),n=we(()=>(Math.round(e.chargepoint.realCurrent*10)/10).toLocaleString(void 0)+" A");return(s,i)=>(ae(),Ee(Ge,null,[e.chargepoint.power>0?(ae(),Be(ht,{key:0,heading:"Leistung:",class:"grid-col-3 grid-left mb-3"},{default:Ie(()=>[z("span",j8,[Se(Pl,{watt:e.chargepoint.power},null,8,["watt"])])]),_:1})):Me("",!0),e.chargepoint.power>0?(ae(),Be(ht,{key:1,heading:"Strom:",class:"grid-col-3"},{default:Ie(()=>[z("span",W8,Pe(n.value),1)]),_:1})):Me("",!0),e.chargepoint.power>0?(ae(),Be(ht,{key:2,heading:"Phasen:",class:"grid-col-3"},{default:Ie(()=>[z("span",z8,Pe(e.chargepoint.phasesInUse),1)]),_:1})):Me("",!0),e.chargepoint.power>0?(ae(),Be(ht,{key:3,heading:"Sollstrom:",class:"grid-col-3 grid-right"},{default:Ie(()=>[z("span",H8,Pe(r.value),1)]),_:1})):Me("",!0)],64))}}),G8=Je(q8,[["__scopeId","data-v-2cc82367"]]),Y8={class:"carTitleLine d-flex justify-content-between align-items-center"},K8={key:1,class:"me-1 fa-solid fa-xs fa-star ps-1"},X8={key:2,class:"me-0 fa-solid fa-xs fa-clock ps-1"},Q8={key:0,class:"carSelector p-4 m-2"},J8={class:"grid12"},Z8={key:2,class:"socEditor rounded mt-2 d-flex flex-column align-items-center grid-col-12 grid-left"},eU={class:"d-flex justify-content-stretch align-items-center"},tU={key:3,class:"divider grid-col-12"},rU={key:0,class:"fa-solid fa-sm fas fa-edit ms-2"},nU=["id"],iU=We({__name:"VehicleData",props:{chargepoint:{},fullWidth:{type:Boolean}},setup(t){const e=t,r=e.chargepoint,n=lt(!1),s=lt(!1),i=lt(!1),a=we({get(){return r.chargeMode},set(_){r.chargeMode=_}}),o=we(()=>{const _=e.chargepoint.rangeCharged,y=e.chargepoint.chargedSincePlugged,S=e.chargepoint.dailyYield;return y>0?Math.round(_/y*S).toString()+" "+e.chargepoint.rangeUnit:"0 km"}),l=we(()=>e.chargepoint.soc),u=we({get(){return e.chargepoint.soc},set(_){Ke[e.chargepoint.id].soc=_}}),c=we(()=>{const[_]=It.etPriceList.values();return(Math.round(_*10)/10).toFixed(1)}),f=we(()=>e.chargepoint.etMaxPrice>=+c.value?{color:"var(--color-charging)"}:{color:"var(--color-menu)"}),d=we(()=>Object.values(at).filter(_=>_.visible)),p=we(()=>e.chargepoint.soc<20?"var(--color-evu)":e.chargepoint.soc>=80?"var(--color-pv)":"var(--color-battery)"),g=we(()=>{switch(e.chargepoint.chargeMode){case"stop":return{color:"var(--fg)"};default:return{color:mr[e.chargepoint.chargeMode].color}}}),b=we(()=>Mt.country==="ch"?" Rp":" ct");function v(){yr("socUpdate",1,e.chargepoint.connectedVehicle),Ke[e.chargepoint.id].waitingForSoc=!0}function w(){yr("setSoc",u.value,e.chargepoint.connectedVehicle),n.value=!1}return(_,y)=>(ae(),Ee(Ge,null,[z("div",Y8,[z("h3",{onClick:y[0]||(y[0]=S=>i.value=!i.value)},[y[8]||(y[8]=z("i",{class:"fa-solid fa-sm fa-car me-2"},null,-1)),it(" "+Pe(_.chargepoint.vehicleName)+" ",1),d.value.length>1?(ae(),Ee("span",{key:0,class:tt(["fa-solid fa-xs me-2",i.value?"fa-caret-up":"fa-caret-down"])},null,2)):Me("",!0),_.chargepoint.hasPriority?(ae(),Ee("span",K8)):Me("",!0),_.chargepoint.timedCharging?(ae(),Ee("span",X8)):Me("",!0)]),_.chargepoint.isSocConfigured?(ae(),Be(Tn,{key:0,bgcolor:p.value},{default:Ie(()=>[Se(of,{soc:l.value??0,color:"var(--color-bg)",class:"me-2"},null,8,["soc"]),_.chargepoint.isSocManual?(ae(),Ee("i",{key:0,class:"fa-solid fa-sm fas fa-edit",style:{color:"var(--color-bg)"},onClick:y[1]||(y[1]=S=>n.value=!n.value)})):Me("",!0),_.chargepoint.isSocManual?Me("",!0):(ae(),Ee("i",{key:1,type:"button",class:tt(["fa-solid fa-sm",_.chargepoint.waitingForSoc?"fa-spinner fa-spin":"fa-sync"]),onClick:v},null,2))]),_:1},8,["bgcolor"])):Me("",!0)]),i.value?(ae(),Ee("div",Q8,[y[9]||(y[9]=z("span",{class:"changeCarTitle mb-2"},"Fahrzeug wechseln:",-1)),Se(Ar,{modelValue:ne(r).connectedVehicle,"onUpdate:modelValue":[y[2]||(y[2]=S=>ne(r).connectedVehicle=S),y[3]||(y[3]=S=>i.value=!1)],modelModifiers:{number:!0},options:d.value.map(S=>[S.name,S.id])},null,8,["modelValue","options"])])):Me("",!0),z("div",J8,[Se($S,{id:"chargemode-"+_.chargepoint.name,modelValue:a.value,"onUpdate:modelValue":y[4]||(y[4]=S=>a.value=S),class:"chargemodes mt-3 mb-3",options:Object.keys(ne(mr)).map(S=>({text:ne(mr)[S].name,value:S,color:ne(mr)[S].color,icon:ne(mr)[S].icon,active:ne(mr)[S].mode==_.chargepoint.chargeMode}))},null,8,["id","modelValue","options"]),_.chargepoint.power>0?(ae(),Be(G8,{key:0,chargepoint:_.chargepoint,"full-width":e.fullWidth},null,8,["chargepoint","full-width"])):Me("",!0),Se(ht,{heading:"letzte Ladung:",class:"grid-col-4 grid-left"},{default:Ie(()=>[Se(jn,{"watt-h":Math.max(_.chargepoint.chargedSincePlugged,0)},null,8,["watt-h"])]),_:1}),Se(ht,{heading:"gel. Reichw.:",class:"grid-col-4"},{default:Ie(()=>[it(Pe(o.value),1)]),_:1}),_.chargepoint.isSocConfigured?(ae(),Be(ht,{key:1,heading:"Reichweite:",class:"grid-col-4 grid-right"},{default:Ie(()=>[it(Pe(ne(at)[e.chargepoint.connectedVehicle]?Math.round(ne(at)[e.chargepoint.connectedVehicle].range):0)+" km ",1)]),_:1})):Me("",!0),n.value?(ae(),Ee("div",Z8,[y[10]||(y[10]=z("span",{class:"d-flex m-1 p-0 socEditTitle"},"Ladestand einstellen:",-1)),z("span",eU,[z("span",null,[Se(wr,{id:"manualSoc",modelValue:u.value,"onUpdate:modelValue":y[5]||(y[5]=S=>u.value=S),min:0,max:100,step:1,unit:"%"},null,8,["modelValue"])])]),z("span",{type:"button",class:"fa-solid d-flex fa-lg me-2 mb-3 align-self-end fa-circle-check",onClick:w})])):Me("",!0),ne(It).active?(ae(),Ee("hr",tU)):Me("",!0),ne(It).active?(ae(),Be(ht,{key:4,heading:"Strompreis:",class:"grid-col-4 grid-left"},{default:Ie(()=>[z("span",{style:ft(f.value)},Pe(ne(It).etCurrentPriceString),5)]),_:1})):Me("",!0),ne(r).etActive?(ae(),Be(ht,{key:5,heading:"max. Preis:",class:"grid-col-4"},{default:Ie(()=>[z("span",{type:"button",onClick:y[6]||(y[6]=S=>s.value=!s.value)},[it(Pe(e.chargepoint.etActive?(Math.round(e.chargepoint.etMaxPrice*10)/10).toFixed(1)+b.value:"-")+" ",1),e.chargepoint.etActive?(ae(),Ee("i",rU)):Me("",!0)])]),_:1})):Me("",!0),s.value?(ae(),Ee("div",{key:6,id:"priceChartInline"+e.chargepoint.id,class:"d-flex flex-column rounded priceEditor grid-col-12"},[ne(at)[e.chargepoint.connectedVehicle]!=null?(ae(),Be(DS,{key:0,chargepoint:e.chargepoint},null,8,["chargepoint"])):Me("",!0),z("span",{class:"d-flex ms-2 my-4 pe-3 pt-1 d-flex align-self-end",style:ft(g.value),onClick:y[7]||(y[7]=S=>s.value=!1)},y[11]||(y[11]=[z("span",{type:"button",class:"d-flex fa-solid fa-lg ps-1 fa-circle-check"},null,-1)]),4)],8,nU)):Me("",!0)])],64))}}),sU=Je(iU,[["__scopeId","data-v-c34a551d"]]),oU={class:"d-flex justify-content-center align-items-center"},aU={key:0,class:"WbBadge rounded-pill errorWbBadge ms-3"},lU={key:0},uU={key:1,class:"row m-0 mt-0 p-0"},cU={class:"col m-0 p-0"},fU={class:"mb-3"},dU=We({__name:"CPChargePoint",props:{chargepoint:{},fullWidth:{type:Boolean}},setup(t){const e=t,r=lt(e.chargepoint),n=lt(!1),s=we(()=>e.chargepoint.isLocked?"Gesperrt":e.chargepoint.isCharging?"Lädt":e.chargepoint.isPluggedIn?"Bereit":"Frei"),i=we(()=>e.chargepoint.isLocked?"var(--color-evu)":e.chargepoint.isCharging?"var(--color-charging)":e.chargepoint.isPluggedIn?"var(--color-battery)":"var(--color-axis)"),a=we(()=>{let l="";return e.chargepoint.isLocked?l="fa-lock":e.chargepoint.isCharging?l=" fa-bolt":e.chargepoint.isPluggedIn&&(l="fa-plug"),"fa "+l}),o=we(()=>({color:e.chargepoint.color}));return(l,u)=>n.value?(ae(),Be(xn,{key:1,"full-width":e.fullWidth},{title:Ie(()=>[z("span",{style:ft(o.value),onClick:u[3]||(u[3]=c=>n.value=!n.value)},[u[8]||(u[8]=z("span",{class:"fas fa-gear"}," ",-1)),it(" Einstellungen "+Pe(e.chargepoint.name),1)],4)]),buttons:Ie(()=>[z("span",{class:"ms-2 pt-1",onClick:u[4]||(u[4]=c=>n.value=!n.value)},u[9]||(u[9]=[z("span",{class:"fa-solid fa-lg ps-1 fa-circle-check"},null,-1)]))]),default:Ie(()=>[l.chargepoint!=null?(ae(),Be(gg,{key:0,chargepoint:l.chargepoint},null,8,["chargepoint"])):Me("",!0),z("button",{type:"button",class:"close-config-button btn ms-2 pt-1",onClick:u[5]||(u[5]=c=>n.value=!n.value)}," OK ")]),_:1},8,["full-width"])):(ae(),Be(Ol,{key:0,"variable-width":!0,"full-width":e.fullWidth},{title:Ie(()=>[z("span",oU,[z("span",{style:ft(o.value),onClick:u[0]||(u[0]=c=>n.value=!n.value)},[u[6]||(u[6]=z("span",{class:"fa-solid fa-charging-station"}," ",-1)),it(" "+Pe(e.chargepoint.name),1)],4),r.value.faultState==2?(ae(),Ee("span",aU,"Fehler")):Me("",!0)])]),buttons:Ie(()=>[z("span",{type:"button",class:"ms-2 ps-1 pt-1",onClick:u[1]||(u[1]=c=>n.value=!n.value)},u[7]||(u[7]=[z("span",{class:"fa-solid fa-lg ps-1 fa-ellipsis-vertical"},null,-1)]))]),footer:Ie(()=>[z("div",fU,[n.value?Me("",!0):(ae(),Be(sU,{key:0,chargepoint:e.chargepoint,"full-width":e.fullWidth},null,8,["chargepoint","full-width"]))])]),default:Ie(()=>[n.value?Me("",!0):(ae(),Ee("div",lU,[z("div",{class:"grid12",onClick:u[2]||(u[2]=c=>n.value=!n.value)},[Se(ht,{heading:"Status:",class:"grid-col-4 grid-left"},{default:Ie(()=>[z("span",{style:ft({color:i.value})},[z("i",{class:tt(a.value)},null,2),it(" "+Pe(s.value),1)],4)]),_:1}),Se(ht,{heading:"Geladen:",class:"grid-col-4 grid-left"},{default:Ie(()=>[Se(jn,{"watt-h":l.chargepoint.dailyYield},null,8,["watt-h"])]),_:1})])])),n.value?(ae(),Ee("div",uU,[z("div",cU,[l.chargepoint!=null?(ae(),Be(gg,{key:0,chargepoint:l.chargepoint},null,8,["chargepoint"])):Me("",!0)])])):Me("",!0)]),_:1},8,["full-width"]))}}),hU=Je(dU,[["__scopeId","data-v-8c909f1c"]]);function Ov(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function jm(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ov(e[r])&&Ov(t[r])&&Object.keys(e[r]).length>0&&jm(t[r],e[r])})}const US={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function rr(){const t=typeof document<"u"?document:{};return jm(t,US),t}const pU={document:US,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Nt(){const t=typeof window<"u"?window:{};return jm(t,pU),t}function Vi(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function gU(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function Ks(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function rn(){return Date.now()}function mU(t){const e=Nt();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function mg(t,e){e===void 0&&(e="x");const r=Nt();let n,s,i;const a=mU(t);return r.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(o=>o.replace(",",".")).join(", ")),i=new r.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?s=i.m41:n.length===16?s=parseFloat(n[12]):s=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?s=i.m42:n.length===16?s=parseFloat(n[13]):s=parseFloat(n[5])),s||0}function za(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function bU(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function jr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!bU(n)){const s=Object.keys(Object(n)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const o=s[i],l=Object.getOwnPropertyDescriptor(n,o);l!==void 0&&l.enumerable&&(za(t[o])&&za(n[o])?n[o].__swiper__?t[o]=n[o]:jr(t[o],n[o]):!za(t[o])&&za(n[o])?(t[o]={},n[o].__swiper__?t[o]=n[o]:jr(t[o],n[o])):t[o]=n[o])}}}return t}function Ha(t,e,r){t.style.setProperty(e,r)}function FS(t){let{swiper:e,targetPosition:r,side:n}=t;const s=Nt(),i=-e.translate;let a=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=r>i?"next":"prev",c=(d,p)=>u==="next"&&d>=p||u==="prev"&&d<=p,f=()=>{o=new Date().getTime(),a===null&&(a=o);const d=Math.max(Math.min((o-a)/l,1),0),p=.5-Math.cos(d*Math.PI)/2;let g=i+p*(r-i);if(c(g,r)&&(g=r),e.wrapperEl.scrollTo({[n]:g}),c(g,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(f)};f()}function lo(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function ar(t,e){e===void 0&&(e="");const r=Nt(),n=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(s=>s.matches(e)):n}function yU(t,e){var n,s;const r=[e];for(;r.length>0;){const i=r.shift();if(t===i)return!0;r.push(...i.children,...((n=i.shadowRoot)==null?void 0:n.children)||[],...((s=i.assignedElements)==null?void 0:s.call(i))||[])}}function wU(t,e){const r=Nt();let n=e.contains(t);return!n&&r.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=yU(t,e))),n}function Sc(t){try{console.warn(t);return}catch{}}function Hr(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:Vi(e)),r}function xc(t){const e=Nt(),r=rr(),n=t.getBoundingClientRect(),s=r.body,i=t.clientTop||s.clientTop||0,a=t.clientLeft||s.clientLeft||0,o=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:n.top+o-i,left:n.left+l-a}}function vU(t,e){const r=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function _U(t,e){const r=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function Yi(t,e){return Nt().getComputedStyle(t,null).getPropertyValue(e)}function yl(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function Vs(t,e){const r=[];let n=t.parentElement;for(;n;)e?n.matches(e)&&r.push(n):r.push(n),n=n.parentElement;return r}function rl(t,e){function r(n){n.target===t&&(e.call(t,n),t.removeEventListener("transitionend",r))}e&&t.addEventListener("transitionend",r)}function bg(t,e,r){const n=Nt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ut(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function af(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let Vd;function EU(){const t=Nt(),e=rr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function VS(){return Vd||(Vd=EU()),Vd}let jd;function SU(t){let{userAgent:e}=t===void 0?{}:t;const r=VS(),n=Nt(),s=n.navigator.platform,i=e||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let c=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&g&&r.touch&&b.indexOf(`${o}x${l}`)>=0&&(c=i.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(c||d||f)&&(a.os="ios",a.ios=!0),a}function jS(t){return t===void 0&&(t={}),jd||(jd=SU(t)),jd}let Wd;function xU(){const t=Nt(),e=jS();let r=!1;function n(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(n()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[l,u]=o.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));r=l<16||l===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=n(),a=i||s&&e.ios;return{isSafari:r||i,needPerspectiveFix:r,need3dFix:a,isWebView:s}}function TU(){return Wd||(Wd=xU()),Wd}function AU(t){let{swiper:e,on:r,emit:n}=t;const s=Nt();let i=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{a=s.requestAnimationFrame(()=>{const{width:d,height:p}=e;let g=d,b=p;f.forEach(v=>{let{contentBoxSize:w,contentRect:_,target:y}=v;y&&y!==e.el||(g=_?_.width:(w[0]||w).inlineSize,b=_?_.height:(w[0]||w).blockSize)}),(g!==d||b!==p)&&o()})}),i.observe(e.el))},u=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},c=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",o),s.addEventListener("orientationchange",c)}),r("destroy",()=>{u(),s.removeEventListener("resize",o),s.removeEventListener("orientationchange",c)})}function CU(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;const i=[],a=Nt(),o=function(c,f){f===void 0&&(f={});const d=a.MutationObserver||a.WebkitMutationObserver,p=new d(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const b=function(){s("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(b):a.setTimeout(b,0)});p.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=Vs(e.hostEl);for(let f=0;f<c.length;f+=1)o(c[f])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(c=>{c.disconnect()}),i.splice(0,i.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",u)}var IU={on(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const s=r?"unshift":"push";return t.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][s](e)}),n},once(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function s(){n.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];e.apply(n,a)}return s.__emitterProxy=e,n.on(t,s,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[n](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&r.eventsListeners[n].splice(i,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,n;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],r=i.slice(1,i.length),n=t):(e=i[0].events,r=i[0].data,n=i[0].context||t),r.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(n,[l,...r])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(n,r)})}),t}};function MU(){const t=this;let e,r;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=n.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(Yi(n,"padding-left")||0,10)-parseInt(Yi(n,"padding-right")||0,10),r=r-parseInt(Yi(n,"padding-top")||0,10)-parseInt(Yi(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function kU(){const t=this;function e(F,$){return parseFloat(F.getPropertyValue(t.getDirectionLabel($))||0)}const r=t.params,{wrapperEl:n,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:o}=t,l=t.virtual&&r.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,c=ar(s,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let d=[];const p=[],g=[];let b=r.slidesOffsetBefore;typeof b=="function"&&(b=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(t));const w=t.snapGrid.length,_=t.slidesGrid.length;let y=r.spaceBetween,S=-b,T=0,A=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*i:typeof y=="string"&&(y=parseFloat(y)),t.virtualSize=-y,c.forEach(F=>{a?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Ha(n,"--swiper-centered-offset-before",""),Ha(n,"--swiper-centered-offset-after",""));const C=r.grid&&r.grid.rows>1&&t.grid;C?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let L;const j=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(F=>typeof r.breakpoints[F].slidesPerView<"u").length>0;for(let F=0;F<f;F+=1){L=0;let $;if(c[F]&&($=c[F]),C&&t.grid.updateSlide(F,$,c),!(c[F]&&Yi($,"display")==="none")){if(r.slidesPerView==="auto"){j&&(c[F].style[t.getDirectionLabel("width")]="");const I=getComputedStyle($),M=$.style.transform,B=$.style.webkitTransform;if(M&&($.style.transform="none"),B&&($.style.webkitTransform="none"),r.roundLengths)L=t.isHorizontal()?bg($,"width"):bg($,"height");else{const J=e(I,"width"),ie=e(I,"padding-left"),re=e(I,"padding-right"),N=e(I,"margin-left"),fe=e(I,"margin-right"),G=I.getPropertyValue("box-sizing");if(G&&G==="border-box")L=J+N+fe;else{const{clientWidth:pe,offsetWidth:U}=$;L=J+ie+re+N+fe+(U-pe)}}M&&($.style.transform=M),B&&($.style.webkitTransform=B),r.roundLengths&&(L=Math.floor(L))}else L=(i-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(L=Math.floor(L)),c[F]&&(c[F].style[t.getDirectionLabel("width")]=`${L}px`);c[F]&&(c[F].swiperSlideSize=L),g.push(L),r.centeredSlides?(S=S+L/2+T/2+y,T===0&&F!==0&&(S=S-i/2-y),F===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),A%r.slidesPerGroup===0&&d.push(S),p.push(S)):(r.roundLengths&&(S=Math.floor(S)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&d.push(S),p.push(S),S=S+L+y),t.virtualSize+=L+y,T=L,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+v,a&&o&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${t.virtualSize+y}px`),r.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+y}px`),C&&t.grid.updateWrapperSize(L,d),!r.centeredSlides){const F=[];for(let $=0;$<d.length;$+=1){let I=d[$];r.roundLengths&&(I=Math.floor(I)),d[$]<=t.virtualSize-i&&F.push(I)}d=F,Math.floor(t.virtualSize-i)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-i)}if(l&&r.loop){const F=g[0]+y;if(r.slidesPerGroup>1){const $=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),I=F*r.slidesPerGroup;for(let M=0;M<$;M+=1)d.push(d[d.length-1]+I)}for(let $=0;$<t.virtual.slidesBefore+t.virtual.slidesAfter;$+=1)r.slidesPerGroup===1&&d.push(d[d.length-1]+F),p.push(p[p.length-1]+F),t.virtualSize+=F}if(d.length===0&&(d=[0]),y!==0){const F=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");c.filter(($,I)=>!r.cssMode||r.loop?!0:I!==c.length-1).forEach($=>{$.style[F]=`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let F=0;g.forEach(I=>{F+=I+(y||0)}),F-=y;const $=F>i?F-i:0;d=d.map(I=>I<=0?-b:I>$?$+v:I)}if(r.centerInsufficientSlides){let F=0;g.forEach(I=>{F+=I+(y||0)}),F-=y;const $=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(F+$<i){const I=(i-F-$)/2;d.forEach((M,B)=>{d[B]=M-I}),p.forEach((M,B)=>{p[B]=M+I})}}if(Object.assign(t,{slides:c,snapGrid:d,slidesGrid:p,slidesSizesGrid:g}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Ha(n,"--swiper-centered-offset-before",`${-d[0]}px`),Ha(n,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const F=-t.snapGrid[0],$=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+F),t.slidesGrid=t.slidesGrid.map(I=>I+$)}if(f!==u&&t.emit("slidesLengthChange"),d.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==_&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const F=`${r.containerModifierClass}backface-hidden`,$=t.el.classList.contains(F);f<=r.maxBackfaceHiddenSlides?$||t.el.classList.add(F):$&&t.el.classList.remove(F)}}function PU(t){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=o=>n?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{r.push(o)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const o=e.activeIndex+i;if(o>e.slides.length&&!n)break;r.push(a(o))}else r.push(a(e.activeIndex));for(i=0;i<r.length;i+=1)if(typeof r[i]<"u"){const o=r[i].offsetHeight;s=o>s?o:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function OU(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-r-t.cssOverflowAdjustment()}const Lv=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function LU(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:n,rtlTranslate:s,snapGrid:i}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=r.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<n.length;l+=1){const u=n[l];let c=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=n[0].swiperSlideOffset);const f=(a+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),d=(a-i[0]+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),p=-(a-c),g=p+e.slidesSizesGrid[l],b=p>=0&&p<=e.size-e.slidesSizesGrid[l],v=p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size;v&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),Lv(u,v,r.slideVisibleClass),Lv(u,b,r.slideFullyVisibleClass),u.progress=s?-f:f,u.originalProgress=s?-d:d}}function RU(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:o}=e;const l=i,u=a;if(n===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/n;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=c||s<=0,a=f||s>=1,c&&(s=0),f&&(s=1)}if(r.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),d=e.slidesGrid[c],p=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=d?o=(b-d)/g:o=(b+g-p)/g,o>1&&(o-=1)}Object.assign(e,{progress:s,progressLoop:o,isBeginning:i,isEnd:a}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),i&&!l&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(l&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}const zd=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function BU(){const t=this,{slides:e,params:r,slidesEl:n,activeIndex:s}=t,i=t.virtual&&r.virtual.enabled,a=t.grid&&r.grid&&r.grid.rows>1,o=f=>ar(n,`.${r.slideClass}${f}, swiper-slide${f}`)[0];let l,u,c;if(i)if(r.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${f}"]`)}else l=o(`[data-swiper-slide-index="${s}"]`);else a?(l=e.find(f=>f.column===s),c=e.find(f=>f.column===s+1),u=e.find(f=>f.column===s-1)):l=e[s];l&&(a||(c=_U(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!c&&(c=e[0]),u=vU(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{zd(f,f===l,r.slideActiveClass),zd(f,f===c,r.slideNextClass),zd(f,f===u,r.slidePrevClass)}),t.emitSlidesClasses()}const ju=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(r());if(n){let s=n.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(n.shadowRoot?s=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(s=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Hd=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},yg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,o=[a-e];o.push(...Array.from({length:e}).map((l,u)=>a+n+u)),t.slides.forEach((l,u)=>{o.includes(l.column)&&Hd(t,u)});return}const i=s+n-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const o=(a%r+r)%r;(o<s||o>i)&&Hd(t,o)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,r-1);a+=1)a!==s&&(a>i||a<s)&&Hd(t,a)};function $U(t){const{slidesGrid:e,params:r}=t,n=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?n>=e[i]&&n<e[i+1]-(e[i+1]-e[i])/2?s=i:n>=e[i]&&n<e[i+1]&&(s=i+1):n>=e[i]&&(s=i);return r.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function NU(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:s,activeIndex:i,realIndex:a,snapIndex:o}=e;let l=t,u;const c=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=$U(e)),n.indexOf(r)>=0)u=n.indexOf(r);else{const p=Math.min(s.slidesPerGroupSkip,l);u=p+Math.floor((l-p)/s.slidesPerGroup)}if(u>=n.length&&(u=n.length-1),l===i&&!e.params.loop){u!==o&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&s.grid&&s.grid.rows>1;let d;if(e.virtual&&s.virtual.enabled&&s.loop)d=c(l);else if(f){const p=e.slides.find(b=>b.column===l);let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),d=Math.floor(g/s.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?d=parseInt(p,10):d=l}else d=l;Object.assign(e,{previousSnapIndex:o,snapIndex:u,previousRealIndex:a,realIndex:d,previousIndex:i,activeIndex:l}),e.initialized&&yg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function DU(t,e){const r=this,n=r.params;let s=t.closest(`.${n.slideClass}, swiper-slide`);!s&&r.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!s&&o.matches&&o.matches(`.${n.slideClass}, swiper-slide`)&&(s=o)});let i=!1,a;if(s){for(let o=0;o<r.slides.length;o+=1)if(r.slides[o]===s){i=!0,a=o;break}}if(s&&i)r.clickedSlide=s,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=a;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var UU={updateSize:MU,updateSlides:kU,updateAutoHeight:PU,updateSlidesOffset:OU,updateSlidesProgress:LU,updateProgress:RU,updateSlidesClasses:BU,updateActiveIndex:NU,updateClickedSlide:DU};function FU(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:n,translate:s,wrapperEl:i}=e;if(r.virtualTranslate)return n?-s:s;if(r.cssMode)return s;let a=mg(i,t);return a+=e.cssOverflowAdjustment(),n&&(a=-a),a||0}function VU(t,e){const r=this,{rtlTranslate:n,params:s,wrapperEl:i,progress:a}=r;let o=0,l=0;const u=0;r.isHorizontal()?o=n?-t:t:l=t,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?o:l,s.cssMode?i[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-o:-l:s.virtualTranslate||(r.isHorizontal()?o-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),i.style.transform=`translate3d(${o}px, ${l}px, ${u}px)`);let c;const f=r.maxTranslate()-r.minTranslate();f===0?c=0:c=(t-r.minTranslate())/f,c!==a&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function jU(){return-this.snapGrid[0]}function WU(){return-this.snapGrid[this.snapGrid.length-1]}function zU(t,e,r,n,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const i=this,{params:a,wrapperEl:o}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const l=i.minTranslate(),u=i.maxTranslate();let c;if(n&&t>l?c=l:n&&t<u?c=u:c=t,i.updateProgress(c),a.cssMode){const f=i.isHorizontal();if(e===0)o[f?"scrollLeft":"scrollTop"]=-c;else{if(!i.support.smoothScroll)return FS({swiper:i,targetPosition:-c,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(c),r&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(c),r&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(d){!i||i.destroyed||d.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,r&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var HU={getTranslate:FU,setTranslate:VU,minTranslate:jU,maxTranslate:WU,translateTo:zU};function qU(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,e)}function WS(t){let{swiper:e,runCallbacks:r,direction:n,step:s}=t;const{activeIndex:i,previousIndex:a}=e;let o=n;if(o||(i>a?o="next":i<a?o="prev":o="reset"),e.emit(`transition${s}`),r&&i!==a){if(o==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),o==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function GU(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),WS({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function YU(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),WS({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var KU={setTransition:qU,transitionStart:GU,transitionEnd:YU};function XU(t,e,r,n,s){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:f,rtlTranslate:d,wrapperEl:p,enabled:g}=i;if(!g&&!n&&!s||i.destroyed||i.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const b=Math.min(i.params.slidesPerGroupSkip,a);let v=b+Math.floor((a-b)/i.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const w=-l[v];if(o.normalizeSlideIndex)for(let T=0;T<u.length;T+=1){const A=-Math.floor(w*100),C=Math.floor(u[T]*100),L=Math.floor(u[T+1]*100);typeof u[T+1]<"u"?A>=C&&A<L-(L-C)/2?a=T:A>=C&&A<L&&(a=T+1):A>=C&&(a=T)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(d?w>i.translate&&w>i.minTranslate():w<i.translate&&w<i.minTranslate())||!i.allowSlidePrev&&w>i.translate&&w>i.maxTranslate()&&(f||0)!==a))return!1;a!==(c||0)&&r&&i.emit("beforeSlideChangeStart"),i.updateProgress(w);let _;a>f?_="next":a<f?_="prev":_="reset";const y=i.virtual&&i.params.virtual.enabled;if(!(y&&s)&&(d&&-w===i.translate||!d&&w===i.translate))return i.updateActiveIndex(a),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),o.effect!=="slide"&&i.setTranslate(w),_!=="reset"&&(i.transitionStart(r,_),i.transitionEnd(r,_)),!1;if(o.cssMode){const T=i.isHorizontal(),A=d?w:-w;if(e===0)y&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),y&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[T?"scrollLeft":"scrollTop"]=A})):p[T?"scrollLeft":"scrollTop"]=A,y&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return FS({swiper:i,targetPosition:A,side:T?"left":"top"}),!0;p.scrollTo({[T?"left":"top"]:A,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(w),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,n),i.transitionStart(r,_),e===0?i.transitionEnd(r,_):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(A){!i||i.destroyed||A.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(r,_))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function QU(t,e,r,n){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let o;if(i){const d=a*s.params.grid.rows;o=s.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===d).column}else o=s.getSlideIndexByData(a);const l=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let c=s.params.slidesPerView;c==="auto"?c=s.slidesPerViewDynamic():(c=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&c%2===0&&(c=c+1));let f=l-o<c;if(u&&(f=f||o<Math.ceil(c/2)),n&&u&&s.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const d=u?o<s.activeIndex?"prev":"next":o-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:d,slideTo:!0,activeSlideIndex:d==="next"?o+1:o-l+1,slideRealIndex:d==="next"?s.realIndex:void 0})}if(i){const d=a*s.params.grid.rows;a=s.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===d).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,r,n)}),s}function JU(t,e,r){e===void 0&&(e=!0);const n=this,{enabled:s,params:i,animating:a}=n;if(!s||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let o=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<i.slidesPerGroupSkip?1:o,u=n.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,t,e,r)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,t,e,r):n.slideTo(n.activeIndex+l,t,e,r)}function ZU(t,e,r){e===void 0&&(e=!0);const n=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:o,enabled:l,animating:u}=n;if(!l||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const c=n.virtual&&s.virtual.enabled;if(s.loop){if(u&&!c&&s.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=o?n.translate:-n.translate;function d(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const p=d(f),g=i.map(w=>d(w));let b=i[g.indexOf(p)-1];if(typeof b>"u"&&s.cssMode){let w;i.forEach((_,y)=>{p>=_&&(w=y)}),typeof w<"u"&&(b=i[w>0?w-1:w])}let v=0;if(typeof b<"u"&&(v=a.indexOf(b),v<0&&(v=n.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(v=v-n.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),s.rewind&&n.isBeginning){const w=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(w,t,e,r)}else if(s.loop&&n.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(v,t,e,r)}),!0;return n.slideTo(v,t,e,r)}function eF(t,e,r){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,r)}function tF(t,e,r,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),o=a+Math.floor((i-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){const u=s.snapGrid[o],c=s.snapGrid[o+1];l-u>(c-u)*n&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[o-1],c=s.snapGrid[o];l-u<=(c-u)*n&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,r)}function rF(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:r}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-n/2||s>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),s=t.getSlideIndex(ar(r,`${a}[data-swiper-slide-index="${i}"]`)[0]),Ks(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-n?(t.loopFix(),s=t.getSlideIndex(ar(r,`${a}[data-swiper-slide-index="${i}"]`)[0]),Ks(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var nF={slideTo:XU,slideToLoop:QU,slideNext:JU,slidePrev:ZU,slideReset:eF,slideToClosest:tF,slideToClickedSlide:rF};function iF(t){const e=this,{params:r,slidesEl:n}=e;if(!r.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{ar(n,`.${r.slideClass}, swiper-slide`).forEach((f,d)=>{f.setAttribute("data-swiper-slide-index",d)})},i=e.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(i?r.grid.rows:1),o=e.slides.length%a!==0,l=i&&e.slides.length%r.grid.rows!==0,u=c=>{for(let f=0;f<c;f+=1){const d=e.isElement?Hr("swiper-slide",[r.slideBlankClass]):Hr("div",[r.slideClass,r.slideBlankClass]);e.slidesEl.append(d)}};if(o){if(r.loopAddBlankSlides){const c=a-e.slides.length%a;u(c),e.recalcSlides(),e.updateSlides()}else Sc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(r.loopAddBlankSlides){const c=r.grid.rows-e.slides.length%r.grid.rows;u(c),e.recalcSlides(),e.updateSlides()}else Sc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next"})}function sF(t){let{slideRealIndex:e,slideTo:r=!0,direction:n,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:o}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:f,slidesEl:d,params:p}=l,{centeredSlides:g}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){r&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=f,l.emit("loopFix");return}let b=p.slidesPerView;b==="auto"?b=l.slidesPerViewDynamic():(b=Math.ceil(parseFloat(p.slidesPerView,10)),g&&b%2===0&&(b=b+1));const v=p.slidesPerGroupAuto?b:p.slidesPerGroup;let w=v;w%v!==0&&(w+=v-w%v),w+=p.loopAdditionalSlides,l.loopedSlides=w;const _=l.grid&&p.grid&&p.grid.rows>1;u.length<b+w?Sc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&p.grid.fill==="row"&&Sc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],S=[];let T=l.activeIndex;typeof i>"u"?i=l.getSlideIndex(u.find(M=>M.classList.contains(p.slideActiveClass))):T=i;const A=n==="next"||!n,C=n==="prev"||!n;let L=0,j=0;const F=_?Math.ceil(u.length/p.grid.rows):u.length,I=(_?u[i].column:i)+(g&&typeof s>"u"?-b/2+.5:0);if(I<w){L=Math.max(w-I,v);for(let M=0;M<w-I;M+=1){const B=M-Math.floor(M/F)*F;if(_){const J=F-B-1;for(let ie=u.length-1;ie>=0;ie-=1)u[ie].column===J&&y.push(ie)}else y.push(F-B-1)}}else if(I+b>F-w){j=Math.max(I-(F-w*2),v);for(let M=0;M<j;M+=1){const B=M-Math.floor(M/F)*F;_?u.forEach((J,ie)=>{J.column===B&&S.push(ie)}):S.push(B)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),C&&y.forEach(M=>{u[M].swiperLoopMoveDOM=!0,d.prepend(u[M]),u[M].swiperLoopMoveDOM=!1}),A&&S.forEach(M=>{u[M].swiperLoopMoveDOM=!0,d.append(u[M]),u[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():_&&(y.length>0&&C||S.length>0&&A)&&l.slides.forEach((M,B)=>{l.grid.updateSlide(B,M,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),r){if(y.length>0&&C){if(typeof e>"u"){const M=l.slidesGrid[T],J=l.slidesGrid[T+L]-M;o?l.setTranslate(l.translate-J):(l.slideTo(T+Math.ceil(L),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-J,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-J))}else if(s){const M=_?y.length/p.grid.rows:y.length;l.slideTo(l.activeIndex+M,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&A)if(typeof e>"u"){const M=l.slidesGrid[T],J=l.slidesGrid[T-j]-M;o?l.setTranslate(l.translate-J):(l.slideTo(T-j,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-J,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-J))}else{const M=_?S.length/p.grid.rows:S.length;l.slideTo(l.activeIndex-M,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=f,l.controller&&l.controller.control&&!a){const M={slideRealIndex:e,direction:n,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix({...M,slideTo:B.params.slidesPerView===p.slidesPerView?r:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...M,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?r:!1})}l.emit("loopFix")}function oF(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;n[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),n.forEach(s=>{r.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var aF={loopCreate:iF,loopFix:sF,loopDestroy:oF};function lF(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function uF(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var cF={setGrabCursor:lF,unsetGrabCursor:uF};function fF(t,e){e===void 0&&(e=this);function r(n){if(!n||n===rr()||n===Nt())return null;n.assignedSlot&&(n=n.assignedSlot);const s=n.closest(t);return!s&&!n.getRootNode?null:s||r(n.getRootNode().host)}return r(e)}function Rv(t,e,r){const n=Nt(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(r<=a||r>=n.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function dF(t){const e=this,r=rr();let n=t;n.originalEvent&&(n=n.originalEvent);const s=e.touchEventsData;if(n.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(s.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){Rv(e,n,n.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:o}=e;if(!o||!i.simulateTouch&&n.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=n.target;if(i.touchEventsTarget==="wrapper"&&!wU(l,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",c=n.composedPath?n.composedPath():n.path;u&&n.target&&n.target.shadowRoot&&c&&(l=c[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,d=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(d?fF(f,l):l.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;a.currentX=n.pageX,a.currentY=n.pageY;const p=a.currentX,g=a.currentY;if(!Rv(e,n,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=g,s.touchStartTime=rn(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let b=!0;l.matches(s.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),r.activeElement&&r.activeElement.matches(s.focusableElements)&&r.activeElement!==l&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&r.activeElement.blur();const v=b&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||v)&&!l.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function hF(t){const e=rr(),r=this,n=r.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:o}=r;if(!o||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(n.touchId!==null||l.pointerId!==n.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(T=>T.identifier===n.touchId),!u||u.identifier!==n.touchId)return}else u=l;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const c=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){i.startX=c,i.startY=f;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:c,startY:f,currentX:c,currentY:f}),n.touchStartTime=rn());return}if(s.touchReleaseOnEdges&&!s.loop){if(r.isVertical()){if(f<i.startY&&r.translate<=r.maxTranslate()||f>i.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(c<i.startX&&r.translate<=r.maxTranslate()||c>i.startX&&r.translate>=r.minTranslate())return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=c,i.currentY=f;const d=i.currentX-i.startX,p=i.currentY-i.startY;if(r.params.threshold&&Math.sqrt(d**2+p**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let T;r.isHorizontal()&&i.currentY===i.startY||r.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:d*d+p*p>=25&&(T=Math.atan2(Math.abs(p),Math.abs(d))*180/Math.PI,n.isScrolling=r.isHorizontal()?T>s.touchAngle:90-T>s.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||l.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let g=r.isHorizontal()?d:p,b=r.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),b=Math.abs(b)*(a?1:-1)),i.diff=g,g*=s.touchRatio,a&&(g=-g,b=-b);const v=r.touchesDirection;r.swipeDirection=g>0?"prev":"next",r.touchesDirection=b>0?"prev":"next";const w=r.params.loop&&!s.cssMode,_=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(w&&_&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(T)}n.allowMomentumBounce=!1,s.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}if(new Date().getTime(),n.isMoved&&n.allowThresholdMove&&v!==r.touchesDirection&&w&&_&&Math.abs(g)>=1){Object.assign(i,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=g+n.startTranslate;let y=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),g>0?(w&&_&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(y=!1,s.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+g)**S))):g<0&&(w&&_&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(s.slidesPerView!=="auto"&&r.slides.length-s.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(s.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(y=!1,s.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-g)**S))),y&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=r.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&r.freeMode||s.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function pF(t){const e=this,r=e.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let s;if(n.type==="touchend"||n.type==="touchcancel"){if(s=[...n.changedTouches].find(T=>T.identifier===r.touchId),!s||s.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:a,touches:o,rtlTranslate:l,slidesGrid:u,enabled:c}=e;if(!c||!a.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&e.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&a.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}a.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=rn(),d=f-r.touchStartTime;if(e.allowClick){const T=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(T&&T[0]||n.target,T),e.emit("tap click",n),d<300&&f-r.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(r.lastClickTime=rn(),Ks(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||o.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let p;if(a.followFinger?p=l?e.translate:-e.translate:p=-r.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let b=0,v=e.slidesSizesGrid[0];for(let T=0;T<u.length;T+=T<a.slidesPerGroupSkip?1:a.slidesPerGroup){const A=T<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[T+A]<"u"?(g||p>=u[T]&&p<u[T+A])&&(b=T,v=u[T+A]-u[T]):(g||p>=u[T])&&(b=T,v=u[u.length-1]-u[u.length-2])}let w=null,_=null;a.rewind&&(e.isBeginning?_=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const y=(p-u[b])/v,S=b<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(d>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:b+S):e.slideTo(b)),e.swipeDirection==="prev"&&(y>1-a.longSwipesRatio?e.slideTo(b+S):_!==null&&y<0&&Math.abs(y)>a.longSwipesRatio?e.slideTo(_):e.slideTo(b))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(b+S):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:b+S),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:b))}}function Bv(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=n,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function gF(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function mF(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function bF(t){const e=this;ju(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function yF(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const zS=(t,e)=>{const r=rr(),{params:n,el:s,wrapperEl:i,device:a}=t,o=!!n.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(r[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),r[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),r[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),r[l]("touchend",t.onTouchEnd,{passive:!0}),r[l]("pointerup",t.onTouchEnd,{passive:!0}),r[l]("pointercancel",t.onTouchEnd,{passive:!0}),r[l]("touchcancel",t.onTouchEnd,{passive:!0}),r[l]("pointerout",t.onTouchEnd,{passive:!0}),r[l]("pointerleave",t.onTouchEnd,{passive:!0}),r[l]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[l]("click",t.onClick,!0),n.cssMode&&i[l]("scroll",t.onScroll),n.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Bv,!0):t[u]("observerUpdate",Bv,!0),s[l]("load",t.onLoad,{capture:!0}))};function wF(){const t=this,{params:e}=t;t.onTouchStart=dF.bind(t),t.onTouchMove=hF.bind(t),t.onTouchEnd=pF.bind(t),t.onDocumentTouchStart=yF.bind(t),e.cssMode&&(t.onScroll=mF.bind(t)),t.onClick=gF.bind(t),t.onLoad=bF.bind(t),zS(t,"on")}function vF(){zS(this,"off")}var _F={attachEvents:wF,detachEvents:vF};const $v=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function EF(){const t=this,{realIndex:e,initialized:r,params:n,el:s}=t,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=rr(),o=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:a.querySelector(n.breakpointsBase),u=t.getBreakpoint(i,o,l);if(!u||t.currentBreakpoint===u)return;const f=(u in i?i[u]:void 0)||t.originalParams,d=$v(t,n),p=$v(t,f),g=t.params.grabCursor,b=f.grabCursor,v=n.enabled;d&&!p?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&p&&(s.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&s.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!b?t.unsetGrabCursor():!g&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof f[A]>"u")return;const C=n[A]&&n[A].enabled,L=f[A]&&f[A].enabled;C&&!L&&t[A].disable(),!C&&L&&t[A].enable()});const w=f.direction&&f.direction!==n.direction,_=n.loop&&(f.slidesPerView!==n.slidesPerView||w),y=n.loop;w&&r&&t.changeDirection(),jr(t.params,f);const S=t.params.enabled,T=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),v&&!S?t.disable():!v&&S&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),r&&(_?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!y&&T?(t.loopCreate(e),t.updateSlides()):y&&!T&&t.loopDestroy()),t.emit("breakpoint",f)}function SF(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let n=!1;const s=Nt(),i=e==="window"?s.innerHeight:r.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:i*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:u}=a[o];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(n=l):u<=r.clientWidth&&(n=l)}return n||"max"}var xF={setBreakpoint:EF,getBreakpoint:SF};function TF(t,e){const r=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(s=>{n[s]&&r.push(e+s)}):typeof n=="string"&&r.push(e+n)}),r}function AF(){const t=this,{classNames:e,params:r,rtl:n,el:s,device:i}=t,a=TF(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function CF(){const t=this,{el:e,classNames:r}=t;!e||typeof e=="string"||(e.classList.remove(...r),t.emitContainerClasses())}var IF={addClasses:AF,removeClasses:CF};function MF(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:n}=r;if(n){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+n*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var kF={checkOverflow:MF},wg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function PF(t,e){return function(n){n===void 0&&(n={});const s=Object.keys(n)[0],i=n[s];if(typeof i!="object"||i===null){jr(e,n);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){jr(e,n);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),jr(e,n)}}const qd={eventsEmitter:IU,update:UU,translate:HU,transition:KU,slide:nF,loop:aF,grabCursor:cF,events:_F,breakpoints:xF,checkOverflow:kF,classes:IF},Gd={};class Vr{constructor(){let e,r;for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?r=s[0]:[e,r]=s,r||(r={}),r=jr({},r),e&&!r.el&&(r.el=e);const a=rr();if(r.el&&typeof r.el=="string"&&a.querySelectorAll(r.el).length>1){const c=[];return a.querySelectorAll(r.el).forEach(f=>{const d=jr({},r,{el:f});c.push(new Vr(d))}),c}const o=this;o.__swiper__=!0,o.support=VS(),o.device=jS({userAgent:r.userAgent}),o.browser=TU(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const l={};o.modules.forEach(c=>{c({params:r,swiper:o,extendParams:PF(r,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const u=jr({},wg,l);return o.params=jr({},u,Gd,r),o.originalParams=jr({},o.params),o.passedParams=jr({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:r,params:n}=this,s=ar(r,`.${n.slideClass}, swiper-slide`),i=yl(s[0]);return yl(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:r,params:n}=e;e.slides=ar(r,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const s=n.minTranslate(),a=(n.maxTranslate()-s)*e+s;n.translateTo(a,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(n=>{const s=e.getSlideClasses(n);r.push({slideEl:n,classNames:s}),e.emit("_slideClass",n,s)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const n=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:u}=n;let c=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[u]?Math.ceil(i[u].swiperSlideSize):0,d;for(let p=u+1;p<i.length;p+=1)i[p]&&!d&&(f+=Math.ceil(i[p].swiperSlideSize),c+=1,f>l&&(d=!0));for(let p=u-1;p>=0;p-=1)i[p]&&!d&&(f+=i[p].swiperSlideSize,c+=1,f>l&&(d=!0))}else if(e==="current")for(let f=u+1;f<i.length;f+=1)(r?a[f]+o[f]-a[u]<l:a[f]-a[u]<l)&&(c+=1);else for(let f=u-1;f>=0;f-=1)a[u]-a[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&ju(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)s(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const a=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const n=this,s=n.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${s}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let n=e||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const s=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(s()):ar(n,s())[0];return!a&&r.params.createElements&&(a=Hr("div",r.params.wrapperClass),n.append(a),ar(n,`.${r.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(r,{el:n,wrapperEl:a,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:a,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||Yi(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||Yi(n,"direction")==="rtl"),wrongRTL:Yi(a,"display")==="-webkit-box"}),!0}init(e){const r=this;if(r.initialized||r.mount(e)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(),r.attachEvents();const s=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&s.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?ju(r,i):i.addEventListener("load",a=>{ju(r,a.target)})}),yg(r),r.initialized=!0,yg(r),r.emit("init"),r.emit("afterInit"),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const n=this,{params:s,el:i,wrapperEl:a,slides:o}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),s.loop&&n.loopDestroy(),r&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),gU(n)),n.destroyed=!0),null}static extendDefaults(e){jr(Gd,e)}static get extendedDefaults(){return Gd}static get defaults(){return wg}static installModule(e){Vr.prototype.__modules__||(Vr.prototype.__modules__=[]);const r=Vr.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>Vr.installModule(r)),Vr):(Vr.installModule(e),Vr)}}Object.keys(qd).forEach(t=>{Object.keys(qd[t]).forEach(e=>{Vr.prototype[e]=qd[t][e]})});Vr.use([AU,CU]);const OF=["id"],LF={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},RF={class:"modal-content"},BF={class:"modal-header"},$F={class:"modal-title"},NF={class:"modal-body",style:{"background-color":"var(--color-bg)"}},DF=We({__name:"ModalComponent",props:{modalId:{}},setup(t){const e=t;return cn(()=>{}),(r,n)=>(ae(),Ee("div",{id:e.modalId,class:"modal fade"},[z("div",LF,[z("div",RF,[z("div",BF,[z("h3",$F,[qt(r.$slots,"title",{},void 0,!0)]),n[0]||(n[0]=z("button",{type:"button",class:"btn-close buttonTextSize d-flex justify-content-center pt-3 pb-0","data-bs-dismiss":"modal"},[z("i",{class:"fa-solid fa-lg fa-rectangle-xmark m-0 p-0"})],-1))]),z("div",NF,[qt(r.$slots,"default",{},void 0,!0),n[1]||(n[1]=z("button",{class:"btn btn-secondary float-end mt-3 ms-1","data-bs-dismiss":"modal"}," Schließen ",-1))])])])],8,OF))}}),HS=Je(DF,[["__scopeId","data-v-eaefae30"]]),UF={class:"d-flex align-items-center"},FF={class:"cpname"},VF={class:"d-flex float-right justify-content-end align-items-center"},jF=["data-bs-target"],WF=["data-bs-target"],zF={class:"subgrid"},HF={key:0,class:"d-flex justify-content-center align-items-center vehiclestatus"},qF={class:"d-flex flex-column align-items-center px-0"},GF={class:"d-flex justify-content-center flex-wrap"},YF={class:"d-flex align-items-center"},KF={class:"badge phasesInUse rounded-pill"},XF={class:"d-flex flex-wrap justify-content-center chargeinfo"},QF={class:"me-1"},JF={key:0,class:"subgrid socEditRow m-0 p-0"},ZF={class:"socEditor rounded mt-2 d-flex flex-column align-items-center grid-col-12"},e4={class:"d-flex justify-content-stretch align-items-center"},t4=We({__name:"CpsListItem2",props:{chargepoint:{}},setup(t){const e=t,r=lt(!1),n=we(()=>mr[e.chargepoint.chargeMode].icon),s=we(()=>{let w="";return e.chargepoint.isLocked?w="fa-lock":e.chargepoint.isCharging?w=" fa-bolt":e.chargepoint.isPluggedIn&&(w="fa-plug"),"fa "+w}),i=we(()=>{let w="var(--color-axis)";return e.chargepoint.isLocked?w="var(--color-evu)":e.chargepoint.isCharging?w="var(--color-charging)":e.chargepoint.isPluggedIn&&(w="var(--color-battery)"),{color:w,border:`0.5px solid ${w} `}}),a=we(()=>{switch(e.chargepoint.chargeMode){case"stop":return{"background-color":"var(--color-input)"};default:return{"background-color":mr[e.chargepoint.chargeMode].color}}}),o=we(()=>qr(e.chargepoint.power,_e.decimalPlaces)),l=we(()=>e.chargepoint.current+" A"),u=we(()=>e.chargepoint.phasesInUse),c=we(()=>e.chargepoint.dailyYield>0?Ai(e.chargepoint.dailyYield,_e.decimalPlaces):"0 Wh"),f=we(()=>"("+Math.round(e.chargepoint.rangeCharged).toString()+" "+e.chargepoint.rangeUnit+")"),d=we(()=>mr[e.chargepoint.chargeMode].name);function p(){yr("socUpdate",1,e.chargepoint.connectedVehicle),Ke[e.chargepoint.id].waitingForSoc=!0}function g(){yr("setSoc",b.value,e.chargepoint.connectedVehicle),r.value=!1}const b=we({get(){return e.chargepoint.soc},set(w){Ke[e.chargepoint.id].soc=w}}),v=we(()=>e.chargepoint.isLocked?"Gesperrt":e.chargepoint.isCharging?"Lädt":e.chargepoint.isPluggedIn?"Bereit":"Frei");return(w,_)=>(ae(),Ee(Ge,null,[Se(ao,{titlecolor:w.chargepoint.color,fullwidth:!0,small:!0},{title:Ie(()=>[z("div",UF,[z("span",FF,Pe(w.chargepoint.name),1),z("span",{class:"badge rounded-pill statusbadge mx-2",style:ft(i.value)},[z("i",{class:tt([s.value,"me-1"])},null,2),it(" "+Pe(v.value),1)],4)])]),buttons:Ie(()=>[z("div",VF,[z("span",{class:"badge rounded-pill modebadge mx-2",type:"button",style:ft(a.value),"data-bs-toggle":"modal","data-bs-target":"#cpsconfig-"+w.chargepoint.id},[z("i",{class:tt(["fa me-1",n.value])},null,2),it(" "+Pe(d.value),1)],12,jF),z("span",{class:"fa-solid ms-2 fa-lg fa-edit ps-1",type:"button","data-bs-toggle":"modal","data-bs-target":"#cpsconfig-"+w.chargepoint.id},null,8,WF)])]),default:Ie(()=>[z("div",zF,[Se(ht,{heading:w.chargepoint.vehicleName,small:!0,class:"grid-left grid-col-4"},{default:Ie(()=>[w.chargepoint.isSocConfigured?(ae(),Ee("span",HF,[w.chargepoint.soc?(ae(),Be(of,{key:0,class:"me-1",soc:w.chargepoint.soc},null,8,["soc"])):Me("",!0),w.chargepoint.isSocConfigured&&w.chargepoint.isSocManual?(ae(),Ee("i",{key:1,type:"button",class:"fa-solid fa-sm fas fa-edit",style:{color:"var(--color-menu)"},onClick:_[0]||(_[0]=y=>r.value=!r.value)})):Me("",!0),w.chargepoint.isSocConfigured&&!w.chargepoint.isSocManual?(ae(),Ee("i",{key:2,type:"button",class:tt(["fa-solid fa-sm me-2",w.chargepoint.waitingForSoc?"fa-spinner fa-spin":"fa-sync"]),style:{color:"var(--color-menu)"},onClick:p},null,2)):Me("",!0)])):Me("",!0)]),_:1},8,["heading"]),Se(ht,{heading:"Parameter:",small:!0,class:"grid-col-4"},{default:Ie(()=>[z("div",qF,[z("span",GF,[z("span",null,Pe(o.value),1),z("span",YF,[z("span",KF,Pe(u.value),1),z("span",null,Pe(l.value),1)])])])]),_:1}),Se(ht,{heading:"Geladen:",small:!0,class:"grid-right grid-col-4"},{default:Ie(()=>[z("div",XF,[z("span",QF,Pe(c.value),1),z("span",null,Pe(f.value),1)])]),_:1})]),r.value?(ae(),Ee("div",JF,[z("div",ZF,[_[2]||(_[2]=z("span",{class:"d-flex m-1 p-0 socEditTitle"},"Ladestand einstellen:",-1)),z("span",e4,[z("span",null,[Se(wr,{id:"manualSoc",modelValue:b.value,"onUpdate:modelValue":_[1]||(_[1]=y=>b.value=y),min:0,max:100,step:1,unit:"%"},null,8,["modelValue"])])]),z("span",{type:"button",class:"fa-solid d-flex fa-lg me-2 mb-3 align-self-end fa-circle-check",onClick:g})])])):Me("",!0)]),_:1},8,["titlecolor"]),(ae(),Be(ZT,{to:"body"},[(ae(),Be(HS,{key:w.chargepoint.id,"modal-id":"cpsconfig-"+w.chargepoint.id},{title:Ie(()=>[it(" Konfiguration: "+Pe(w.chargepoint.name),1)]),default:Ie(()=>[w.chargepoint!=null?(ae(),Be(gg,{key:0,chargepoint:w.chargepoint},null,8,["chargepoint"])):Me("",!0)]),_:1},8,["modal-id"]))]))],64))}}),r4=Je(t4,[["__scopeId","data-v-9260919a"]]),n4=We({__name:"CpSimpleList2",setup(t){const e=we(()=>Object.values(Ke));return(r,n)=>(ae(),Be(xn,{"variable-width":!0},{title:Ie(()=>n[0]||(n[0]=[z("span",{class:"fa-solid fa-charging-station"}," ",-1),it(" Ladepunkte ")])),buttons:Ie(()=>[ne(It).active?(ae(),Be(Tn,{key:0,bgcolor:"var(--color-menu)"},{default:Ie(()=>[it("Strompreis: "+Pe(ne(It).etCurrentPriceString),1)]),_:1})):Me("",!0)]),default:Ie(()=>[(ae(!0),Ee(Ge,null,ot(e.value,(s,i)=>(ae(),Ee("div",{key:i,class:"subgrid pb-2"},[Se(r4,{chargepoint:s},null,8,["chargepoint"])]))),128))]),_:1}))}}),i4=Je(n4,[["__scopeId","data-v-b8c6b557"]]),Yd=We({__name:"ChargePointList",props:{id:{},compact:{type:Boolean}},setup(t){let e,r;const n=t,s=we(()=>{let u=Object.values(Ke);return l(),u}),i=we(()=>a.value+" "+o.value),a=we(()=>{switch(Object.values(Ke).length){case 0:return _e.preferWideBoxes?"col-lg-6":"col-lg-4";case 1:return _e.preferWideBoxes?"col-lg-6":"col-lg-4";case 2:return _e.preferWideBoxes?"col-lg-12":"col-lg-8 ";default:return"col-lg-12"}}),o=we(()=>"swiper-chargepoints-"+n.id);function l(){let u=document.querySelector("."+o.value);if(u&&(r=u,e=r.swiper),e){let c="1";if(Vn.value)switch(Object.values(Ke).length){case 0:case 1:c="1";break;case 2:c="2";break;default:c="3"}r.setAttribute("slides-per-view",c),e.update()}}return cn(()=>{let u=document.querySelector("."+o.value);u&&(r=u,e=r.swiper),window.addEventListener("resize",l),window.document.addEventListener("visibilitychange",l)}),(u,c)=>(ae(),Ee(Ge,null,[n.compact?Me("",!0):(ae(),Ee("swiper-container",{key:0,"space-between":0,"slides-per-view":1,pagination:{clickable:!0},class:tt(["cplist m-0 p-0 d-flex align-items-stretch",i.value])},[(ae(!0),Ee(Ge,null,ot(s.value,f=>(ae(),Ee("swiper-slide",{key:f.id},[z("div",{class:tt([ne(Vn)?"mb-0":"mb-5","d-flex align-items-stretch flex-fill"])},[Se(hU,{chargepoint:f,"full-width":!0},null,8,["chargepoint"])],2)]))),128))],2)),n.compact?(ae(),Be(i4,{key:1})):Me("",!0)],64))}}),s4={class:"container-fluid p-0 m-0"},o4={class:"row p-0 m-0"},a4={class:"d-grid gap-2"},l4=["onClick"],u4={class:"col-md-4 p-1"},c4={class:"d-grid gap-2"},f4={key:0},d4={class:"row justify-content-center m-1 p-0"},h4={class:"col-lg-4 p-1 m-0"},p4={class:"d-grid gap-2"},g4={class:"col-lg-4 p-1 m-0"},m4={class:"d-grid gap-2"},b4={class:"col-lg-4 p-1 m-0"},y4={class:"d-grid gap-2"},w4=We({__name:"BBSelect",props:{cpId:{}},setup(t){const e=t,r=[{mode:"instant_charging",name:"Sofort",color:"var(--color-charging)"},{mode:"pv_charging",name:"PV",color:"var(--color-pv)"},{mode:"scheduled_charging",name:"Zielladen",color:"var(--color-battery)"},{mode:"eco_charging",name:"Eco",color:"var(--color-devices)"},{mode:"stop",name:"Stop",color:"var(--color-axis)"}],n=we(()=>Ke[e.cpId]);function s(u){return u==n.value.chargeMode?"btn btn-success buttonTextSize":"btn btn-secondary buttonTextSize"}function i(u){return Mt.pvBatteryPriority==u?"btn-success":"btn-secondary"}function a(u){n.value.chargeMode=u}function o(u){n.value.isLocked=u}function l(u){Mt.pvBatteryPriority=u}return(u,c)=>(ae(),Ee("div",s4,[z("div",o4,[(ae(),Ee(Ge,null,ot(r,(f,d)=>z("div",{key:d,class:"col-md-4 p-1"},[z("div",a4,[z("button",{type:"button",class:tt(s(f.mode)),style:{},onClick:p=>a(f.mode)},Pe(f.name),11,l4)])])),64)),z("div",u4,[z("div",c4,[n.value.isLocked?(ae(),Ee("button",{key:0,type:"button",class:"btn btn-outline-success buttonTextSize","data-bs-dismiss":"modal",onClick:c[0]||(c[0]=f=>o(!1))}," Entsperren ")):Me("",!0),n.value.isLocked?Me("",!0):(ae(),Ee("button",{key:1,type:"button",class:"btn btn-outline-danger buttonTextSize","data-bs-dismiss":"modal",onClick:c[1]||(c[1]=f=>o(!0))}," Sperren "))])])]),ne(Mt).isBatteryConfigured?(ae(),Ee("div",f4,[c[8]||(c[8]=z("hr",null,null,-1)),c[9]||(c[9]=z("div",{class:"row"},[z("div",{class:"col text-center"},"Vorrang im Lademodus PV-Laden:")],-1)),z("div",d4,[z("div",h4,[z("div",p4,[z("button",{id:"evPriorityBtn",type:"button",class:tt(["priorityModeBtn btn btn-secondary buttonTextSize",i("ev_mode")]),"data-dismiss":"modal",priority:"1",onClick:c[2]||(c[2]=f=>l("ev_mode"))},c[5]||(c[5]=[it(" EV "),z("span",{class:"fas fa-car ms-2"}," ",-1)]),2)])]),z("div",g4,[z("div",m4,[z("button",{id:"batteryPriorityBtn",type:"button",class:tt(["priorityModeBtn btn btn-secondary buttonTextSize",i("bat_mode")]),"data-dismiss":"modal",priority:"0",onClick:c[3]||(c[3]=f=>l("bat_mode"))},c[6]||(c[6]=[it(" Speicher "),z("span",{class:"fas fa-car-battery ms-2"}," ",-1)]),2)])]),z("div",b4,[z("div",y4,[z("button",{id:"minsocPriorityBtn",type:"button",class:tt(["priorityModeBtn btn btn-secondary buttonTextSize",i("min_soc_bat_mode")]),"data-dismiss":"modal",priority:"0",onClick:c[4]||(c[4]=f=>l("min_soc_bat_mode"))},c[7]||(c[7]=[it(" MinSoc "),z("span",{class:"fas fa-battery-half"}," ",-1)]),2)])])])])):Me("",!0)]))}}),v4={class:"col-lg-4 p-0 m-0 mt-1"},_4={class:"d-grid gap-2"},E4=["data-bs-target"],S4={class:"m-0 p-0 d-flex justify-content-between align-items-center"},x4={class:"mx-1 badge rounded-pill smallTextSize plugIndicator"},T4={key:0,class:"ms-2"},A4={class:"m-0 p-0"},C4={key:0,class:"ps-1"},I4=We({__name:"BbChargeButton",props:{chargepoint:{}},setup(t){const e=t,r="chargeSelectModal"+e.chargepoint.id,n=we(()=>mr[e.chargepoint.chargeMode].name),s=we(()=>{let c={background:"var(--color-menu)"};return e.chargepoint.isLocked?c.background="var(--color-evu)":e.chargepoint.isCharging?c.background="var(--color-charging)":e.chargepoint.isPluggedIn&&(c.background="var(--color-battery)"),c}),i=we(()=>{{let c={background:mr[e.chargepoint.chargeMode].color,color:"white"};switch(e.chargepoint.chargeMode){case Wr.instant_charging:e.chargepoint.isCharging&&!e.chargepoint.isLocked&&(c=u(c));break;case Wr.stop:c.background="darkgrey",c.color="black";break;case Wr.scheduled_charging:e.chargepoint.isPluggedIn&&!e.chargepoint.isCharging&&!e.chargepoint.isLocked&&(c=u(c));break}return c}}),a=we(()=>mr[e.chargepoint.chargeMode].icon),o=we(()=>{switch(Mt.pvBatteryPriority){case"ev_mode":return"fa-car";case"bat_mode":return"fa-car-battery";case"min_soc_bat_mode":return"fa-battery-half";default:return console.log("default"),""}}),l=we(()=>{let c="fa-ellipsis";return e.chargepoint.isLocked?c="fa-lock":e.chargepoint.isCharging?c=" fa-bolt":e.chargepoint.isPluggedIn&&(c="fa-plug"),"fa "+c});function u(c){let f=c.color;return c.color=c.background,c.background=f,c}return(c,f)=>(ae(),Ee("div",v4,[z("div",_4,[z("button",{type:"button",class:"btn mx-1 mb-0 p-1 mediumTextSize chargeButton shadow",style:ft(s.value),"data-bs-toggle":"modal","data-bs-target":"#"+r},[z("div",S4,[z("span",x4,[z("i",{class:tt(l.value)},null,2),c.chargepoint.isCharging?(ae(),Ee("span",T4,Pe(ne(qr)(c.chargepoint.power)),1)):Me("",!0)]),z("span",A4,Pe(c.chargepoint.name),1),z("span",{class:"mx-2 m-0 badge rounded-pill smallTextSize modeIndicator",style:ft(i.value)},[z("i",{class:tt(["fa me-1",a.value])},null,2),it(" "+Pe(n.value)+" ",1),c.chargepoint.chargeMode==ne(Wr).pv_charging&&ne(Mt).isBatteryConfigured?(ae(),Ee("span",C4,[f[0]||(f[0]=it(" ( ")),z("i",{class:tt(["fa m-0",o.value])},null,2),f[1]||(f[1]=it(") "))])):Me("",!0)],4)])],12,E4)]),Se(HS,{"modal-id":r},{title:Ie(()=>[it(" Lademodus für "+Pe(c.chargepoint.vehicleName),1)]),default:Ie(()=>[Se(w4,{"cp-id":c.chargepoint.id},null,8,["cp-id"])]),_:1})]))}}),M4=Je(I4,[["__scopeId","data-v-71bb7e5f"]]),k4={class:"row p-0 mt-0 mb-1 m-0"},P4={class:"col p-0 m-0"},O4={class:"container-fluid p-0 m-0"},L4={class:"row p-0 m-0 d-flex justify-content-center align-items-center"},R4={key:0,class:"col time-display"},B4=We({__name:"ButtonBar",setup(t){return(e,r)=>(ae(),Ee("div",k4,[z("div",P4,[z("div",O4,[z("div",L4,[ne(_e).showClock=="buttonbar"?(ae(),Ee("span",R4,Pe(ne(RS)(ne(pg))),1)):Me("",!0),(ae(!0),Ee(Ge,null,ot(ne(Ke),(n,s)=>(ae(),Be(M4,{key:s,chargepoint:n,"charge-point-count":Object.values(ne(Ke)).length},null,8,["chargepoint","charge-point-count"]))),128))])])])]))}}),$4=Je(B4,[["__scopeId","data-v-791e4be0"]]),N4={class:"battery-title"},D4={class:"subgrid pt-1"},U4=We({__name:"BLBattery",props:{bat:{}},setup(t){const e=t,r=we(()=>e.bat.power<0?`Liefert (${qr(-e.bat.power)})`:e.bat.power>0?`Lädt (${qr(e.bat.power)})`:"Bereit"),n=we(()=>e.bat.power<0?"var(--color-pv)":e.bat.power>0?"var(--color-battery)":"var(--color-menu)");return(s,i)=>(ae(),Be(ao,{titlecolor:"var(--color-title)",fullwidth:!0},{title:Ie(()=>[z("span",N4,Pe(s.bat.name),1)]),buttons:Ie(()=>[Se(Tn,{bgcolor:n.value},{default:Ie(()=>[it(Pe(r.value),1)]),_:1},8,["bgcolor"])]),default:Ie(()=>[z("div",D4,[Se(ht,{heading:"Ladestand:",small:!0,class:"grid-left grid-col-4"},{default:Ie(()=>[Se(of,{soc:e.bat.soc},null,8,["soc"])]),_:1}),Se(ht,{heading:"Geladen:",small:!0,class:"grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":e.bat.dailyYieldImport},null,8,["watt-h"])]),_:1}),Se(ht,{heading:"Geliefert:",small:!0,class:"grid-right grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":e.bat.dailyYieldExport},null,8,["watt-h"])]),_:1})])]),_:1}))}}),F4=Je(U4,[["__scopeId","data-v-f7f825f7"]]),V4={class:"subgrid grid-12"},j4={key:0,class:"subgrid"},W4=We({__name:"BatteryList",setup(t){const e=we(()=>ke.getPower("batOut")>0?`Liefert (${qr(ke.getPower("batOut"))})`:ke.getPower("batIn")>0?`Lädt (${qr(ke.getPower("batIn"))})`:"Bereit:"),r=we(()=>ke.getPower("batOut")>0?"var(--color-pv)":ke.getPower("batIn")>0?"var(--color-battery)":"var(--color-menu)"),n=we(()=>{let s=0;return kt.value.forEach(i=>{s+=i.dailyYieldImport}),s});return(s,i)=>ne(Mt).isBatteryConfigured?(ae(),Be(xn,{key:0,"variable-width":!0,"full-width":!1},{title:Ie(()=>i[0]||(i[0]=[z("span",{class:"fas fa-car-battery me-2",style:{color:"var(--color-battery)"}}," ",-1),z("span",null,"Speicher",-1)])),buttons:Ie(()=>[Se(Tn,{bgcolor:r.value},{default:Ie(()=>[it(Pe(e.value),1)]),_:1},8,["bgcolor"])]),default:Ie(()=>[z("div",V4,[Se(ht,{heading:"Ladestand:",class:"grid-left grid-col-4"},{default:Ie(()=>[Se(of,{color:"var(--color-battery)",soc:ne(Mt).batterySoc},null,8,["soc"])]),_:1}),Se(ht,{heading:"Geladen:",class:"grid-col-4"},{default:Ie(()=>[z("span",null,Pe(ne(Ai)(n.value)),1)]),_:1}),Se(ht,{heading:"Geliefert",class:"grid-right grid-col-4"},{default:Ie(()=>[z("span",null,Pe(ne(Ai)(ne(ke).getEnergy("batOut"))),1)]),_:1})]),ne(kt).size>1?(ae(),Ee("div",j4,[(ae(!0),Ee(Ge,null,ot(ne(kt),([a,o])=>(ae(),Be(F4,{key:a,bat:o,class:"px-0"},null,8,["bat"]))),128))])):Me("",!0)]),_:1})):Me("",!0)}}),Kd=Je(W4,[["__scopeId","data-v-7ce7529e"]]),z4={class:"devicename"},H4={class:"subgrid"},q4=We({__name:"SHListItem",props:{device:{}},setup(t){const e=t,r=we(()=>e.device.status=="on"?"fa-toggle-on fa-xl":e.device.status=="waiting"?"fa-spinner fa-spin":"fa-toggle-off fa-xl"),n=we(()=>{let o="var(--color-switchRed)";switch(e.device.status){case"on":o="var(--color-switchGreen)";break;case"detection":o="var(--color-switchBlue)";break;case"timeout":o="var(--color-switchWhite)";break;case"waiting":o="var(--color-menu)";break;default:o="var(--color-switchRed)"}return{color:o}});function s(){e.device.isAutomatic||(e.device.status=="on"?yr("shSwitchOn",0,+e.device.id.slice(2)):yr("shSwitchOn",1,+e.device.id.slice(2)),$t.get(e.device.id).status="waiting")}function i(){e.device.isAutomatic?yr("shSetManual",1,+e.device.id.slice(2)):yr("shSetManual",0,+e.device.id.slice(2))}const a=we(()=>e.device.isAutomatic?"Auto":"Man");return(o,l)=>(ae(),Be(ao,{titlecolor:o.device.color,fullwidth:!0},{title:Ie(()=>[z("span",z4,Pe(o.device.name),1)]),buttons:Ie(()=>[(ae(!0),Ee(Ge,null,ot(o.device.temp,(u,c)=>(ae(),Ee("span",{key:c},[u<300?(ae(),Be(Tn,{key:0,bgcolor:"var(--color-battery)"},{default:Ie(()=>[z("span",null,Pe(ne(zB)(u)),1)]),_:2},1024)):Me("",!0)]))),128)),e.device.canSwitch?(ae(),Ee("span",{key:0,class:tt([r.value,"fa-solid statusbutton mr-2 ms-2"]),style:ft(n.value),onClick:s},null,6)):Me("",!0),e.device.canSwitch?(ae(),Be(Tn,{key:1,type:"button",onClick:i},{default:Ie(()=>[it(Pe(a.value),1)]),_:1})):Me("",!0)]),default:Ie(()=>[z("div",H4,[Se(ht,{heading:"Leistung:",small:!0,class:"grid-col-4 grid-left"},{default:Ie(()=>[Se(Pl,{watt:o.device.power},null,8,["watt"])]),_:1}),Se(ht,{heading:"Energie:",small:!0,class:"grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":o.device.now.energy},null,8,["watt-h"])]),_:1}),Se(ht,{heading:"Laufzeit:",small:!0,class:"grid-col-4 grid-right"},{default:Ie(()=>[it(Pe(ne(jB)(o.device.runningTime)),1)]),_:1})])]),_:1},8,["titlecolor"]))}}),G4=Je(q4,[["__scopeId","data-v-607c2d1c"]]),Y4={class:"sh-title py-4"},K4=["id","onUpdate:modelValue","value"],X4=["for"],Q4=3,J4=We({__name:"SmartHomeList",setup(t){const e=we(()=>Vn.value?r.value.reduce((a,o)=>{const l=a;let u=a[a.length-1];return u.length>=Q4?a.push([o]):u.push(o),l},[[]]):[r.value]),r=we(()=>[...$t.values()].filter(a=>a.configured));function n(a){return"Geräte"+(Vn.value&&e.value.length>1?"("+(a+1)+")":"")}function s(){i.value=!i.value}const i=lt(!1);return(a,o)=>(ae(),Ee(Ge,null,[(ae(!0),Ee(Ge,null,ot(e.value,(l,u)=>(ae(),Be(xn,{key:u,"variable-width":!0},{title:Ie(()=>[z("span",{onClick:s},[o[0]||(o[0]=z("span",{class:"fas fa-plug me-2",style:{color:"var(--color-devices)"}}," ",-1)),z("span",Y4,Pe(n(u)),1)])]),buttons:Ie(()=>[z("span",{class:"ms-2 pt-1",onClick:s},o[1]||(o[1]=[z("span",{class:"fa-solid fa-lg ps-1 fa-ellipsis-vertical"},null,-1)]))]),default:Ie(()=>[(ae(!0),Ee(Ge,null,ot(l,c=>(ae(),Be(G4,{key:c.id,device:c,class:"subgrid pb-2"},null,8,["device"]))),128))]),_:2},1024))),128)),i.value?(ae(),Be(xn,{key:0},{title:Ie(()=>[z("span",{class:"smarthome",onClick:s},o[2]||(o[2]=[z("span",{class:"fas fa-gear"}," ",-1),it(" Einstellungen")]))]),buttons:Ie(()=>[z("span",{class:"ms-2 pt-1",onClick:s},o[3]||(o[3]=[z("span",{class:"fa-solid fa-lg ps-1 fa-circle-check"},null,-1)]))]),default:Ie(()=>[Se(et,{title:"Im Energie-Graph anzeigen:",icon:"fa-chart-column",fullwidth:!0},{default:Ie(()=>[(ae(!0),Ee(Ge,null,ot(r.value,(l,u)=>(ae(),Ee("div",{key:u},[sa(z("input",{id:"check"+u,"onUpdate:modelValue":c=>l.showInGraph=c,class:"form-check-input",type:"checkbox",value:l},null,8,K4),[[Yg,l.showInGraph]]),z("label",{class:"form-check-label px-2",for:"check"+u},Pe(l.name),9,X4)]))),128))]),_:1}),z("div",{class:"row p-0 m-0",onClick:s},o[4]||(o[4]=[z("div",{class:"col-12 mb-3 pe-3 mt-0"},[z("button",{class:"btn btn-sm btn-secondary float-end"},"Schließen")],-1)]))]),_:1})):Me("",!0)],64))}}),Xd=Je(J4,[["__scopeId","data-v-5b5cf6b3"]]),Z4={class:"subgrid pt-1"},e6=We({__name:"ClCounter",props:{counter:{}},setup(t){const e=t,r=we(()=>e.counter.power>0?"Bezug":"Export"),n=we(()=>e.counter.power>0?"var(--color-evu)":"var(--color-pv)"),s=we(()=>({color:e.counter.color||"var(--color-evu)"}));return(i,a)=>(ae(),Be(ao,{titlecolor:"var(--color-title)",fullwidth:!0},{title:Ie(()=>[z("span",{class:"countername",style:ft(s.value)},Pe(i.counter.name),5)]),buttons:Ie(()=>[e.counter.power!=0?(ae(),Be(Tn,{key:0,bgcolor:n.value},{default:Ie(()=>[it(Pe(r.value),1)]),_:1},8,["bgcolor"])):Me("",!0),Se(Tn,{color:"var(--color-bg)"},{default:Ie(()=>[it(" ID: "+Pe(e.counter.id),1)]),_:1})]),default:Ie(()=>[z("div",Z4,[Se(ht,{heading:"Leistung:",small:!0,class:"grid-left grid-col-4"},{default:Ie(()=>[Se(Pl,{watt:Math.abs(e.counter.power)},null,8,["watt"])]),_:1}),Se(ht,{heading:"Bezogen:",small:!0,class:"grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":e.counter.energy_imported},null,8,["watt-h"])]),_:1}),Se(ht,{heading:"Exportiert:",small:!0,class:"grid-right grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":e.counter.energy_exported},null,8,["watt-h"])]),_:1})])]),_:1}))}}),t6=Je(e6,[["__scopeId","data-v-a966bcfc"]]),r6={class:"d-flex flex-column"},n6=["id","onUpdate:modelValue","value"],i6=["for"],s6=We({__name:"CounterSettings",setup(t){return(e,r)=>(ae(),Ee("div",r6,[r[0]||(r[0]=z("span",{class:"settingstitle mb-3"},"Zähler in den Diagrammen anzeigen:",-1)),(ae(!0),Ee(Ge,null,ot(ne(St).values(),(n,s)=>(ae(),Ee("div",{key:s},[sa(z("input",{id:"check"+s,"onUpdate:modelValue":i=>n.showInGraph=i,class:"form-check-input mb-3",type:"checkbox",value:n},null,8,n6),[[Yg,n.showInGraph]]),z("label",{class:"form-check-label px-2",for:"check"+s},Pe(n.name),9,i6)]))),128))]))}}),o6=Je(s6,[["__scopeId","data-v-24e57cb3"]]),a6=We({__name:"CounterList",setup(t){const e=lt(!1);return(r,n)=>e.value?(ae(),Be(xn,{key:1,"variable-width":!0},{title:Ie(()=>n[4]||(n[4]=[it(" Anzeige der Zähler ")])),buttons:Ie(()=>[z("span",{class:"ms-2 pt-1",onClick:n[1]||(n[1]=s=>e.value=!e.value)},n[5]||(n[5]=[z("span",{class:"fa-solid fa-lg ps-1 fa-circle-check"},null,-1)]))]),default:Ie(()=>[Se(o6)]),_:1})):(ae(),Be(xn,{key:0,"variable-width":!0},{title:Ie(()=>n[2]||(n[2]=[z("span",{class:"fas fa-bolt me-2",style:{color:"var(--color-evu)"}}," ",-1),z("span",null,"Zähler",-1)])),buttons:Ie(()=>[z("span",{type:"button",class:"ms-2 ps-1 pt-1",onClick:n[0]||(n[0]=s=>e.value=!e.value)},n[3]||(n[3]=[z("span",{class:"fa-solid fa-lg ps-1 fa-ellipsis-vertical"},null,-1)]))]),default:Ie(()=>[(ae(!0),Ee(Ge,null,ot([...ne(St).values()],(s,i)=>(ae(),Ee("div",{key:i,class:"subgrid pb-2"},[Se(t6,{counter:s},null,8,["counter"])]))),128))]),_:1}))}}),Qd=Je(a6,[["__scopeId","data-v-d42657ec"]]),l6={class:"vehiclename"},u6={class:"subgrid"},c6=We({__name:"VlVehicle",props:{vehicle:{}},setup(t){const e=t,r=we(()=>{let s="Unterwegs",i=e.vehicle.chargepoint;return i!=null&&(i.isCharging?s="Lädt ("+i.name+")":i.isPluggedIn&&(s="Bereit ("+i.name+")")),s}),n=we(()=>{let s=e.vehicle.chargepoint;return s!=null?s.isLocked?"var(--color-evu)":s.isCharging?"var(--color-charging)":s.isPluggedIn?"var(--color-battery)":"var(--color-axis)":"var(--color-axis)"});return(s,i)=>(ae(),Be(ao,{titlecolor:"var(--color-title)",fullwidth:!0},{title:Ie(()=>[z("span",l6,Pe(e.vehicle.name),1)]),default:Ie(()=>[z("div",u6,[Se(ht,{heading:"Status:",small:!0,class:"grid-left grid-col-4"},{default:Ie(()=>[z("span",{style:ft({color:n.value}),class:"d-flex justify-content-center align-items-center status-string"},Pe(r.value),5)]),_:1}),Se(ht,{heading:"Ladestand:",small:!0,class:"grid-col-4"},{default:Ie(()=>[it(Pe(Math.round(e.vehicle.soc))+" % ",1)]),_:1}),Se(ht,{heading:"Reichweite:",small:!0,class:"grid-right grid-col-4"},{default:Ie(()=>[it(Pe(Math.round(e.vehicle.range))+" km ",1)]),_:1})])]),_:1}))}}),f6=Je(c6,[["__scopeId","data-v-9e2cb63e"]]),d6=We({__name:"VehicleList",setup(t){return(e,r)=>(ae(),Be(xn,{"variable-width":!0},{title:Ie(()=>r[0]||(r[0]=[z("span",{class:"fas fa-car me-2",style:{color:"var(--color-charging)"}}," ",-1),z("span",null,"Fahrzeuge",-1)])),default:Ie(()=>[(ae(!0),Ee(Ge,null,ot(Object.values(ne(at)).filter(n=>n.visible),(n,s)=>(ae(),Ee("div",{key:s,class:"subgrid px-4"},[Se(f6,{vehicle:n},null,8,["vehicle"])]))),128))]),_:1}))}}),Jd=Je(d6,[["__scopeId","data-v-f87a53b0"]]),h6={class:"subtitle"},p6={class:"grapharea"},g6={id:"pricechart",class:"p-0 m-0 pricefigure"},m6={viewBox:"0 0 380 280"},b6=["id","origin","transform"],Ra=380,Nv=250,Zd=12,y6=We({__name:"GlobalPriceChart",props:{id:{}},setup(t){const e=t,r=lt(!1),n={top:0,bottom:15,left:20,right:0},s=we(()=>{let v=[];return It.etPriceList.size>0&&It.etPriceList.forEach((w,_)=>{v.push([_,w])}),v}),i=we(()=>s.value.length>1?(Ra-n.left-n.right)/s.value.length:0),a=we(()=>{let v=Sn(s.value,w=>w[0]);return v[1]&&(v[1]=new Date(v[1]),v[1].setTime(v[1].getTime()+36e5)),Ys().range([n.left,Ra-n.right]).domain(v)}),o=we(()=>{let v=[0,0];return s.value.length>0&&(v=Sn(s.value,w=>w[1]),v[0]=Math.floor(v[0])-1,v[1]=Math.floor(v[1])+1),v}),l=we(()=>Yn().range([Nv-n.bottom,0]).domain(o.value)),u=we(()=>{const v=$n(),w=[[n.left,l.value(_e.lowerPriceBound)],[Ra-n.right,l.value(_e.lowerPriceBound)]];return v(w)}),c=we(()=>{const v=$n(),w=[[n.left,l.value(_e.upperPriceBound)],[Ra-n.right,l.value(_e.upperPriceBound)]];return v(w)}),f=we(()=>{const v=$n(),w=[[n.left,l.value(0)],[Ra-n.right,l.value(0)]];return v(w)}),d=we(()=>Ja(a.value).ticks(s.value.length).tickSize(5).tickSizeInner(-250).tickFormat(v=>v.getHours()%6==0&&v.getMinutes()==0?Zi("%H:%M")(v):"")),p=we(()=>xl(l.value).ticks(o.value[1]-o.value[0]).tickSize(0).tickSizeInner(-360).tickFormat(v=>v%5!=0?"":v.toString())),g=we(()=>{r.value==!0;const v=Tt("g#"+b.value);v.selectAll("*").remove(),v.selectAll("bar").data(s.value).enter().append("g").append("rect").attr("class","bar").attr("x",C=>a.value(C[0])).attr("y",C=>l.value(C[1])).attr("width",i.value).attr("height",C=>l.value(o.value[0])-l.value(C[1])).attr("fill","var(--color-charging)");const _=v.append("g").attr("class","axis").call(d.value);_.attr("transform","translate(0,"+(Nv-n.bottom)+")"),_.selectAll(".tick").attr("font-size",Zd).attr("color","var(--color-bg)"),_.selectAll(".tick line").attr("stroke","var(--color-bg)").attr("stroke-width",C=>C.getMinutes()==0?C.getHours()%6==0?"2":"0.5":"0"),_.select(".domain").attr("stroke","var(--color-bg");const y=v.append("g").attr("class","axis").call(p.value);y.attr("transform","translate("+n.left+",0)"),y.selectAll(".tick").attr("font-size",Zd).attr("color","var(--color-bg)"),y.selectAll(".tick line").attr("stroke","var(--color-bg)").attr("stroke-width",C=>C%5==0?"2":"0.5"),y.select(".domain").attr("stroke","var(--color-bg)"),o.value[0]<0&&v.append("path").attr("d",f.value).attr("stroke","var(--color-fg)"),v.append("path").attr("d",u.value).attr("stroke","green"),v.append("path").attr("d",c.value).attr("stroke","red");const S=v.selectAll("ttip").data(s.value).enter().append("g").attr("class","ttarea");S.append("rect").attr("x",C=>a.value(C[0])).attr("y",C=>l.value(C[1])).attr("height",C=>l.value(o.value[0])-l.value(C[1])).attr("class","ttrect").attr("width",i.value).attr("opacity","1%").attr("fill","var(--color-charging)");const T=S.append("g").attr("class","ttmessage").attr("transform",C=>"translate("+(a.value(C[0])-30+i.value/2)+","+(l.value(C[1])-16)+")");T.append("rect").attr("rx",5).attr("width","60").attr("height","30").attr("fill","var(--color-menu)");const A=T.append("text").attr("text-anchor","middle").attr("x",30).attr("y",12).attr("font-size",Zd).attr("fill","var(--color-bg)");return A.append("tspan").attr("x",30).attr("dy","0em").text(C=>Zi("%H:%M")(C[0])),A.append("tspan").attr("x",30).attr("dy","1.1em").text(C=>Math.round(C[1]*10)/10+" ct"),"PriceChart.vue"}),b=we(()=>"priceChartCanvas"+e.id);return cn(()=>{r.value=!r.value}),(v,w)=>(ae(),Be(xn,{"variable-width":!0},{title:Ie(()=>w[0]||(w[0]=[z("span",{class:"fas fa-coins me-2",style:{color:"var(--color-battery)"}}," ",-1),z("span",null,"Strompreis",-1)])),buttons:Ie(()=>[ne(It).active?(ae(),Be(Tn,{key:0,bgcolor:"var(--color-charging)"},{default:Ie(()=>[it(Pe(ne(It).etCurrentPriceString),1)]),_:1})):Me("",!0)]),default:Ie(()=>[z("div",h6,Pe(ne(It).etProvider),1),z("div",p6,[z("figure",g6,[(ae(),Ee("svg",m6,[z("g",{id:b.value,origin:g.value,transform:"translate("+n.top+","+n.left+") "},null,8,b6)]))])])]),_:1}))}}),eh=Je(y6,[["__scopeId","data-v-ad09dd2a"]]),w6={class:"subgrid pt-1"},v6=We({__name:"IlInverter",props:{inverter:{}},setup(t){const e=t,r=we(()=>({color:e.inverter.color}));return(n,s)=>(ae(),Be(ao,{titlecolor:"var(--color-title)",fullwidth:!0},{title:Ie(()=>[z("span",{class:"invertername",style:ft(r.value)},Pe(n.inverter.name),5)]),buttons:Ie(()=>[e.inverter.power<0?(ae(),Be(Tn,{key:0,bgcolor:"var(--color-pv)"},{default:Ie(()=>[it(Pe(ne(qr)(-e.inverter.power)),1)]),_:1})):Me("",!0)]),default:Ie(()=>[z("div",w6,[Se(ht,{heading:"Heute:",small:!0,class:"grid-col-4 grid-left"},{default:Ie(()=>[Se(jn,{"watt-h":e.inverter.now.energy},null,8,["watt-h"])]),_:1}),Se(ht,{heading:"Monat:",small:!0,class:"grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":e.inverter.energy_month},null,8,["watt-h"])]),_:1}),Se(ht,{heading:"Jahr:",small:!0,class:"grid-right grid-col-4"},{default:Ie(()=>[Se(jn,{"watt-h":e.inverter.energy_year},null,8,["watt-h"])]),_:1})])]),_:1}))}}),_6=Je(v6,[["__scopeId","data-v-0bfd46ca"]]),E6=We({__name:"InverterList",setup(t){const e=we(()=>[...sr.value.values()].sort((r,n)=>r.id-n.id));return(r,n)=>(ae(),Be(xn,{"variable-width":!0},{title:Ie(()=>n[0]||(n[0]=[z("span",{class:"fas fa-solar-panel me-2",style:{color:"var(--color-pv)"}}," ",-1),z("span",null,"Wechselrichter",-1)])),buttons:Ie(()=>[ne(ke).getPower("pv")>0?(ae(),Be(Tn,{key:0,bgcolor:"var(--color-pv)"},{default:Ie(()=>[it(Pe(ne(qr)(ne(ke).getPower("pv"))),1)]),_:1})):Me("",!0)]),default:Ie(()=>[(ae(!0),Ee(Ge,null,ot(e.value,s=>(ae(),Ee("div",{key:s.id,class:"subgrid pb-2"},[Se(_6,{inverter:s},null,8,["inverter"])]))),128))]),_:1}))}}),th=Je(E6,[["__scopeId","data-v-d9fe13e6"]]),S6={class:"row py-0 px-0 m-0"},x6=["breakpoints"],T6=We({__name:"CarouselFix",setup(t){let e,r;const n=lt(!1),s=we(()=>n.value?{992:{slidesPerView:1,spaceBetween:0}}:{992:{slidesPerView:3,spaceBetween:0}});return _u(()=>_e.zoomGraph,i=>{if(e){let a=i?"1":"3";r.setAttribute("slides-per-view",a),e.activeIndex=_e.zoomedWidget,e.update()}}),cn(()=>{let i=document.querySelector(".swiper-carousel");i&&(r=i,e=r.swiper)}),(i,a)=>(ae(),Ee("div",S6,[z("swiper-container",{"space-between":0,pagination:{clickable:!0},"slides-per-view":"1",class:"p-0 m-0 swiper-carousel",breakpoints:s.value},[z("swiper-slide",null,[z("div",{class:tt([ne(Vn)?"mb-0":"mb-5","flex-fill d-flex align-items-stretch"])},[qt(i.$slots,"item1",{},void 0,!0)],2)]),z("swiper-slide",null,[z("div",{class:tt([ne(Vn)?"mb-0":"mb-5","flex-fill d-flex align-items-stretch"])},[qt(i.$slots,"item2",{},void 0,!0)],2)]),z("swiper-slide",null,[z("div",{class:tt([ne(Vn)?"mb-0":"mb-5","flex-fill d-flex align-items-stretch"])},[qt(i.$slots,"item3",{},void 0,!0)],2)])],8,x6)]))}}),A6=Je(T6,[["__scopeId","data-v-17424929"]]);function C6(t,e){t=="openWB/graph/boolDisplayLiveGraph"?Mt.displayLiveGraph=+e==1:t.match(/^openwb\/graph\/alllivevaluesJson[1-9][0-9]*$/i)?I6(t,e):t=="openWB/graph/lastlivevaluesJson"?M6(t,e):t=="openWB/graph/config/duration"&&(Qt.duration=JSON.parse(e))}function I6(t,e){if(!Qt.initialized){let r=[];const n=e.toString().split(`
`);n.length>1?r=n.map(a=>JSON.parse(a)):r=[];const s=t.match(/(\d+)$/g),i=s?s[0]:"";i!=""&&typeof Qt.rawDataPacks[+i-1]>"u"&&(Qt.rawDataPacks[+i-1]=r,Qt.initCounter++)}if(Qt.initCounter==16){const r=[];Qt.unsubscribeRefresh(),Qt.initialized=!0,Qt.rawDataPacks.forEach(n=>{n.forEach(s=>{const i=qS(s);r.push(i)})}),kl(r),Qt.subscribeUpdates()}}function M6(t,e){const r=JSON.parse(e),n=qS(r);Qt.graphRefreshCounter++,kl(Ae.data.concat(n)),Qt.graphRefreshCounter>60&&Qt.activate()}function qS(t){const e=Object.values(Ke).length>0?Object.values(Ke)[0].connectedVehicle:0,r=Object.values(Ke).length>1?Object.values(Ke)[1].connectedVehicle:1,n="ev"+e+"-soc",s="ev"+r+"-soc",i=/cp(\d+)-power/,a=/counter(\d+)-power/,o={};return o.date=+t.timestamp*1e3,+t.grid>0?(o.evuIn=+t.grid,o.evuOut=0):+t.grid<=0?(o.evuIn=0,o.evuOut=-t.grid):(o.evuIn=0,o.evuOut=0),+t["pv-all"]>=0?(o.pv=+t["pv-all"],o.inverter=0):(o.pv=0,o.inverter=-t["pv-all"]),o.house=+t["house-power"],+t["bat-all-power"]>0?(o.batOut=0,o.batIn=+t["bat-all-power"]):+t["bat-all-power"]<0?(o.batOut=-t["bat-all-power"],o.batIn=0):(o.batOut=0,o.batIn=0),t["bat-all-soc"]?o.batSoc=+t["bat-all-soc"]:o.batSoc=0,t[n]&&(o["soc"+e]=+t[n]),t[s]&&(o["soc"+r]=+t[s]),o.charging=+t["charging-all"],Object.keys(t).filter(l=>i.test(l)).forEach(l=>{const u=l.match(i);u&&u[1]&&(o["cp"+u[1]]=+(t[l]??0))}),o.counters=0,Object.keys(t).filter(l=>a.test(l)).forEach(l=>{const u=l.match(a);if(u&&u[1]){const c="ctr"+u[1];o[c]=+(t[l]??0),o.counters+=+(t[l]??0)}}),o.selfUsage=o.pv-o.evuOut,o.selfUsage<0&&(o.selfUsage=0),o.devices=0,o}let Tc=[];function k6(t,e){const{entries:r,names:n,totals:s}=JSON.parse(e);gn.value=new Map(Object.entries(n)),Fm(),Tc=[],ke.keys().forEach(a=>{ke.setEnergyPv(a,0),ke.setEnergyBat(a,0)});const i=P6(r);kl(i),Bm(s,Tc),_e.debug&&L6(r,s,i),Ae.graphMode=="today"&&setTimeout(()=>zt.activate(),3e5)}function P6(t){const e=[];let r={};return t.forEach(n=>{r=O6(n);const s=r;e.push(s)}),e}function O6(t){const e={};e.date=t.timestamp*1e3,e.evuOut=0,e.evuIn=0,Object.entries(t.counter).forEach(([s,i])=>{i.grid&&(e.evuOut+=i.power_exported,e.evuIn+=i.power_imported,Tc.includes(s)||Tc.push(s))}),e.evuOut==0&&e.evuIn==0&&Object.entries(t.counter).forEach(s=>{e.evuOut+=s[1].power_exported,e.evuIn+=s[1].power_imported}),Object.entries(t.pv).forEach(([s,i])=>{s!="all"?e[s]=i.power_exported:e.pv=i.power_exported}),Object.entries(t.bat).length>0?(e.batIn=t.bat.all.power_imported,e.batOut=t.bat.all.power_exported,e.batSoc=t.bat.all.soc??0):(e.batIn=0,e.batOut=0,e.batSoc=0),Object.entries(t.cp).forEach(([s,i])=>{s!="all"?(e[s]=i.power_imported,ke.keys().includes(s)||ke.duplicateItem(s,Ke[+s.slice(2)])):e.charging=i.power_imported}),Object.entries(t.ev).forEach(([s,i])=>{s!="all"&&(e["soc"+s.substring(2)]=i.soc)}),e.devices=0;let r=0;const n=1e3/12*(e.pv-e.evuOut)/(e.pv-e.evuOut+e.evuIn+e.batOut);return Object.entries(t.sh).forEach(([s,i])=>{var a;s!="all"&&(e[s]=i.power_imported??0,ke.keys().includes(s)||ke.duplicateItem(s,$t.get(s)),(a=$t.get(s))!=null&&a.countAsHouse?r+=i.power_imported:e.devices+=i.power_imported??0),i.power_imported>0&&(ke.items.get(s)[Ae.graphScope].energyPv+=i.power_imported*n,ke.items.get(s)[Ae.graphScope].energyBat+=1e3/12*(i.power_imported*e.batOut)/(e.pv-e.evuOut+e.evuIn+e.batOut))}),e.counters=0,Object.entries(t.counter).forEach(([s,i])=>{i.grid||(e.counters+=i.power_imported??0,e[s]=i.power_imported??0,ke.keys().includes(s)||(ke.duplicateItem(s,St.get(+s.slice(7))),ke.items.get(s).showInGraph=!0))}),e.selfUsage=Math.max(0,e.pv-e.evuOut),t.hc&&t.hc.all?e.house=t.hc.all.power_imported-r:e.house=e.evuIn+e.batOut+e.pv-e.evuOut-e.charging-e.devices-e.counters-e.batOut,e}function L6(t,e,r){console.debug("---------------------------------------- Graph Data -"),console.debug(["--- Incoming graph data:",t]),console.debug(["--- Incoming energy data:",e]),console.debug(["--- Data to be displayed:",r]),console.debug("-----------------------------------------------------")}let cu={};const GS=["charging","house","batIn","devices"];let js=[];function R6(t,e){const{entries:r,names:n,totals:s}=JSON.parse(e);gn.value=new Map(Object.entries(n)),Fm(),js=[],GS.forEach(i=>{ke.items.get(i).past.energyPv=0,ke.items.get(i).past.energyBat=0}),r.length>0&&kl(YS(r)),Bm(s,js)}function B6(t,e){const{entries:r,names:n,totals:s}=JSON.parse(e);gn.value=new Map(Object.entries(n)),Fm(),js=[],GS.forEach(i=>{ke.items.get(i).past.energyPv=0,ke.items.get(i).past.energyBat=0}),r.length>0&&kl(YS(r)),Bm(s,js)}function YS(t){const e=[];let r={};return cu={},t.forEach(n=>{r=$6(n),e.push(r),Object.keys(r).forEach(s=>{s!="date"&&(r[s]<0&&(console.warn(`Negative energy value for ${s} in row ${r.date}. Ignoring the value.`),r[s]=0),cu[s]?cu[s]+=r[s]:cu[s]=r[s])})}),e}function $6(t){const e={},r=m1("%Y%m%d")(t.date);r&&(e.date=Ae.graphMode=="month"?r.getDate():r.getMonth()+1),e.evuOut=0,e.evuIn=0;let n=0,s=0;return Object.entries(t.counter).forEach(([i,a])=>{n+=a.energy_exported,s+=a.energy_imported,a.grid&&(e.evuOut+=a.energy_exported,e.evuIn+=a.energy_imported,js.includes(i)||js.push(i))}),js.length==0&&(e.evuOut=n,e.evuIn=s),e.pv=t.pv.all.energy_exported,Object.entries(t.bat).length>0?(t.bat.all.energy_imported>=0?e.batIn=t.bat.all.energy_imported:(console.warn("ignoring negative value for batIn on day "+e.date),e.batIn=0),t.bat.all.energy_exported>=0?e.batOut=t.bat.all.energy_exported:(console.warn("ignoring negative value for batOut on day "+e.date),e.batOut=0)):(e.batIn=0,e.batOut=0),Object.entries(t.cp).forEach(([i,a])=>{if(i!="all"){if(!ke.keys().includes(i)){const o=Ke[+i.slice(2)]??Fs(i,Et.chargepoint,"var(--color-charging)");ke.duplicateItem(i,o)}e[i]=a.energy_imported}else e.charging=a.energy_imported}),Object.entries(t.ev).forEach(([i,a])=>{i!="all"&&(e["soc-"+i]=a.soc)}),e.devices=Object.entries(t.sh).reduce((i,a)=>(ke.keys().includes(a[0])||ke.duplicateItem(a[0],$t.get(a[0])),a[1].energy_imported>=0?i+=a[1].energy_imported:console.warn(`Negative energy value for device ${a[0]} in row ${e.date}. Ignoring this value`),i),0),e.counters=0,Object.entries(t.counter).forEach(([i,a])=>{a.grid||(e.counters+=a.power_imported??0,e[i]=a.power_imported??0,ke.keys().includes(i)||(ke.duplicateItem(i,St.get(+i.slice(7))),ke.items.get(i).showInGraph=!0))}),t.hc&&t.hc.all?e.house=t.hc.all.energy_imported:e.house=e.pv+e.evuIn+e.batOut-e.evuOut-e.batIn-e.charging,e.selfUsage=e.pv-e.evuOut,e}function N6(t,e){const r=D6(t);if(r&&!kt.value.has(r)){console.warn("Invalid battery index: ",r);return}t=="openWB/bat/config/configured"?Mt.isBatteryConfigured=e=="true":t=="openWB/bat/get/power"?+e>0?(ke.setPower("batIn",+e),ke.setPower("batOut",0)):(ke.setPower("batIn",0),ke.setPower("batOut",-e)):t=="openWB/bat/get/soc"?Mt.batterySoc=+e:t=="openWB/bat/get/daily_exported"?ke.setEnergy("batOut",+e):t=="openWB/bat/get/daily_imported"?ke.setEnergy("batIn",+e):r&&kt.value.has(r)&&(t.match(/^openwb\/bat\/[0-9]+\/get\/daily_exported$/i)?kt.value.get(r).dailyYieldExport=+e:t.match(/^openwb\/bat\/[0-9]+\/get\/daily_imported$/i)?kt.value.get(r).dailyYieldImport=+e:t.match(/^openwb\/bat\/[0-9]+\/get\/exported$/i)?kt.value.get(r).exported=+e:t.match(/^openwb\/bat\/[0-9]+\/get\/fault_state$/i)?kt.value.get(r).faultState=+e:t.match(/^openwb\/bat\/[0-9]+\/get\/fault_str$/i)?kt.value.get(r).faultStr=e:t.match(/^openwb\/bat\/[0-9]+\/get\/imported$/i)?kt.value.get(r).imported=+e:t.match(/^openwb\/bat\/[0-9]+\/get\/power$/i)?kt.value.get(r).power=+e:t.match(/^openwb\/bat\/[0-9]+\/get\/soc$/i)&&(kt.value.get(r).soc=+e))}function D6(t){let e=0;try{const r=t.match(/(?:\/)([0-9]+)(?=\/)/g);return r?(e=+r[0].replace(/[^0-9]+/g,""),e):void 0}catch(r){console.warn("Parser error in getIndex for topic "+t+": "+r)}}function U6(t,e){if(t=="openWB/optional/et/provider"){const r=JSON.parse(e);r.type==null?It.active=!1:(It.active=!0,It.etProvider=JSON.parse(e).name),r.configuration&&r.configuration.country!=null&&(Mt.country=r.configuration.country)}else if(t=="openWB/optional/et/get/prices"){const r=JSON.parse(e);It.etPriceList=new Map,Object.keys(r).forEach(n=>{It.etPriceList.set(new Date(+n*1e3),r[n]*1e5)})}}function F6(t,e){const r=KS(t);if(r&&!(r in Ke)){console.warn("Invalid chargepoint id received: "+r);return}if(t=="openWB/chargepoint/get/power"?ke.setPower("charging",+e):t=="openWB/chargepoint/get/daily_imported"&&ke.setEnergy("charging",+e),t=="openWB/chargepoint/get/daily_exported")Mt.cpDailyExported=+e;else if(r)if(t.match(/^openwb\/chargepoint\/[0-9]+\/config$/i))if(Ke[r]){const n=JSON.parse(e);Ke[r].name=n.name,Ke[r].icon=n.name}else console.warn("invalid chargepoint index: "+r);else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/state_str$/i))Ke[r].stateStr=JSON.parse(e);else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/fault_str$/i))Ke[r].faultStr=JSON.parse(e);else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/fault_state$/i))Ke[r].faultState=+e;else if(t.match(/^openWB\/chargepoint\/[0-9]+\/get\/power$/i))Ke[r].power=+e;else if(t.match(/^openWB\/chargepoint\/[0-9]+\/get\/daily_imported$/i))Ke[r].dailyYield=+e;else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/plug_state$/i))Ke[r].isPluggedIn=e=="true";else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/charge_state$/i))Ke[r].isCharging=e=="true";else if(t.match(/^openwb\/chargepoint\/[0-9]+\/set\/manual_lock$/i))Ke[r].updateIsLocked(e=="true");else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/enabled$/i))Ke[r].isEnabled=e=="1";else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/phases_in_use/i))Ke[r].phasesInUse=+e;else if(t.match(/^openwb\/chargepoint\/[0-9]+\/set\/current/i))Ke[r].current=+e;else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/currents/i))Ke[r].currents=JSON.parse(e);else if(t.match(/^openwb\/chargepoint\/[0-9]+\/set\/log/i)){const n=JSON.parse(e);Ke[r].chargedSincePlugged=n.imported_since_plugged}else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/soc$/i)){const n=JSON.parse(e);Ke[r].soc=n.soc,Ke[r].waitingForSoc=!1,Ke[r].rangeCharged=n.range_charged,Ke[r].rangeUnit=n.range_unit}else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/info$/i)){const n=JSON.parse(e);Ke[r].vehicleName=String(n.name),Ke[r].updateConnectedVehicle(+n.id)}else if(t.match(/^openwb\/chargepoint\/[0-9]+\/get\/connected_vehicle\/config$/i)){const n=JSON.parse(e);Ke[r].averageConsumption=n.average_consumption}else t.match(/^openwb\/chargepoint\/[0-9]+\/set\/charge_template$/i)&&(Ke[r].chargeTemplate=JSON.parse(e))}function V6(t,e){const r=KS(t);if(r!=null){if(!(r in at)){const n=new vB(r);at[r]=n}if(t.match(/^openwb\/vehicle\/[0-9]+\/name$/i))Object.values(Ke).forEach(n=>{n.connectedVehicle==r&&(n.vehicleName=JSON.parse(e))}),at[r].name=JSON.parse(e);else if(t.match(/^openwb\/vehicle\/[0-9]+\/get\/soc$/i))at[r].soc=JSON.parse(e);else if(t.match(/^openwb\/vehicle\/[0-9]+\/get\/range$/i))isNaN(+e)?at[r].range=0:at[r].range=+e;else if(t.match(/^openwb\/vehicle\/[0-9]+\/charge_template$/i))at[r].updateChargeTemplateId(+e);else if(t.match(/^openwb\/vehicle\/[0-9]+\/ev_template$/i))at[r].updateEvTemplateId(+e);else if(t.match(/^openwb\/vehicle\/[0-9]+\/soc_module\/config$/i)){const n=JSON.parse(e);Object.values(Ke).forEach(s=>{s.connectedVehicle==r&&(s.isSocConfigured=n.type!==null,s.isSocManual=n.type=="manual")}),at[r].isSocConfigured=n.type!==null,at[r].isSocManual=n.type=="manual"}}}function j6(t,e){if(t.match(/^openwb\/vehicle\/template\/charge_template\/[0-9]+$/i)){const r=t.match(/[0-9]+$/i);if(r){const n=+r[0];hg[n]=JSON.parse(e)}}else if(t.match(/^openwb\/vehicle\/template\/ev_template\/[0-9]+$/i)){const r=t.match(/[0-9]+$/i);if(r){const n=+r[0],s=JSON.parse(e);_B[n]=s}}}function KS(t){let e=0;try{const r=t.match(/(?:\/)([0-9]+)(?=\/)/g);return r?(e=+r[0].replace(/[^0-9]+/g,""),e):void 0}catch(r){console.warn("Parser error in getIndex for topic "+t+": "+r)}}function W6(t,e){t.match(/^openWB\/LegacySmarthome\/config\//i)?z6(t,e):t.match(/^openWB\/LegacySmarthome\/Devices\//i)&&H6(t,e)}function z6(t,e){const r=XS(t);if(r==null)return;$t.has("sh"+r)||mm("sh"+r);const n=$t.get("sh"+r);t.match(/^openWB\/LegacySmarthome\/config\/get\/Devices\/[0-9]+\/device_configured$/i)?(n.configured=e!="0",vg("power"),vg("energy")):t.match(/^openWB\/LegacySmarthome\/config\/get\/Devices\/[0-9]+\/device_name$/i)?(n.name=e.toString(),n.icon=e.toString()):t.match(/^openWB\/LegacySmarthome\/config\/set\/Devices\/[0-9]+\/mode$/i)?n.isAutomatic=e=="0":t.match(/^openWB\/LegacySmarthome\/config\/get\/Devices\/[0-9]+\/device_canSwitch$/i)?n.canSwitch=e=="1":t.match(/^openWB\/LegacySmarthome\/config\/get\/Devices\/[0-9]+\/device_homeConsumtion$/i)?n.countAsHouse=e=="1":t.match(/^openWB\/LegacySmarthome\/config\/get\/Devices\/[0-9]+\/device_temperatur_configured$/i)&&(n.tempConfigured=+e)}function H6(t,e){const r=XS(t);if(r==null){console.warn("Smarthome: Missing index in "+t);return}$t.has("sh"+r)||mm("sh"+r);const n=$t.get("sh"+r);if(t.match(/^openWB\/LegacySmarthome\/Devices\/[0-9]+\/Watt$/i))n.power=+e,vg("power");else if(!t.match(/^openWB\/LegacySmarthome\/Devices\/[0-9]+\/Wh$/i)){if(t.match(/^openWB\/LegacySmarthome\/Devices\/[0-9]+\/RunningTimeToday$/i))n.runningTime=+e;else if(t.match(/^openWB\/LegacySmarthome\/Devices\/[0-9]+\/TemperatureSensor0$/i))n.temp[0]=+e;else if(t.match(/^openWB\/LegacySmarthome\/Devices\/[0-9]+\/TemperatureSensor1$/i))n.temp[1]=+e;else if(t.match(/^openWB\/LegacySmarthome\/Devices\/[0-9]+\/TemperatureSensor2$/i))n.temp[2]=+e;else if(t.match(/^openWB\/LegacySmartHome\/Devices\/[0-9]+\/Status$/i))switch(+e){case 10:n.status="off";break;case 11:n.status="on";break;case 20:n.status="detection";break;case 30:n.status="timeout";break;default:n.status="off"}}}function vg(t){switch(t){case"power":ke.setPower("devices",[...$t.values()].filter(e=>e.configured&&!e.countAsHouse).reduce((e,r)=>e+r.power,0));break;case"energy":ke.setEnergy("devices",[...$t.values()].filter(e=>e.configured&&!e.countAsHouse).reduce((e,r)=>e+r.now.energy,0));break;default:console.error("Unknown category")}}function XS(t){let e=0;try{const r=t.match(/(?:\/)([0-9]+)(?=\/)/g);return r?(e=+r[0].replace(/[^0-9]+/g,""),e):void 0}catch(r){console.warn("Parser error in getIndex for topic "+t+": "+r)}}const Ac=Vt([]);let q6=class QS{constructor(e,r,n,s){ve(this,"name");ve(this,"children");ve(this,"count");ve(this,"lastValue");this.name=e,this.children=r,this.count=n,this.lastValue=s}insert(e,r){if(e.length){const n=e.splice(1);if(e[0]==this.name)if(n.length){let s=!1;if(this.children.forEach(i=>{i.name==n[0]&&(i.insert(n,r),s=!0)}),!s){const i=new QS(n[0],[],0,"");i.insert(n,r),this.children.push(i)}}else this.count=this.count+1,this.lastValue=r}}};function G6(t,e){const r=t.split("/");if(r.length){let n=!1;if(Ac.forEach(s=>{s.name==r[0]&&(s.insert(r,e),n=!0)}),!n){const s=new q6(r[0],[],0,"");Ac.push(s),s.insert(r,e)}}}const Y6=["openWB/counter/#","openWB/bat/#","openWB/pv/#","openWB/chargepoint/#","openWB/vehicle/#","openWB/general/chargemode_config/pv_charging/#","openWB/optional/et/#","openWB/system/#","openWB/LegacySmartHome/#","openWB/command/"+Om()+"/#"];function K6(){bB(X6),Y6.forEach(t=>{Us(t)}),tr()}function X6(t,e){G6(t,e.toString());const r=e.toString();t.match(/^openwb\/counter\/[0-9]+\//i)?Q6(t,r):t.match(/^openwb\/counter\//i)?J6(t,r):t.match(/^openwb\/bat\//i)?N6(t,r):t.match(/^openwb\/pv\//i)?Z6(t,r):t.match(/^openwb\/chargepoint\//i)?F6(t,r):t.match(/^openwb\/vehicle\/template\//i)?j6(t,r):t.match(/^openwb\/vehicle\//i)?V6(t,r):t.match(/^openwb\/general\/chargemode_config\/pv_charging\//i)?eV(t,r):t.match(/^openwb\/graph\//i)?C6(t,r):t.match(/^openwb\/log\/daily\//i)?k6(t,r):t.match(/^openwb\/log\/monthly\//i)?R6(t,r):t.match(/^openwb\/log\/yearly\//i)?B6(t,r):t.match(/^openwb\/optional\/et\//i)?U6(t,r):t.match(/^openwb\/system\//i)?rV(t,r):t.match(/^openwb\/LegacySmartHome\//i)?W6(t,r):t.match(/^openwb\/command\//i)&&nV(t,r)}function Q6(t,e){const r=ZS(t);r!=null&&(r==Mt.evuId?tV(t,e):St.has(r)?t.match(/^openWB\/counter\/[0-9]+\/get\/power$/i)?(St.get(r).power=+e,i$("power")):t.match(/^openWB\/counter\/[0-9]+\/get\/daily_imported$/i)?(St.get(r).energy_imported=+e,St.get(r).now.energy=+e):t.match(/^openWB\/counter\/[0-9]+\/get\/daily_exported$/i)&&(St.get(r).energy_exported=+e):console.warn("Invalid counter index: "+r))}function J6(t,e){if(t.match(/^openwb\/counter\/get\/hierarchy$/i)){const r=JSON.parse(e);if(r.length){SB(),VB();for(const n of r)n.id==0&&(Mt.evuId=n.id);JS(r[0])}}else t.match(/^openwb\/counter\/set\/home_consumption$/i)?ke.setPower("house",+e):t.match(/^openwb\/counter\/set\/daily_yield_home_consumption$/i)&&ke.setEnergy("house",+e)}function JS(t){switch(t.type){case"counter":n$(t.id,t.type,t.id==Mt.evuId);break;case"cp":EB(t.id);break;case"bat":LS(t.id);break;case"inverter":NB(t.id);break}t.children.forEach(e=>JS(e))}function Z6(t,e){const r=ZS(t);r&&!sr.value.has(r)?console.warn("Invalid PV system index: "+r):t=="openWB/pv/get/power"?ke.setPower("pv",-e):t=="openWB/pv/get/daily_exported"?ke.setEnergy("pv",+e):t.match(/^openWB\/pv\/[0-9]+\/get\/power$/i)?sr.value.get(r).power=+e:t.match(/^openWB\/pv\/[0-9]+\/get\/daily_exported$/i)?sr.value.get(r).now.energy=+e:t.match(/^openWB\/pv\/[0-9]+\/get\/monthly_exported$/i)?sr.value.get(r).energy_month=+e:t.match(/^openWB\/pv\/[0-9]+\/get\/yearly_exported$/i)?sr.value.get(r).energy_year=+e:t.match(/^openWB\/pv\/[0-9]+\/get\/exported$/i)&&(sr.value.get(r).energy_total=+e)}function eV(t,e){const r=t.split("/");if(r.length>0)switch(r[4]){case"bat_mode":Mt.updatePvBatteryPriority(JSON.parse(e));break}}function tV(t,e){switch(t.split("/")[4]){case"power":+e>0?(ke.setPower("evuIn",+e),ke.setPower("evuOut",0)):(ke.setPower("evuIn",0),ke.setPower("evuOut",-e));break;case"daily_imported":ke.setEnergy("evuIn",+e);break;case"daily_exported":ke.setEnergy("evuOut",+e);break}}function rV(t,e){if(t.match(/^openWB\/system\/device\/[0-9]+\/component\/[0-9]+\/config$/i)){const r=JSON.parse(e);switch(r.type){case"counter":case"consumption_counter":St.get(r.id)&&(St.get(r.id).name=r.name,St.get(r.id).icon=r.name);break;case"inverter":case"inverter_secondary":sr.value.has(r.id)||sr.value.set(r.id,new S1(r.id)),sr.value.get(r.id).name=r.name;break;case"bat":kt.value.has(r.id)||LS(r.id),kt.value.get(r.id).name=r.name}}}function nV(t,e){const r=t.split("/");if(t.match(/^openWB\/command\/[a-z]+\/error$/i)&&r[2]==Om()){const n=JSON.parse(e);console.error(`Error message from openWB: 
Command: ${n.command}
Data: JSON.stringify(err.data)
Error:
 ${n.error}`)}}function ZS(t){let e=0;try{const r=t.match(/(?:\/)([0-9]+)(?=\/)/g);return r?(e=+r[0].replace(/[^0-9]+/g,""),e):void 0}catch(r){console.warn("Parser error in getIndex for topic "+t+": "+r)}}const iV={key:0,class:"fas fa-caret-down"},sV={key:1,class:"fas fa-caret-right"},oV={key:0,class:"content p-2 m-2"},aV={key:1,class:"sublist col-md-9 m-0 p-0 ps-2"},lV=We({__name:"MqttNode",props:{node:{},level:{},hide:{type:Boolean},expandAll:{type:Boolean}},setup(t){const e=t;let r=lt(!e.hide),n=lt(!1);const s=we(()=>e.node.name),i=we(()=>[...e.node.children].sort((c,f)=>c.name<f.name?-1:1)),a=we(()=>e.node.count>0?"("+e.node.count+")":""),o=we(()=>e.node.children.length),l=we(()=>e.node.lastValue!=""?{"font-style":"italic","grid-column-start":e.level,"grid-column-end":-1}:{"grid-column-start":e.level,"grid-column-end":-1});function u(){o.value>0&&(r.value=!r.value),e.node.lastValue!=""&&(n.value=!n.value)}return(c,f)=>{const d=fA("MqttNode",!0);return ae(),Ee(Ge,null,[z("div",{class:"name py-2 px-2 m-0",style:ft(l.value),onClick:u},[(ne(r)||e.expandAll)&&o.value>0||ne(n)?(ae(),Ee("span",iV)):(ae(),Ee("span",sV)),it(" "+Pe(s.value)+Pe(a.value),1)],4),ne(n)?(ae(),Ee("div",oV,[z("code",null,Pe(e.node.lastValue),1)])):Me("",!0),(ne(r)||e.expandAll)&&o.value>0?(ae(),Ee("div",aV,[(ae(!0),Ee(Ge,null,ot(i.value,(p,g)=>(ae(),Be(d,{key:g,level:e.level+1,node:p,hide:!0,"expand-all":e.expandAll},null,8,["level","node","expand-all"]))),128))])):Me("",!0)],64)}}}),uV=Je(lV,[["__scopeId","data-v-df7e578a"]]),cV={class:"mqviewer"},fV={class:"row pt-2"},dV={class:"col"},hV={key:0,class:"topiclist"},pV=We({__name:"MQTTViewer",setup(t){cn(()=>{});const e=lt(!1);function r(){e.value=!e.value}const n=we(()=>e.value?"active":"");return(s,i)=>(ae(),Ee("div",cV,[z("div",fV,[z("div",dV,[i[0]||(i[0]=z("h3",{class:"mqtitle ps-2"},"MQTT Message Viewer",-1)),i[1]||(i[1]=z("hr",null,null,-1)),z("button",{class:tt(["btn btn-small btn-outline-primary ms-2",n.value]),onClick:r}," Expand All ",2),i[2]||(i[2]=z("hr",null,null,-1))])]),ne(Ac)[0]?(ae(),Ee("div",hV,[(ae(!0),Ee(Ge,null,ot(ne(Ac)[0].children.sort((a,o)=>a.name<o.name?-1:1),(a,o)=>(ae(),Be(uV,{key:o,node:a,level:1,hide:!0,"expand-all":e.value},null,8,["node","expand-all"]))),128))])):Me("",!0)]))}}),gV=Je(pV,[["__scopeId","data-v-a349646d"]]),mV=["value"],bV=We({__name:"SelectInput",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=e,s=we({get(){return r.modelValue},set(i){n("update:modelValue",i)}});return(i,a)=>sa((ae(),Ee("select",{id:"selectme","onUpdate:modelValue":a[0]||(a[0]=o=>s.value=o),class:"form-select"},[(ae(!0),Ee(Ge,null,ot(i.options,(o,l)=>(ae(),Ee("option",{key:l,value:o[1]},Pe(o[0]),9,mV))),128))],512)),[[CC,s.value]])}}),yV=Je(bV,[["__scopeId","data-v-5e33ce1f"]]),wV={class:"subgrid m-0 p-0"},vV={class:"settingscolumn"},_V={class:"settingscolumn"},EV={class:"settingscolumn"},SV=We({__name:"ThemeSettings",emits:["reset-arcs"],setup(t,{emit:e}){const r=e,n=[["Dunkel","dark"],["Hell","light"],["Blau","blue"]],s=[["3 kW","0"],["3,1 kW","1"],["3,14 kW","2"],["3,141 kW","3"],["3141 W","4"]],i=[["Orange","normal"],["Grün/Violett","standard"],["Bunt","advanced"]],a=[["Aus","off"],["Menü","navbar"],["Buttonleiste","buttonbar"]],o=[["Aus","no"],['"Alles"-Reiter',"infoview"],["Immer","always"]];return(l,u)=>(ae(),Be(xn,{"full-width":!0},{title:Ie(()=>u[23]||(u[23]=[it(" Look & Feel ")])),buttons:Ie(()=>u[24]||(u[24]=[z("span",{type:"button",class:"float-end mt-0 ms-1","data-bs-toggle":"collapse","data-bs-target":"#themesettings"},[z("span",null,[z("i",{class:"fa-solid fa-circle-check"})])],-1)])),default:Ie(()=>[z("div",wV,[z("div",vV,[Se(et,{fullwidth:!0,title:"Farbschema",icon:"fa-adjust",infotext:"Hintergrundfarbe"},{default:Ie(()=>[Se(Ar,{modelValue:ne(_e).displayMode,"onUpdate:modelValue":u[0]||(u[0]=c=>ne(_e).displayMode=c),options:n},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Farbschema Smart-Home-Geräte",icon:"fa-palette",infotext:"Für die Smart-Home-Geräte stehen mehrere Schemata zur Verfügung."},{default:Ie(()=>[Se(Ar,{modelValue:ne(_e).smartHomeColors,"onUpdate:modelValue":u[1]||(u[1]=c=>ne(_e).smartHomeColors=c),options:i},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Grafik: Raster",icon:"fa-th",infotext:"Verwende ein Hintergrundraster in den Grafiken"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showGrid,"onUpdate:modelValue":u[2]||(u[2]=c=>ne(_e).showGrid=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Variable Bogenlänge",icon:"fa-chart-area",infotext:"Im Graph 'Aktuelle Leistung' können die Bögen immer die volle Länge haben, oder entsprechend des aktuellen Gesamtleistung verkürzt dargestellt werden."},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showRelativeArcs,"onUpdate:modelValue":u[3]||(u[3]=c=>ne(_e).showRelativeArcs=c)},null,8,["modelValue"])]),_:1}),ne(_e).showRelativeArcs?(ae(),Be(et,{key:0,fullwidth:!0,title:"Bögen zurücksetzen",icon:"fa-undo",infotext:"Durch Click auf den Button wird die Maximallänge der Bögen auf den aktuellen Wert gesetzt."},{default:Ie(()=>[ne(_e).showRelativeArcs?(ae(),Ee("button",{key:0,class:"btn btn-secondary",onClick:u[4]||(u[4]=c=>r("reset-arcs"))}," Reset ")):Me("",!0)]),_:1})):Me("",!0),Se(et,{fullwidth:!0,title:"Anzahl Dezimalstellen",icon:"fa-sliders-h",infotext:"Alle kW- und kWh-Werte werden mit der gewählten Anzahl an Stellen angezeigt."},{default:Ie(()=>[Se(yV,{modelValue:ne(_e).decimalPlaces,"onUpdate:modelValue":u[5]||(u[5]=c=>ne(_e).decimalPlaces=c),options:s},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Uhrzeit anzeigen",icon:"fa-clock",infotext:"Zeige die aktuelle Uhrzeit an. In der Menüleiste oder neben den Lade-Buttons."},{default:Ie(()=>[Se(Ar,{modelValue:ne(_e).showClock,"onUpdate:modelValue":u[6]||(u[6]=c=>ne(_e).showClock=c),options:a},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Kompakte Ladepunktliste",icon:"fa-list",infotext:"Zeige eine einzelne Ladepunktliste statt separater Element pro Ladepunkt."},{default:Ie(()=>[Se(Ar,{modelValue:ne(_e).shortCpList,"onUpdate:modelValue":u[7]||(u[7]=c=>ne(_e).shortCpList=c),options:o},null,8,["modelValue"])]),_:1})]),z("div",_V,[Se(et,{fullwidth:!0,title:"Buttonleiste für Ladepunkte",icon:"fa-window-maximize",infotext:"Informationen zu Ladepunkten über den Diagrammen anzeigen."},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showButtonBar,"onUpdate:modelValue":u[8]||(u[8]=c=>ne(_e).showButtonBar=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Filter-Buttons",icon:"fa-filter",infotext:"Hauptseite mit Buttons zur Auswahl der Kategorie."},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showQuickAccess,"onUpdate:modelValue":u[9]||(u[9]=c=>ne(_e).showQuickAccess=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Breite Widgets",icon:"fa-desktop",infotext:"Widgets immer breit machen"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).preferWideBoxes,"onUpdate:modelValue":u[10]||(u[10]=c=>ne(_e).preferWideBoxes=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Stufenlose Displaybreite",icon:"fa-maximize",infotext:"Die Breite des Displays wird immer voll ausgenutzt. Dies kann in einigen Fällen zu inkorrekter Darstellung führen."},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).fluidDisplay,"onUpdate:modelValue":u[11]||(u[11]=c=>ne(_e).fluidDisplay=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Animationen",icon:"fa-film",infotext:"Animationen anzeigen"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showAnimations,"onUpdate:modelValue":u[12]||(u[12]=c=>ne(_e).showAnimations=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Zähler anzeigen",icon:"fa-chart-bar",infotext:"Zeige die Werte zusätzlich angelegter Zähler"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showCounters,"onUpdate:modelValue":u[13]||(u[13]=c=>ne(_e).showCounters=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Fahrzeuge anzeigen",icon:"fa-car",infotext:"Zeige alle Fahrzeuge mit Ladestand und Reichweite"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showVehicles,"onUpdate:modelValue":u[14]||(u[14]=c=>ne(_e).showVehicles=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Standardfahrzeug anzeigen",icon:"fa-car",infotext:"Zeige das Standard-Fahrzeug in der Fahzeugliste"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showStandardVehicle,"onUpdate:modelValue":u[15]||(u[15]=c=>ne(_e).showStandardVehicle=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Wechselrichter-Details anzeigen",icon:"fa-solar-panel",infotext:"Zeige Details zu den einzelnen Wechselrichtern"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showInverters,"onUpdate:modelValue":u[16]||(u[16]=c=>ne(_e).showInverters=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Alternatives Energie-Widget",icon:"fa-chart-area",infotext:"Horizontale Darstellung der Energie-Werte"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).alternativeEnergy,"onUpdate:modelValue":u[17]||(u[17]=c=>ne(_e).alternativeEnergy=c)},null,8,["modelValue"])]),_:1})]),z("div",EV,[Se(et,{fullwidth:!0,title:"Preistabelle anzeigen",icon:"fa-car",infotext:"Zeige die Strompreistabelle in einer separaten Box an"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).showPrices,"onUpdate:modelValue":u[18]||(u[18]=c=>ne(_e).showPrices=c)},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Untere Markierung in der Preistabelle",icon:"fa-car",infotext:"Position der unteren Markierung festlegen"},{default:Ie(()=>[Se(wr,{id:"lowerPriceBound",modelValue:ne(_e).lowerPriceBound,"onUpdate:modelValue":u[19]||(u[19]=c=>ne(_e).lowerPriceBound=c),min:-25,max:95,step:.1,decimals:1,unit:"ct"},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"Obere Markierung in der Preistabelle",icon:"fa-car",infotext:"Position der oberen Markierung festlegen"},{default:Ie(()=>[Se(wr,{id:"upperPriceBound",modelValue:ne(_e).upperPriceBound,"onUpdate:modelValue":u[20]||(u[20]=c=>ne(_e).upperPriceBound=c),min:-25,max:95,step:.1,decimals:1,unit:"ct"},null,8,["modelValue"])]),_:1}),Se(et,{fullwidth:!0,title:"IFrame-Support für Einstellungen (Experimentell)",icon:"fa-gear",infotext:"Erlaubt das Lesen der Einstellungen, wenn das UI in andere Applikationen eingebettet ist (z.B. HomeAssistant). Erfordert eine mit SSL verschlüsselte Verbindung über HTTPS! Experimentelles Feature."},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).sslPrefs,"onUpdate:modelValue":u[21]||(u[21]=c=>ne(_e).sslPrefs=c)},null,8,["modelValue"])]),_:1}),u[25]||(u[25]=z("hr",null,null,-1)),Se(et,{fullwidth:!0,title:"Debug-Modus",icon:"fa-bug-slash",infotext:"Kontrollausgaben in der Console sowie Anzeige von Bildschirmbreite und MQ-Viewer"},{"inline-item":Ie(()=>[Se(Wt,{modelValue:ne(_e).debug,"onUpdate:modelValue":u[22]||(u[22]=c=>ne(_e).debug=c)},null,8,["modelValue"])]),_:1}),u[26]||(u[26]=z("hr",null,null,-1))]),u[27]||(u[27]=z("div",{class:"grid-col-12 mb-3 me-3"},[z("button",{class:"btn btn-sm btn-secondary float-end","data-bs-toggle":"collapse","data-bs-target":"#themesettings"}," Schließen ")],-1))])]),_:1}))}}),xV=Je(SV,[["__scopeId","data-v-785bc80b"]]),TV={class:"container-fluid px-2 m-0 theme-colors"},AV={id:"themesettings",class:"collapse"},CV={class:"row py-0 px-0 m-0"},IV={key:1,class:"row py-0 m-0 d-flex justify-content-center"},MV={key:2,class:"nav nav-tabs nav-justified mx-1 mt-2",role:"tablist"},kV={key:0,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#pricecharttabbed"},PV={key:1,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#vehiclelist"},OV={key:2,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#batterylist"},LV={key:3,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#smarthomelist"},RV={key:4,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#counterlist"},BV={key:5,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#inverterlist"},$V={key:3,id:"cpContent",class:"tab-content mx-0 pt-1"},NV={id:"showAll",class:"tab-pane active",role:"tabpanel","aria-labelledby":"showall-tab"},DV={class:"row py-0 m-0 d-flex justify-content-center"},UV={id:"chargepointlist",class:"tab-pane",role:"tabpanel","aria-labelledby":"chargepoint-tab"},FV={class:"row py-0 m-0 d-flex justify-content-center"},VV={id:"vehiclelist",class:"tab-pane",role:"tabpanel","aria-labelledby":"vehicle-tab"},jV={key:0,class:"row py-0 m-0 d-flex justify-content-center"},WV={id:"batterylist",class:"tab-pane",role:"tabpanel","aria-labelledby":"battery-tab"},zV={class:"row py-0 m-0 d-flex justify-content-center"},HV={id:"smarthomelist",class:"tab-pane",role:"tabpanel","aria-labelledby":"smarthome-tab"},qV={key:0,class:"row py-0 m-0 d-flex justify-content-center"},GV={id:"counterlist",class:"tab-pane",role:"tabpanel","aria-labelledby":"counter-tab"},YV={key:0,class:"row py-0 m-0 d-flex justify-content-center"},KV={id:"inverterlist",class:"tab-pane",role:"tabpanel","aria-labelledby":"inverter-tab"},XV={key:0,class:"row py-0 m-0 d-flex justify-content-center"},QV={id:"pricecharttabbed",class:"tab-pane",role:"tabpanel","aria-labelledby":"price-tab"},JV={key:0,class:"row py-0 m-0 d-flex justify-content-center"},ZV={key:0,class:"row p-2 mt-5"},ej={class:"col p-2"},tj={class:"d-flex justify-content-between"},rj={class:"mx-4"},nj={key:0},ij=We({__name:"ColorsTheme",setup(t){const e=lt(!1),r=we(()=>[...$t.values()].filter(a=>a.configured).length>0);function n(){OS()}function s(){e.value=!e.value}cn(()=>{n(),window.addEventListener("resize",kB),window.addEventListener("focus",i),K6()});function i(){document.hasFocus()&&tr(!0)}return(a,o)=>(ae(),Ee(Ge,null,[z("div",TV,[z("div",AV,[Se(xV,{onResetArcs:ne(LB)},null,8,["onResetArcs"])]),ne(_e).showButtonBar?(ae(),Be($4,{key:0})):Me("",!0),z("div",CV,[Se(A6,null,pA({item1:Ie(()=>[Se(I$)]),item2:Ie(()=>[Se(LN)]),_:2},[ne(_e).alternativeEnergy?{name:"item3",fn:Ie(()=>[Se(ID)]),key:"0"}:{name:"item3",fn:Ie(()=>[Se(iD)]),key:"1"}]),1024)]),ne(_e).showQuickAccess?Me("",!0):(ae(),Ee("div",IV,[Se(Yd,{id:"1",compact:ne(_e).shortCpList=="always"},null,8,["compact"]),ne(_e).showPrices?(ae(),Be(eh,{key:0,id:"NoTabs"})):Me("",!0),ne(_e).showVehicles?(ae(),Be(Jd,{key:1})):Me("",!0),Se(Kd),r.value?(ae(),Be(Xd,{key:2})):Me("",!0),ne(_e).showCounters?(ae(),Be(Qd,{key:3})):Me("",!0),ne(_e).showInverters?(ae(),Be(th,{key:4})):Me("",!0)])),ne(_e).showQuickAccess?(ae(),Ee("nav",MV,[o[6]||(o[6]=YA('<a class="nav-link active" data-bs-toggle="tab" data-bs-target="#showAll" data-v-9648e6c5><i class="fa-solid fa-lg fa-circle-info me-1" data-v-9648e6c5></i><span class="d-none d-md-inline ms-2" data-v-9648e6c5>Alles</span></a><a class="nav-link" data-bs-toggle="tab" data-bs-target="#chargepointlist" data-v-9648e6c5><i class="fa-solid fa-lg fa-charging-station" data-v-9648e6c5></i><span class="d-none d-md-inline ms-2" data-v-9648e6c5>Ladepunkte</span></a>',2)),ne(_e).showPrices?(ae(),Ee("a",kV,o[0]||(o[0]=[z("i",{class:"fa-solid fa-lg fa-coins"},null,-1),z("span",{class:"d-none d-md-inline ms-2"},"Strompreis",-1)]))):Me("",!0),ne(_e).showVehicles?(ae(),Ee("a",PV,o[1]||(o[1]=[z("i",{class:"fa-solid fa-lg fa-car"},null,-1),z("span",{class:"d-none d-md-inline ms-2"},"Fahrzeuge",-1)]))):Me("",!0),ne(Mt).isBatteryConfigured&&ne(kt).size>0?(ae(),Ee("a",OV,o[2]||(o[2]=[z("i",{class:"fa-solid fa-lg fa-car-battery"},null,-1),z("span",{class:"d-none d-md-inline ms-2"},"Speicher",-1)]))):Me("",!0),r.value?(ae(),Ee("a",LV,o[3]||(o[3]=[z("i",{class:"fa-solid fa-lg fa-plug"},null,-1),z("span",{class:"d-none d-md-inline ms-2"},"Smart Home",-1)]))):Me("",!0),ne(_e).showCounters?(ae(),Ee("a",RV,o[4]||(o[4]=[z("i",{class:"fa-solid fa-lg fa-bolt"},null,-1),z("span",{class:"d-none d-md-inline ms-2"},"Zähler",-1)]))):Me("",!0),ne(_e).showInverters?(ae(),Ee("a",BV,o[5]||(o[5]=[z("i",{class:"fa-solid fa-lg fa-solar-panel"},null,-1),z("span",{class:"d-none d-md-inline ms-2"},"Wechselrichter",-1)]))):Me("",!0)])):Me("",!0),ne(_e).showQuickAccess?(ae(),Ee("div",$V,[z("div",NV,[z("div",DV,[Se(Yd,{id:"2",compact:ne(_e).shortCpList!="no"},null,8,["compact"]),ne(_e).showPrices?(ae(),Be(eh,{key:0,id:"Overview"})):Me("",!0),ne(_e).showVehicles?(ae(),Be(Jd,{key:1})):Me("",!0),Se(Kd),r.value?(ae(),Be(Xd,{key:2})):Me("",!0),ne(_e).showCounters?(ae(),Be(Qd,{key:3})):Me("",!0),ne(_e).showInverters?(ae(),Be(th,{key:4})):Me("",!0)])]),z("div",UV,[z("div",FV,[Se(Yd,{id:"3",compact:ne(_e).shortCpList=="always"},null,8,["compact"])])]),z("div",VV,[ne(_e).showVehicles?(ae(),Ee("div",jV,[Se(Jd)])):Me("",!0)]),z("div",WV,[z("div",zV,[Se(Kd)])]),z("div",HV,[r.value?(ae(),Ee("div",qV,[Se(Xd)])):Me("",!0)]),z("div",GV,[ne(_e).showCounters?(ae(),Ee("div",YV,[Se(Qd)])):Me("",!0)]),z("div",KV,[ne(_e).showInverters?(ae(),Ee("div",XV,[Se(th)])):Me("",!0)]),z("div",QV,[ne(_e).showPrices?(ae(),Ee("div",JV,[Se(eh,{id:"Tabbed"})])):Me("",!0)])])):Me("",!0)]),ne(_e).debug?(ae(),Ee("div",ZV,[z("div",ej,[o[7]||(o[7]=z("hr",null,null,-1)),z("div",tj,[z("p",rj,"Screen Width: "+Pe(ne(Ec).x),1),z("button",{class:"btn btn-sm btn-secondary mx-4",onClick:s}," MQ Viewer ")]),e.value?(ae(),Ee("hr",nj)):Me("",!0),e.value?(ae(),Be(gV,{key:1})):Me("",!0)])])):Me("",!0)],64))}}),sj=Je(ij,[["__scopeId","data-v-9648e6c5"]]),oj={class:"navbar navbar-expand-lg px-0 mb-0"},aj={key:0,class:"position-absolute-50 navbar-text ms-4 navbar-time",style:{color:"var(--color-menu)"}},lj=We({__name:"NavigationBar",setup(t){let e;const r=we(()=>_e.fluidDisplay?"container-fluid":"container-lg");return cn(()=>{e=setInterval(()=>{pg.value=new Date},1e3)}),s_(()=>{clearInterval(e)}),(n,s)=>(ae(),Ee(Ge,null,[z("nav",oj,[z("div",{class:tt(r.value)},[s[0]||(s[0]=z("a",{href:"/",class:"navbar-brand"},[z("span",null,"openWB")],-1)),ne(_e).showClock=="navbar"?(ae(),Ee("span",aj,Pe(ne(RS)(ne(pg))),1)):Me("",!0),s[1]||(s[1]=z("button",{class:"navbar-toggler togglebutton ps-5",type:"button","data-bs-toggle":"collapse","data-bs-target":"#mainNavbar","aria-controls":"mainNavbar","aria-expanded":"false","aria-label":"Toggle navigation"},[z("span",{class:"fa-solid fa-ellipsis-vertical"})],-1)),s[2]||(s[2]=z("div",{id:"mainNavbar",class:"collapse navbar-collapse justify-content-end"},[z("div",{class:"nav navbar-nav"},[z("a",{id:"navStatus",class:"nav-link",href:"../../settings/#/Status"},"Status"),z("div",{class:"nav-item dropdown"},[z("a",{id:"loggingDropdown",class:"nav-link",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[it("Auswertungen "),z("i",{class:"fa-solid fa-caret-down"})]),z("div",{class:"dropdown-menu","aria-labelledby":"loggingDropdown"},[z("a",{href:"../../settings/#/Logging/ChargeLog",class:"dropdown-item"},"Ladeprotokoll"),z("a",{href:"../../settings/#/Logging/Chart",class:"dropdown-item"},"Diagramme")])]),z("div",{class:"nav-item dropdown"},[z("a",{id:"settingsDropdown",class:"nav-link",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[it("Einstellungen "),z("span",{class:"fa-solid fa-caret-down"})]),z("div",{class:"dropdown-menu","aria-labelledby":"settingsDropdown"},[z("a",{id:"navSettings",class:"nav-link",href:"../../settings/index.html"},"openWB"),z("a",{class:"nav-link","data-bs-toggle":"collapse","data-bs-target":"#themesettings","aria-expanded":"false","aria-controls":"themeSettings"},[z("span",null,[it("Look&Feel"),z("span",{class:"fa-solid fa-caret-down"})])])])])])],-1))],2)]),z("div",{class:tt(r.value)},s[3]||(s[3]=[z("hr",{class:"m-0 p-0 mb-2"},null,-1)]),2)],64))}}),uj=Je(lj,[["__scopeId","data-v-ed619966"]]),cj={id:"app",class:"m-0 p-0"},fj={class:"row p-0 m-0"},dj={class:"col-12 p-0 m-0"},hj=We({__name:"App",setup(t){const e=we(()=>_e.fluidDisplay?"container-fluid":"container-lg");return(r,n)=>(ae(),Ee("div",cj,[Se(uj),z("div",{class:tt(["p-0",e.value])},[z("div",fj,[z("div",dj,[Se(sj)])])],2)]))}});var Cr="top",Yr="bottom",Kr="right",Ir="left",lf="auto",fa=[Cr,Yr,Kr,Ir],Xs="start",Ko="end",ex="clippingParents",Wm="viewport",Eo="popper",tx="reference",_g=fa.reduce(function(t,e){return t.concat([e+"-"+Xs,e+"-"+Ko])},[]),zm=[].concat(fa,[lf]).reduce(function(t,e){return t.concat([e,e+"-"+Xs,e+"-"+Ko])},[]),rx="beforeRead",nx="read",ix="afterRead",sx="beforeMain",ox="main",ax="afterMain",lx="beforeWrite",ux="write",cx="afterWrite",fx=[rx,nx,ix,sx,ox,ax,lx,ux,cx];function qn(t){return t?(t.nodeName||"").toLowerCase():null}function Xr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qs(t){var e=Xr(t).Element;return t instanceof e||t instanceof Element}function on(t){var e=Xr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Hm(t){if(typeof ShadowRoot>"u")return!1;var e=Xr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pj(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},s=e.attributes[r]||{},i=e.elements[r];!on(i)||!qn(i)||(Object.assign(i.style,n),Object.keys(s).forEach(function(a){var o=s[a];o===!1?i.removeAttribute(a):i.setAttribute(a,o===!0?"":o)}))})}function gj(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],i=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,u){return l[u]="",l},{});!on(s)||!qn(s)||(Object.assign(s.style,o),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const qm={name:"applyStyles",enabled:!0,phase:"write",fn:pj,effect:gj,requires:["computeStyles"]};function Wn(t){return t.split("-")[0]}var Ws=Math.max,Cc=Math.min,Xo=Math.round;function Eg(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dx(){return!/^((?!chrome|android).)*safari/i.test(Eg())}function Qo(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),s=1,i=1;e&&on(t)&&(s=t.offsetWidth>0&&Xo(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Xo(n.height)/t.offsetHeight||1);var a=Qs(t)?Xr(t):window,o=a.visualViewport,l=!dx()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/s,c=(n.top+(l&&o?o.offsetTop:0))/i,f=n.width/s,d=n.height/i;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function Gm(t){var e=Qo(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function hx(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Hm(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ci(t){return Xr(t).getComputedStyle(t)}function mj(t){return["table","td","th"].indexOf(qn(t))>=0}function as(t){return((Qs(t)?t.ownerDocument:t.document)||window.document).documentElement}function uf(t){return qn(t)==="html"?t:t.assignedSlot||t.parentNode||(Hm(t)?t.host:null)||as(t)}function Dv(t){return!on(t)||Ci(t).position==="fixed"?null:t.offsetParent}function bj(t){var e=/firefox/i.test(Eg()),r=/Trident/i.test(Eg());if(r&&on(t)){var n=Ci(t);if(n.position==="fixed")return null}var s=uf(t);for(Hm(s)&&(s=s.host);on(s)&&["html","body"].indexOf(qn(s))<0;){var i=Ci(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ll(t){for(var e=Xr(t),r=Dv(t);r&&mj(r)&&Ci(r).position==="static";)r=Dv(r);return r&&(qn(r)==="html"||qn(r)==="body"&&Ci(r).position==="static")?e:r||bj(t)||e}function Ym(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nl(t,e,r){return Ws(t,Cc(e,r))}function yj(t,e,r){var n=nl(t,e,r);return n>r?r:n}function px(){return{top:0,right:0,bottom:0,left:0}}function gx(t){return Object.assign({},px(),t)}function mx(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var wj=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,gx(typeof e!="number"?e:mx(e,fa))};function vj(t){var e,r=t.state,n=t.name,s=t.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,o=Wn(r.placement),l=Ym(o),u=[Ir,Kr].indexOf(o)>=0,c=u?"height":"width";if(!(!i||!a)){var f=wj(s.padding,r),d=Gm(i),p=l==="y"?Cr:Ir,g=l==="y"?Yr:Kr,b=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],v=a[l]-r.rects.reference[l],w=Ll(i),_=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,y=b/2-v/2,S=f[p],T=_-d[c]-f[g],A=_/2-d[c]/2+y,C=nl(S,A,T),L=l;r.modifiersData[n]=(e={},e[L]=C,e.centerOffset=C-A,e)}}function _j(t){var e=t.state,r=t.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||hx(e.elements.popper,s)&&(e.elements.arrow=s))}const bx={name:"arrow",enabled:!0,phase:"main",fn:vj,effect:_j,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jo(t){return t.split("-")[1]}var Ej={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sj(t,e){var r=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Xo(r*s)/s||0,y:Xo(n*s)/s||0}}function Uv(t){var e,r=t.popper,n=t.popperRect,s=t.placement,i=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=a.x,p=d===void 0?0:d,g=a.y,b=g===void 0?0:g,v=typeof c=="function"?c({x:p,y:b}):{x:p,y:b};p=v.x,b=v.y;var w=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),y=Ir,S=Cr,T=window;if(u){var A=Ll(r),C="clientHeight",L="clientWidth";if(A===Xr(r)&&(A=as(r),Ci(A).position!=="static"&&o==="absolute"&&(C="scrollHeight",L="scrollWidth")),A=A,s===Cr||(s===Ir||s===Kr)&&i===Ko){S=Yr;var j=f&&A===T&&T.visualViewport?T.visualViewport.height:A[C];b-=j-n.height,b*=l?1:-1}if(s===Ir||(s===Cr||s===Yr)&&i===Ko){y=Kr;var F=f&&A===T&&T.visualViewport?T.visualViewport.width:A[L];p-=F-n.width,p*=l?1:-1}}var $=Object.assign({position:o},u&&Ej),I=c===!0?Sj({x:p,y:b},Xr(r)):{x:p,y:b};if(p=I.x,b=I.y,l){var M;return Object.assign({},$,(M={},M[S]=_?"0":"",M[y]=w?"0":"",M.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+b+"px)":"translate3d("+p+"px, "+b+"px, 0)",M))}return Object.assign({},$,(e={},e[S]=_?b+"px":"",e[y]=w?p+"px":"",e.transform="",e))}function xj(t){var e=t.state,r=t.options,n=r.gpuAcceleration,s=n===void 0?!0:n,i=r.adaptive,a=i===void 0?!0:i,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:Wn(e.placement),variation:Jo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Uv(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Uv(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Km={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xj,data:{}};var fu={passive:!0};function Tj(t){var e=t.state,r=t.instance,n=t.options,s=n.scroll,i=s===void 0?!0:s,a=n.resize,o=a===void 0?!0:a,l=Xr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",r.update,fu)}),o&&l.addEventListener("resize",r.update,fu),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",r.update,fu)}),o&&l.removeEventListener("resize",r.update,fu)}}const Xm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tj,data:{}};var Aj={left:"right",right:"left",bottom:"top",top:"bottom"};function Wu(t){return t.replace(/left|right|bottom|top/g,function(e){return Aj[e]})}var Cj={start:"end",end:"start"};function Fv(t){return t.replace(/start|end/g,function(e){return Cj[e]})}function Qm(t){var e=Xr(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Jm(t){return Qo(as(t)).left+Qm(t).scrollLeft}function Ij(t,e){var r=Xr(t),n=as(t),s=r.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;var u=dx();(u||!u&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o+Jm(t),y:l}}function Mj(t){var e,r=as(t),n=Qm(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ws(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Ws(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+Jm(t),l=-n.scrollTop;return Ci(s||r).direction==="rtl"&&(o+=Ws(r.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:o,y:l}}function Zm(t){var e=Ci(t),r=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function yx(t){return["html","body","#document"].indexOf(qn(t))>=0?t.ownerDocument.body:on(t)&&Zm(t)?t:yx(uf(t))}function il(t,e){var r;e===void 0&&(e=[]);var n=yx(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),i=Xr(n),a=s?[i].concat(i.visualViewport||[],Zm(n)?n:[]):n,o=e.concat(a);return s?o:o.concat(il(uf(a)))}function Sg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kj(t,e){var r=Qo(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function Vv(t,e,r){return e===Wm?Sg(Ij(t,r)):Qs(e)?kj(e,r):Sg(Mj(as(t)))}function Pj(t){var e=il(uf(t)),r=["absolute","fixed"].indexOf(Ci(t).position)>=0,n=r&&on(t)?Ll(t):t;return Qs(n)?e.filter(function(s){return Qs(s)&&hx(s,n)&&qn(s)!=="body"}):[]}function Oj(t,e,r,n){var s=e==="clippingParents"?Pj(t):[].concat(e),i=[].concat(s,[r]),a=i[0],o=i.reduce(function(l,u){var c=Vv(t,u,n);return l.top=Ws(c.top,l.top),l.right=Cc(c.right,l.right),l.bottom=Cc(c.bottom,l.bottom),l.left=Ws(c.left,l.left),l},Vv(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function vx(t){var e=t.reference,r=t.element,n=t.placement,s=n?Wn(n):null,i=n?Jo(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(s){case Cr:l={x:a,y:e.y-r.height};break;case Yr:l={x:a,y:e.y+e.height};break;case Kr:l={x:e.x+e.width,y:o};break;case Ir:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var u=s?Ym(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Xs:l[u]=l[u]-(e[c]/2-r[c]/2);break;case Ko:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function Zo(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=n===void 0?t.placement:n,i=r.strategy,a=i===void 0?t.strategy:i,o=r.boundary,l=o===void 0?ex:o,u=r.rootBoundary,c=u===void 0?Wm:u,f=r.elementContext,d=f===void 0?Eo:f,p=r.altBoundary,g=p===void 0?!1:p,b=r.padding,v=b===void 0?0:b,w=gx(typeof v!="number"?v:mx(v,fa)),_=d===Eo?tx:Eo,y=t.rects.popper,S=t.elements[g?_:d],T=Oj(Qs(S)?S:S.contextElement||as(t.elements.popper),l,c,a),A=Qo(t.elements.reference),C=vx({reference:A,element:y,strategy:"absolute",placement:s}),L=Sg(Object.assign({},y,C)),j=d===Eo?L:A,F={top:T.top-j.top+w.top,bottom:j.bottom-T.bottom+w.bottom,left:T.left-j.left+w.left,right:j.right-T.right+w.right},$=t.modifiersData.offset;if(d===Eo&&$){var I=$[s];Object.keys(F).forEach(function(M){var B=[Kr,Yr].indexOf(M)>=0?1:-1,J=[Cr,Yr].indexOf(M)>=0?"y":"x";F[M]+=I[J]*B})}return F}function Lj(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=r.boundary,i=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?zm:l,c=Jo(n),f=c?o?_g:_g.filter(function(g){return Jo(g)===c}):fa,d=f.filter(function(g){return u.indexOf(g)>=0});d.length===0&&(d=f);var p=d.reduce(function(g,b){return g[b]=Zo(t,{placement:b,boundary:s,rootBoundary:i,padding:a})[Wn(b)],g},{});return Object.keys(p).sort(function(g,b){return p[g]-p[b]})}function Rj(t){if(Wn(t)===lf)return[];var e=Wu(t);return[Fv(t),e,Fv(e)]}function Bj(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=r.mainAxis,i=s===void 0?!0:s,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,d=r.altBoundary,p=r.flipVariations,g=p===void 0?!0:p,b=r.allowedAutoPlacements,v=e.options.placement,w=Wn(v),_=w===v,y=l||(_||!g?[Wu(v)]:Rj(v)),S=[v].concat(y).reduce(function(xe,ee){return xe.concat(Wn(ee)===lf?Lj(e,{placement:ee,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:b}):ee)},[]),T=e.rects.reference,A=e.rects.popper,C=new Map,L=!0,j=S[0],F=0;F<S.length;F++){var $=S[F],I=Wn($),M=Jo($)===Xs,B=[Cr,Yr].indexOf(I)>=0,J=B?"width":"height",ie=Zo(e,{placement:$,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),re=B?M?Kr:Ir:M?Yr:Cr;T[J]>A[J]&&(re=Wu(re));var N=Wu(re),fe=[];if(i&&fe.push(ie[I]<=0),o&&fe.push(ie[re]<=0,ie[N]<=0),fe.every(function(xe){return xe})){j=$,L=!1;break}C.set($,fe)}if(L)for(var G=g?3:1,pe=function(ee){var K=S.find(function(W){var D=C.get(W);if(D)return D.slice(0,ee).every(function(X){return X})});if(K)return j=K,"break"},U=G;U>0;U--){var de=pe(U);if(de==="break")break}e.placement!==j&&(e.modifiersData[n]._skip=!0,e.placement=j,e.reset=!0)}}const _x={name:"flip",enabled:!0,phase:"main",fn:Bj,requiresIfExists:["offset"],data:{_skip:!1}};function jv(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Wv(t){return[Cr,Kr,Yr,Ir].some(function(e){return t[e]>=0})}function $j(t){var e=t.state,r=t.name,n=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,a=Zo(e,{elementContext:"reference"}),o=Zo(e,{altBoundary:!0}),l=jv(a,n),u=jv(o,s,i),c=Wv(l),f=Wv(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const Ex={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$j};function Nj(t,e,r){var n=Wn(t),s=[Ir,Cr].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=i[0],o=i[1];return a=a||0,o=(o||0)*s,[Ir,Kr].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function Dj(t){var e=t.state,r=t.options,n=t.name,s=r.offset,i=s===void 0?[0,0]:s,a=zm.reduce(function(c,f){return c[f]=Nj(f,e.rects,i),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const Sx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Dj};function Uj(t){var e=t.state,r=t.name;e.modifiersData[r]=vx({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const eb={name:"popperOffsets",enabled:!0,phase:"read",fn:Uj,data:{}};function Fj(t){return t==="x"?"y":"x"}function Vj(t){var e=t.state,r=t.options,n=t.name,s=r.mainAxis,i=s===void 0?!0:s,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,d=r.tether,p=d===void 0?!0:d,g=r.tetherOffset,b=g===void 0?0:g,v=Zo(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),w=Wn(e.placement),_=Jo(e.placement),y=!_,S=Ym(w),T=Fj(S),A=e.modifiersData.popperOffsets,C=e.rects.reference,L=e.rects.popper,j=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,F=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(A){if(i){var M,B=S==="y"?Cr:Ir,J=S==="y"?Yr:Kr,ie=S==="y"?"height":"width",re=A[S],N=re+v[B],fe=re-v[J],G=p?-L[ie]/2:0,pe=_===Xs?C[ie]:L[ie],U=_===Xs?-L[ie]:-C[ie],de=e.elements.arrow,xe=p&&de?Gm(de):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:px(),K=ee[B],W=ee[J],D=nl(0,C[ie],xe[ie]),X=y?C[ie]/2-G-D-K-F.mainAxis:pe-D-K-F.mainAxis,ce=y?-C[ie]/2+G+D+W+F.mainAxis:U+D+W+F.mainAxis,le=e.elements.arrow&&Ll(e.elements.arrow),k=le?S==="y"?le.clientTop||0:le.clientLeft||0:0,P=(M=$==null?void 0:$[S])!=null?M:0,V=re+X-P-k,R=re+ce-P,H=nl(p?Cc(N,V):N,re,p?Ws(fe,R):fe);A[S]=H,I[S]=H-re}if(o){var q,ue=S==="x"?Cr:Ir,Z=S==="x"?Yr:Kr,Y=A[T],se=T==="y"?"height":"width",Q=Y+v[ue],oe=Y-v[Z],me=[Cr,Ir].indexOf(w)!==-1,Te=(q=$==null?void 0:$[T])!=null?q:0,x=me?Q:Y-C[se]-L[se]-Te+F.altAxis,m=me?Y+C[se]+L[se]-Te-F.altAxis:oe,h=p&&me?yj(x,Y,m):nl(p?x:Q,Y,p?m:oe);A[T]=h,I[T]=h-Y}e.modifiersData[n]=I}}const xx={name:"preventOverflow",enabled:!0,phase:"main",fn:Vj,requiresIfExists:["offset"]};function jj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Wj(t){return t===Xr(t)||!on(t)?Qm(t):jj(t)}function zj(t){var e=t.getBoundingClientRect(),r=Xo(e.width)/t.offsetWidth||1,n=Xo(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Hj(t,e,r){r===void 0&&(r=!1);var n=on(e),s=on(e)&&zj(e),i=as(e),a=Qo(t,s,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((qn(e)!=="body"||Zm(i))&&(o=Wj(e)),on(e)?(l=Qo(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=Jm(i))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function qj(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function s(i){r.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&s(l)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||s(i)}),n}function Gj(t){var e=qj(t);return fx.reduce(function(r,n){return r.concat(e.filter(function(s){return s.phase===n}))},[])}function Yj(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Kj(t){var e=t.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var zv={placement:"bottom",modifiers:[],strategy:"absolute"};function Hv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function cf(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,s=e.defaultOptions,i=s===void 0?zv:s;return function(o,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},zv,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(w){var _=typeof w=="function"?w(c.options):w;b(),c.options=Object.assign({},i,c.options,_),c.scrollParents={reference:Qs(o)?il(o):o.contextElement?il(o.contextElement):[],popper:il(l)};var y=Gj(Kj([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(S){return S.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var w=c.elements,_=w.reference,y=w.popper;if(Hv(_,y)){c.rects={reference:Hj(_,Ll(y),c.options.strategy==="fixed"),popper:Gm(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(F){return c.modifiersData[F.name]=Object.assign({},F.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var T=c.orderedModifiers[S],A=T.fn,C=T.options,L=C===void 0?{}:C,j=T.name;typeof A=="function"&&(c=A({state:c,options:L,name:j,instance:p})||c)}}}},update:Yj(function(){return new Promise(function(v){p.forceUpdate(),v(c)})}),destroy:function(){b(),d=!0}};if(!Hv(o,l))return p;p.setOptions(u).then(function(v){!d&&u.onFirstUpdate&&u.onFirstUpdate(v)});function g(){c.orderedModifiers.forEach(function(v){var w=v.name,_=v.options,y=_===void 0?{}:_,S=v.effect;if(typeof S=="function"){var T=S({state:c,name:w,instance:p,options:y}),A=function(){};f.push(T||A)}})}function b(){f.forEach(function(v){return v()}),f=[]}return p}}var Xj=cf(),Qj=[Xm,eb,Km,qm],Jj=cf({defaultModifiers:Qj}),Zj=[Xm,eb,Km,qm,Sx,_x,xx,bx,Ex],tb=cf({defaultModifiers:Zj});const Tx=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ax,afterRead:ix,afterWrite:cx,applyStyles:qm,arrow:bx,auto:lf,basePlacements:fa,beforeMain:sx,beforeRead:rx,beforeWrite:lx,bottom:Yr,clippingParents:ex,computeStyles:Km,createPopper:tb,createPopperBase:Xj,createPopperLite:Jj,detectOverflow:Zo,end:Ko,eventListeners:Xm,flip:_x,hide:Ex,left:Ir,main:ox,modifierPhases:fx,offset:Sx,placements:zm,popper:Eo,popperGenerator:cf,popperOffsets:eb,preventOverflow:xx,read:nx,reference:tx,right:Kr,start:Xs,top:Cr,variationPlacements:_g,viewport:Wm,write:ux},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ri=new Map,rh={set(t,e,r){Ri.has(t)||Ri.set(t,new Map);const n=Ri.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,r)},get(t,e){return Ri.has(t)&&Ri.get(t).get(e)||null},remove(t,e){if(!Ri.has(t))return;const r=Ri.get(t);r.delete(e),r.size===0&&Ri.delete(t)}},e5=1e6,t5=1e3,xg="transitionend",Ax=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`)),t),r5=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),n5=t=>{do t+=Math.floor(Math.random()*e5);while(document.getElementById(t));return t},i5=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(r);return!n&&!s?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*t5)},Cx=t=>{t.dispatchEvent(new Event(xg))},mi=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),es=t=>mi(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Ax(t)):null,da=t=>{if(!mi(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",r=t.closest("details:not([open])");if(!r)return e;if(r!==t){const n=t.closest("summary");if(n&&n.parentNode!==r||n===null)return!1}return e},ts=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Ix=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Ix(t.parentNode):null},Ic=()=>{},Rl=t=>{t.offsetHeight},Mx=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,nh=[],s5=t=>{document.readyState==="loading"?(nh.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of nh)e()}),nh.push(t)):t()},ln=()=>document.documentElement.dir==="rtl",fn=t=>{s5(()=>{const e=Mx();if(e){const r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}})},Or=(t,e=[],r=t)=>typeof t=="function"?t(...e):r,kx=(t,e,r=!0)=>{if(!r){Or(t);return}const s=i5(e)+5;let i=!1;const a=({target:o})=>{o===e&&(i=!0,e.removeEventListener(xg,a),Or(t))};e.addEventListener(xg,a),setTimeout(()=>{i||Cx(e)},s)},rb=(t,e,r,n)=>{const s=t.length;let i=t.indexOf(e);return i===-1?!r&&n?t[s-1]:t[0]:(i+=r?1:-1,n&&(i=(i+s)%s),t[Math.max(0,Math.min(i,s-1))])},o5=/[^.]*(?=\..*)\.|.*/,a5=/\..*/,l5=/::\d+$/,ih={};let qv=1;const Px={mouseenter:"mouseover",mouseleave:"mouseout"},u5=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ox(t,e){return e&&`${e}::${qv++}`||t.uidEvent||qv++}function Lx(t){const e=Ox(t);return t.uidEvent=e,ih[e]=ih[e]||{},ih[e]}function c5(t,e){return function r(n){return nb(n,{delegateTarget:t}),r.oneOff&&Ne.off(t,n.type,e),e.apply(t,[n])}}function f5(t,e,r){return function n(s){const i=t.querySelectorAll(e);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const o of i)if(o===a)return nb(s,{delegateTarget:a}),n.oneOff&&Ne.off(t,s.type,e,r),r.apply(a,[s])}}function Rx(t,e,r=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===r)}function Bx(t,e,r){const n=typeof e=="string",s=n?r:e||r;let i=$x(t);return u5.has(i)||(i=t),[n,s,i]}function Gv(t,e,r,n,s){if(typeof e!="string"||!t)return;let[i,a,o]=Bx(e,r,n);e in Px&&(a=(g=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return g.call(this,b)})(a));const l=Lx(t),u=l[o]||(l[o]={}),c=Rx(u,a,i?r:null);if(c){c.oneOff=c.oneOff&&s;return}const f=Ox(a,e.replace(o5,"")),d=i?f5(t,r,a):c5(t,a);d.delegationSelector=i?r:null,d.callable=a,d.oneOff=s,d.uidEvent=f,u[f]=d,t.addEventListener(o,d,i)}function Tg(t,e,r,n,s){const i=Rx(e[r],n,s);i&&(t.removeEventListener(r,i,!!s),delete e[r][i.uidEvent])}function d5(t,e,r,n){const s=e[r]||{};for(const[i,a]of Object.entries(s))i.includes(n)&&Tg(t,e,r,a.callable,a.delegationSelector)}function $x(t){return t=t.replace(a5,""),Px[t]||t}const Ne={on(t,e,r,n){Gv(t,e,r,n,!1)},one(t,e,r,n){Gv(t,e,r,n,!0)},off(t,e,r,n){if(typeof e!="string"||!t)return;const[s,i,a]=Bx(e,r,n),o=a!==e,l=Lx(t),u=l[a]||{},c=e.startsWith(".");if(typeof i<"u"){if(!Object.keys(u).length)return;Tg(t,l,a,i,s?r:null);return}if(c)for(const f of Object.keys(l))d5(t,l,f,e.slice(1));for(const[f,d]of Object.entries(u)){const p=f.replace(l5,"");(!o||e.includes(p))&&Tg(t,l,a,d.callable,d.delegationSelector)}},trigger(t,e,r){if(typeof e!="string"||!t)return null;const n=Mx(),s=$x(e),i=e!==s;let a=null,o=!0,l=!0,u=!1;i&&n&&(a=n.Event(e,r),n(t).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());const c=nb(new Event(e,{bubbles:o,cancelable:!0}),r);return u&&c.preventDefault(),l&&t.dispatchEvent(c),c.defaultPrevented&&a&&a.preventDefault(),c}};function nb(t,e={}){for(const[r,n]of Object.entries(e))try{t[r]=n}catch{Object.defineProperty(t,r,{configurable:!0,get(){return n}})}return t}function Yv(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function sh(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const bi={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${sh(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${sh(e)}`)},getDataAttributes(t){if(!t)return{};const e={},r=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of r){let s=n.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=Yv(t.dataset[n])}return e},getDataAttribute(t,e){return Yv(t.getAttribute(`data-bs-${sh(e)}`))}};class Bl{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){const n=mi(r)?bi.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...mi(r)?bi.getDataAttributes(r):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,r=this.constructor.DefaultType){for(const[n,s]of Object.entries(r)){const i=e[n],a=mi(i)?"element":r5(i);if(!new RegExp(s).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${s}".`)}}}const h5="5.3.3";class Cn extends Bl{constructor(e,r){super(),e=es(e),e&&(this._element=e,this._config=this._getConfig(r),rh.set(this._element,this.constructor.DATA_KEY,this))}dispose(){rh.remove(this._element,this.constructor.DATA_KEY),Ne.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,n=!0){kx(e,r,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return rh.get(es(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return h5}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const oh=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e?e.split(",").map(r=>Ax(r)).join(","):null},Qe={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(r=>r.matches(e))},parents(t,e){const r=[];let n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(r=>!ts(r)&&da(r))},getSelectorFromElement(t){const e=oh(t);return e&&Qe.findOne(e)?e:null},getElementFromSelector(t){const e=oh(t);return e?Qe.findOne(e):null},getMultipleElementsFromSelector(t){const e=oh(t);return e?Qe.find(e):[]}},ff=(t,e="hide")=>{const r=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;Ne.on(document,r,`[data-bs-dismiss="${n}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),ts(this))return;const i=Qe.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(i)[e]()})},p5="alert",g5="bs.alert",Nx=`.${g5}`,m5=`close${Nx}`,b5=`closed${Nx}`,y5="fade",w5="show";class df extends Cn{static get NAME(){return p5}close(){if(Ne.trigger(this._element,m5).defaultPrevented)return;this._element.classList.remove(w5);const r=this._element.classList.contains(y5);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),Ne.trigger(this._element,b5),this.dispose()}static jQueryInterface(e){return this.each(function(){const r=df.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}ff(df,"close");fn(df);const v5="button",_5="bs.button",E5=`.${_5}`,S5=".data-api",x5="active",Kv='[data-bs-toggle="button"]',T5=`click${E5}${S5}`;class hf extends Cn{static get NAME(){return v5}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(x5))}static jQueryInterface(e){return this.each(function(){const r=hf.getOrCreateInstance(this);e==="toggle"&&r[e]()})}}Ne.on(document,T5,Kv,t=>{t.preventDefault();const e=t.target.closest(Kv);hf.getOrCreateInstance(e).toggle()});fn(hf);const A5="swipe",ha=".bs.swipe",C5=`touchstart${ha}`,I5=`touchmove${ha}`,M5=`touchend${ha}`,k5=`pointerdown${ha}`,P5=`pointerup${ha}`,O5="touch",L5="pen",R5="pointer-event",B5=40,$5={endCallback:null,leftCallback:null,rightCallback:null},N5={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Mc extends Bl{constructor(e,r){super(),this._element=e,!(!e||!Mc.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return $5}static get DefaultType(){return N5}static get NAME(){return A5}dispose(){Ne.off(this._element,ha)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Or(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=B5)return;const r=e/this._deltaX;this._deltaX=0,r&&Or(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ne.on(this._element,k5,e=>this._start(e)),Ne.on(this._element,P5,e=>this._end(e)),this._element.classList.add(R5)):(Ne.on(this._element,C5,e=>this._start(e)),Ne.on(this._element,I5,e=>this._move(e)),Ne.on(this._element,M5,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===L5||e.pointerType===O5)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const D5="carousel",U5="bs.carousel",ls=`.${U5}`,Dx=".data-api",F5="ArrowLeft",V5="ArrowRight",j5=500,Ba="next",bo="prev",So="left",zu="right",W5=`slide${ls}`,ah=`slid${ls}`,z5=`keydown${ls}`,H5=`mouseenter${ls}`,q5=`mouseleave${ls}`,G5=`dragstart${ls}`,Y5=`load${ls}${Dx}`,K5=`click${ls}${Dx}`,Ux="carousel",du="active",X5="slide",Q5="carousel-item-end",J5="carousel-item-start",Z5="carousel-item-next",eW="carousel-item-prev",Fx=".active",Vx=".carousel-item",tW=Fx+Vx,rW=".carousel-item img",nW=".carousel-indicators",iW="[data-bs-slide], [data-bs-slide-to]",sW='[data-bs-ride="carousel"]',oW={[F5]:zu,[V5]:So},aW={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},lW={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class $l extends Cn{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Qe.findOne(nW,this._element),this._addEventListeners(),this._config.ride===Ux&&this.cycle()}static get Default(){return aW}static get DefaultType(){return lW}static get NAME(){return D5}next(){this._slide(Ba)}nextWhenVisible(){!document.hidden&&da(this._element)&&this.next()}prev(){this._slide(bo)}pause(){this._isSliding&&Cx(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Ne.one(this._element,ah,()=>this.cycle());return}this.cycle()}}to(e){const r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){Ne.one(this._element,ah,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const s=e>n?Ba:bo;this._slide(s,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Ne.on(this._element,z5,e=>this._keydown(e)),this._config.pause==="hover"&&(Ne.on(this._element,H5,()=>this.pause()),Ne.on(this._element,q5,()=>this._maybeEnableCycle())),this._config.touch&&Mc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of Qe.find(rW,this._element))Ne.on(n,G5,s=>s.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(So)),rightCallback:()=>this._slide(this._directionToOrder(zu)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),j5+this._config.interval))}};this._swipeHelper=new Mc(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const r=oW[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const r=Qe.findOne(Fx,this._indicatorsElement);r.classList.remove(du),r.removeAttribute("aria-current");const n=Qe.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(du),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;const n=this._getActive(),s=e===Ba,i=r||rb(this._getItems(),n,s,this._config.wrap);if(i===n)return;const a=this._getItemIndex(i),o=p=>Ne.trigger(this._element,p,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:a});if(o(W5).defaultPrevented||!n||!i)return;const u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=i;const c=s?J5:Q5,f=s?Z5:eW;i.classList.add(f),Rl(i),n.classList.add(c),i.classList.add(c);const d=()=>{i.classList.remove(c,f),i.classList.add(du),n.classList.remove(du,f,c),this._isSliding=!1,o(ah)};this._queueCallback(d,n,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains(X5)}_getActive(){return Qe.findOne(tW,this._element)}_getItems(){return Qe.find(Vx,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ln()?e===So?bo:Ba:e===So?Ba:bo}_orderToDirection(e){return ln()?e===bo?So:zu:e===bo?zu:So}static jQueryInterface(e){return this.each(function(){const r=$l.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ne.on(document,K5,iW,function(t){const e=Qe.getElementFromSelector(this);if(!e||!e.classList.contains(Ux))return;t.preventDefault();const r=$l.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if(bi.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});Ne.on(window,Y5,()=>{const t=Qe.find(sW);for(const e of t)$l.getOrCreateInstance(e)});fn($l);const uW="collapse",cW="bs.collapse",Nl=`.${cW}`,fW=".data-api",dW=`show${Nl}`,hW=`shown${Nl}`,pW=`hide${Nl}`,gW=`hidden${Nl}`,mW=`click${Nl}${fW}`,lh="show",Io="collapse",hu="collapsing",bW="collapsed",yW=`:scope .${Io} .${Io}`,wW="collapse-horizontal",vW="width",_W="height",EW=".collapse.show, .collapse.collapsing",Ag='[data-bs-toggle="collapse"]',SW={parent:null,toggle:!0},xW={parent:"(null|element)",toggle:"boolean"};class wl extends Cn{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];const n=Qe.find(Ag);for(const s of n){const i=Qe.getSelectorFromElement(s),a=Qe.find(i).filter(o=>o===this._element);i!==null&&a.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return SW}static get DefaultType(){return xW}static get NAME(){return uW}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(EW).filter(o=>o!==this._element).map(o=>wl.getOrCreateInstance(o,{toggle:!1}))),e.length&&e[0]._isTransitioning||Ne.trigger(this._element,dW).defaultPrevented)return;for(const o of e)o.hide();const n=this._getDimension();this._element.classList.remove(Io),this._element.classList.add(hu),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(hu),this._element.classList.add(Io,lh),this._element.style[n]="",Ne.trigger(this._element,hW)},a=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[n]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ne.trigger(this._element,pW).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,Rl(this._element),this._element.classList.add(hu),this._element.classList.remove(Io,lh);for(const s of this._triggerArray){const i=Qe.getElementFromSelector(s);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(hu),this._element.classList.add(Io),Ne.trigger(this._element,gW)};this._element.style[r]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(lh)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=es(e.parent),e}_getDimension(){return this._element.classList.contains(wW)?vW:_W}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ag);for(const r of e){const n=Qe.getElementFromSelector(r);n&&this._addAriaAndCollapsedClass([r],this._isShown(n))}}_getFirstLevelChildren(e){const r=Qe.find(yW,this._config.parent);return Qe.find(e,this._config.parent).filter(n=>!r.includes(n))}_addAriaAndCollapsedClass(e,r){if(e.length)for(const n of e)n.classList.toggle(bW,!r),n.setAttribute("aria-expanded",r)}static jQueryInterface(e){const r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){const n=wl.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Ne.on(document,mW,Ag,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of Qe.getMultipleElementsFromSelector(this))wl.getOrCreateInstance(e,{toggle:!1}).toggle()});fn(wl);const Xv="dropdown",TW="bs.dropdown",uo=`.${TW}`,ib=".data-api",AW="Escape",Qv="Tab",CW="ArrowUp",Jv="ArrowDown",IW=2,MW=`hide${uo}`,kW=`hidden${uo}`,PW=`show${uo}`,OW=`shown${uo}`,jx=`click${uo}${ib}`,Wx=`keydown${uo}${ib}`,LW=`keyup${uo}${ib}`,xo="show",RW="dropup",BW="dropend",$W="dropstart",NW="dropup-center",DW="dropdown-center",Os='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',UW=`${Os}.${xo}`,Hu=".dropdown-menu",FW=".navbar",VW=".navbar-nav",jW=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",WW=ln()?"top-end":"top-start",zW=ln()?"top-start":"top-end",HW=ln()?"bottom-end":"bottom-start",qW=ln()?"bottom-start":"bottom-end",GW=ln()?"left-start":"right-start",YW=ln()?"right-start":"left-start",KW="top",XW="bottom",QW={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},JW={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class zn extends Cn{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=Qe.next(this._element,Hu)[0]||Qe.prev(this._element,Hu)[0]||Qe.findOne(Hu,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return QW}static get DefaultType(){return JW}static get NAME(){return Xv}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ts(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Ne.trigger(this._element,PW,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(VW))for(const n of[].concat(...document.body.children))Ne.on(n,"mouseover",Ic);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xo),this._element.classList.add(xo),Ne.trigger(this._element,OW,e)}}hide(){if(ts(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Ne.trigger(this._element,MW,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Ne.off(n,"mouseover",Ic);this._popper&&this._popper.destroy(),this._menu.classList.remove(xo),this._element.classList.remove(xo),this._element.setAttribute("aria-expanded","false"),bi.removeDataAttribute(this._menu,"popper"),Ne.trigger(this._element,kW,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!mi(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Xv.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Tx>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:mi(this._config.reference)?e=es(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const r=this._getPopperConfig();this._popper=tb(e,this._menu,r)}_isShown(){return this._menu.classList.contains(xo)}_getPlacement(){const e=this._parent;if(e.classList.contains(BW))return GW;if(e.classList.contains($W))return YW;if(e.classList.contains(NW))return KW;if(e.classList.contains(DW))return XW;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(RW)?r?zW:WW:r?qW:HW}_detectNavbar(){return this._element.closest(FW)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(bi.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Or(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:r}){const n=Qe.find(jW,this._menu).filter(s=>da(s));n.length&&rb(n,r,e===Jv,!n.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){const r=zn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===IW||e.type==="keyup"&&e.key!==Qv)return;const r=Qe.find(UW);for(const n of r){const s=zn.getInstance(n);if(!s||s._config.autoClose===!1)continue;const i=e.composedPath(),a=i.includes(s._menu);if(i.includes(s._element)||s._config.autoClose==="inside"&&!a||s._config.autoClose==="outside"&&a||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Qv||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:s._element};e.type==="click"&&(o.clickEvent=e),s._completeHide(o)}}static dataApiKeydownHandler(e){const r=/input|textarea/i.test(e.target.tagName),n=e.key===AW,s=[CW,Jv].includes(e.key);if(!s&&!n||r&&!n)return;e.preventDefault();const i=this.matches(Os)?this:Qe.prev(this,Os)[0]||Qe.next(this,Os)[0]||Qe.findOne(Os,e.delegateTarget.parentNode),a=zn.getOrCreateInstance(i);if(s){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}Ne.on(document,Wx,Os,zn.dataApiKeydownHandler);Ne.on(document,Wx,Hu,zn.dataApiKeydownHandler);Ne.on(document,jx,zn.clearMenus);Ne.on(document,LW,zn.clearMenus);Ne.on(document,jx,Os,function(t){t.preventDefault(),zn.getOrCreateInstance(this).toggle()});fn(zn);const zx="backdrop",ZW="fade",Zv="show",e0=`mousedown.bs.${zx}`,ez={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},tz={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Hx extends Bl{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return ez}static get DefaultType(){return tz}static get NAME(){return zx}show(e){if(!this._config.isVisible){Or(e);return}this._append();const r=this._getElement();this._config.isAnimated&&Rl(r),r.classList.add(Zv),this._emulateAnimation(()=>{Or(e)})}hide(e){if(!this._config.isVisible){Or(e);return}this._getElement().classList.remove(Zv),this._emulateAnimation(()=>{this.dispose(),Or(e)})}dispose(){this._isAppended&&(Ne.off(this._element,e0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(ZW),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=es(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Ne.on(e,e0,()=>{Or(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){kx(e,this._getElement(),this._config.isAnimated)}}const rz="focustrap",nz="bs.focustrap",kc=`.${nz}`,iz=`focusin${kc}`,sz=`keydown.tab${kc}`,oz="Tab",az="forward",t0="backward",lz={autofocus:!0,trapElement:null},uz={autofocus:"boolean",trapElement:"element"};class qx extends Bl{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lz}static get DefaultType(){return uz}static get NAME(){return rz}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ne.off(document,kc),Ne.on(document,iz,e=>this._handleFocusin(e)),Ne.on(document,sz,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ne.off(document,kc))}_handleFocusin(e){const{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;const n=Qe.focusableChildren(r);n.length===0?r.focus():this._lastTabNavDirection===t0?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===oz&&(this._lastTabNavDirection=e.shiftKey?t0:az)}}const r0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",n0=".sticky-top",pu="padding-right",i0="margin-right";class Cg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pu,r=>r+e),this._setElementAttributes(r0,pu,r=>r+e),this._setElementAttributes(n0,i0,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pu),this._resetElementAttributes(r0,pu),this._resetElementAttributes(n0,i0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,n){const s=this.getWidth(),i=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+s)return;this._saveInitialAttribute(a,r);const o=window.getComputedStyle(a).getPropertyValue(r);a.style.setProperty(r,`${n(Number.parseFloat(o))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,r){const n=e.style.getPropertyValue(r);n&&bi.setDataAttribute(e,r,n)}_resetElementAttributes(e,r){const n=s=>{const i=bi.getDataAttribute(s,r);if(i===null){s.style.removeProperty(r);return}bi.removeDataAttribute(s,r),s.style.setProperty(r,i)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,r){if(mi(e)){r(e);return}for(const n of Qe.find(e,this._element))r(n)}}const cz="modal",fz="bs.modal",un=`.${fz}`,dz=".data-api",hz="Escape",pz=`hide${un}`,gz=`hidePrevented${un}`,Gx=`hidden${un}`,Yx=`show${un}`,mz=`shown${un}`,bz=`resize${un}`,yz=`click.dismiss${un}`,wz=`mousedown.dismiss${un}`,vz=`keydown.dismiss${un}`,_z=`click${un}${dz}`,s0="modal-open",Ez="fade",o0="show",uh="modal-static",Sz=".modal.show",xz=".modal-dialog",Tz=".modal-body",Az='[data-bs-toggle="modal"]',Cz={backdrop:!0,focus:!0,keyboard:!0},Iz={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ea extends Cn{constructor(e,r){super(e,r),this._dialog=Qe.findOne(xz,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cg,this._addEventListeners()}static get Default(){return Cz}static get DefaultType(){return Iz}static get NAME(){return cz}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Ne.trigger(this._element,Yx,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(s0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Ne.trigger(this._element,pz).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(o0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Ne.off(window,un),Ne.off(this._dialog,un),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Hx({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new qx({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=Qe.findOne(Tz,this._dialog);r&&(r.scrollTop=0),Rl(this._element),this._element.classList.add(o0);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ne.trigger(this._element,mz,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){Ne.on(this._element,vz,e=>{if(e.key===hz){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Ne.on(window,bz,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ne.on(this._element,wz,e=>{Ne.one(this._element,yz,r=>{if(!(this._element!==e.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(s0),this._resetAdjustments(),this._scrollBar.reset(),Ne.trigger(this._element,Gx)})}_isAnimated(){return this._element.classList.contains(Ez)}_triggerBackdropTransition(){if(Ne.trigger(this._element,gz).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(uh)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(uh),this._queueCallback(()=>{this._element.classList.remove(uh),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),n=r>0;if(n&&!e){const s=ln()?"paddingLeft":"paddingRight";this._element.style[s]=`${r}px`}if(!n&&e){const s=ln()?"paddingRight":"paddingLeft";this._element.style[s]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){const n=ea.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](r)}})}}Ne.on(document,_z,Az,function(t){const e=Qe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ne.one(e,Yx,s=>{s.defaultPrevented||Ne.one(e,Gx,()=>{da(this)&&this.focus()})});const r=Qe.findOne(Sz);r&&ea.getInstance(r).hide(),ea.getOrCreateInstance(e).toggle(this)});ff(ea);fn(ea);const Mz="offcanvas",kz="bs.offcanvas",Li=`.${kz}`,Kx=".data-api",Pz=`load${Li}${Kx}`,Oz="Escape",a0="show",l0="showing",u0="hiding",Lz="offcanvas-backdrop",Xx=".offcanvas.show",Rz=`show${Li}`,Bz=`shown${Li}`,$z=`hide${Li}`,c0=`hidePrevented${Li}`,Qx=`hidden${Li}`,Nz=`resize${Li}`,Dz=`click${Li}${Kx}`,Uz=`keydown.dismiss${Li}`,Fz='[data-bs-toggle="offcanvas"]',Vz={backdrop:!0,keyboard:!0,scroll:!1},jz={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class rs extends Cn{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vz}static get DefaultType(){return jz}static get NAME(){return Mz}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Ne.trigger(this._element,Rz,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(l0);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(a0),this._element.classList.remove(l0),Ne.trigger(this._element,Bz,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||Ne.trigger(this._element,$z).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(u0),this._backdrop.hide();const r=()=>{this._element.classList.remove(a0,u0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cg().reset(),Ne.trigger(this._element,Qx)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Ne.trigger(this._element,c0);return}this.hide()},r=!!this._config.backdrop;return new Hx({className:Lz,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new qx({trapElement:this._element})}_addEventListeners(){Ne.on(this._element,Uz,e=>{if(e.key===Oz){if(this._config.keyboard){this.hide();return}Ne.trigger(this._element,c0)}})}static jQueryInterface(e){return this.each(function(){const r=rs.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Ne.on(document,Dz,Fz,function(t){const e=Qe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),ts(this))return;Ne.one(e,Qx,()=>{da(this)&&this.focus()});const r=Qe.findOne(Xx);r&&r!==e&&rs.getInstance(r).hide(),rs.getOrCreateInstance(e).toggle(this)});Ne.on(window,Pz,()=>{for(const t of Qe.find(Xx))rs.getOrCreateInstance(t).show()});Ne.on(window,Nz,()=>{for(const t of Qe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&rs.getOrCreateInstance(t).hide()});ff(rs);fn(rs);const Wz=/^aria-[\w-]*$/i,Jx={"*":["class","dir","id","lang","role",Wz],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zz=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qz=(t,e)=>{const r=t.nodeName.toLowerCase();return e.includes(r)?zz.has(r)?!!Hz.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(r))};function Gz(t,e,r){if(!t.length)return t;if(r&&typeof r=="function")return r(t);const s=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...s.body.querySelectorAll("*"));for(const a of i){const o=a.nodeName.toLowerCase();if(!Object.keys(e).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),u=[].concat(e["*"]||[],e[o]||[]);for(const c of l)qz(c,u)||a.removeAttribute(c.nodeName)}return s.body.innerHTML}const Yz="TemplateFactory",Kz={allowList:Jx,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xz={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qz={entry:"(string|element|function|null)",selector:"(string|element)"};class Jz extends Bl{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Kz}static get DefaultType(){return Xz}static get NAME(){return Yz}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,i]of Object.entries(this._config.content))this._setContent(e,i,s);const r=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&r.classList.add(...n.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[r,n]of Object.entries(e))super._typeCheckConfig({selector:r,entry:n},Qz)}_setContent(e,r,n){const s=Qe.findOne(n,e);if(s){if(r=this._resolvePossibleFunction(r),!r){s.remove();return}if(mi(r)){this._putElementInTemplate(es(r),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(r);return}s.textContent=r}}_maybeSanitize(e){return this._config.sanitize?Gz(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Or(e,[this])}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}}const Zz="tooltip",eH=new Set(["sanitize","allowList","sanitizeFn"]),ch="fade",tH="modal",gu="show",rH=".tooltip-inner",f0=`.${tH}`,d0="hide.bs.modal",$a="hover",fh="focus",nH="click",iH="manual",sH="hide",oH="hidden",aH="show",lH="shown",uH="inserted",cH="click",fH="focusin",dH="focusout",hH="mouseenter",pH="mouseleave",gH={AUTO:"auto",TOP:"top",RIGHT:ln()?"left":"right",BOTTOM:"bottom",LEFT:ln()?"right":"left"},mH={allowList:Jx,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bH={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pa extends Cn{constructor(e,r){if(typeof Tx>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return mH}static get DefaultType(){return bH}static get NAME(){return Zz}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Ne.off(this._element.closest(f0),d0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Ne.trigger(this._element,this.constructor.eventName(aH)),n=(Ix(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(s),Ne.trigger(this._element,this.constructor.eventName(uH))),this._popper=this._createPopper(s),s.classList.add(gu),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Ne.on(o,"mouseover",Ic);const a=()=>{Ne.trigger(this._element,this.constructor.eventName(lH)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Ne.trigger(this._element,this.constructor.eventName(sH)).defaultPrevented)return;if(this._getTipElement().classList.remove(gu),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Ne.off(s,"mouseover",Ic);this._activeTrigger[nH]=!1,this._activeTrigger[fh]=!1,this._activeTrigger[$a]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ne.trigger(this._element,this.constructor.eventName(oH)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(ch,gu),r.classList.add(`bs-${this.constructor.NAME}-auto`);const n=n5(this.constructor.NAME).toString();return r.setAttribute("id",n),this._isAnimated()&&r.classList.add(ch),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Jz({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[rH]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ch)}_isShown(){return this.tip&&this.tip.classList.contains(gu)}_createPopper(e){const r=Or(this._config.placement,[this,e,this._element]),n=gH[r.toUpperCase()];return tb(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return Or(e,[this._element])}_getPopperConfig(e){const r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...r,...Or(this._config.popperConfig,[r])}}_setListeners(){const e=this._config.trigger.split(" ");for(const r of e)if(r==="click")Ne.on(this._element,this.constructor.eventName(cH),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(r!==iH){const n=r===$a?this.constructor.eventName(hH):this.constructor.eventName(fH),s=r===$a?this.constructor.eventName(pH):this.constructor.eventName(dH);Ne.on(this._element,n,this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[i.type==="focusin"?fh:$a]=!0,a._enter()}),Ne.on(this._element,s,this._config.selector,i=>{const a=this._initializeOnDelegatedTarget(i);a._activeTrigger[i.type==="focusout"?fh:$a]=a._element.contains(i.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ne.on(this._element.closest(f0),d0,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const r=bi.getDataAttributes(this._element);for(const n of Object.keys(r))eH.has(n)&&delete r[n];return e={...r,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:es(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[r,n]of Object.entries(this._config))this.constructor.Default[r]!==n&&(e[r]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const r=pa.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}fn(pa);const yH="popover",wH=".popover-header",vH=".popover-body",_H={...pa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},EH={...pa.DefaultType,content:"(null|string|element|function)"};class sb extends pa{static get Default(){return _H}static get DefaultType(){return EH}static get NAME(){return yH}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[wH]:this._getTitle(),[vH]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const r=sb.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}fn(sb);const SH="scrollspy",xH="bs.scrollspy",ob=`.${xH}`,TH=".data-api",AH=`activate${ob}`,h0=`click${ob}`,CH=`load${ob}${TH}`,IH="dropdown-item",yo="active",MH='[data-bs-spy="scroll"]',dh="[href]",kH=".nav, .list-group",p0=".nav-link",PH=".nav-item",OH=".list-group-item",LH=`${p0}, ${PH} > ${p0}, ${OH}`,RH=".dropdown",BH=".dropdown-toggle",$H={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},NH={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class pf extends Cn{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return $H}static get DefaultType(){return NH}static get NAME(){return SH}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=es(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(r=>Number.parseFloat(r))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ne.off(this._config.target,h0),Ne.on(this._config.target,h0,dh,e=>{const r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();const n=this._rootElement||window,s=r.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:s,behavior:"smooth"});return}n.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){const r=a=>this._targetLinks.get(`#${a.target.id}`),n=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(r(a))},s=(this._rootElement||document.documentElement).scrollTop,i=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&o){if(n(a),!s)return;continue}!i&&!o&&n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Qe.find(dh,this._config.target);for(const r of e){if(!r.hash||ts(r))continue;const n=Qe.findOne(decodeURI(r.hash),this._element);da(n)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(yo),this._activateParents(e),Ne.trigger(this._element,AH,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(IH)){Qe.findOne(BH,e.closest(RH)).classList.add(yo);return}for(const r of Qe.parents(e,kH))for(const n of Qe.prev(r,LH))n.classList.add(yo)}_clearActiveClass(e){e.classList.remove(yo);const r=Qe.find(`${dh}.${yo}`,e);for(const n of r)n.classList.remove(yo)}static jQueryInterface(e){return this.each(function(){const r=pf.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ne.on(window,CH,()=>{for(const t of Qe.find(MH))pf.getOrCreateInstance(t)});fn(pf);const DH="tab",UH="bs.tab",co=`.${UH}`,FH=`hide${co}`,VH=`hidden${co}`,jH=`show${co}`,WH=`shown${co}`,zH=`click${co}`,HH=`keydown${co}`,qH=`load${co}`,GH="ArrowLeft",g0="ArrowRight",YH="ArrowUp",m0="ArrowDown",hh="Home",b0="End",Ls="active",y0="fade",ph="show",KH="dropdown",Zx=".dropdown-toggle",XH=".dropdown-menu",gh=`:not(${Zx})`,QH='.list-group, .nav, [role="tablist"]',JH=".nav-item, .list-group-item",ZH=`.nav-link${gh}, .list-group-item${gh}, [role="tab"]${gh}`,eT='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mh=`${ZH}, ${eT}`,eq=`.${Ls}[data-bs-toggle="tab"], .${Ls}[data-bs-toggle="pill"], .${Ls}[data-bs-toggle="list"]`;class ta extends Cn{constructor(e){super(e),this._parent=this._element.closest(QH),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ne.on(this._element,HH,r=>this._keydown(r)))}static get NAME(){return DH}show(){const e=this._element;if(this._elemIsActive(e))return;const r=this._getActiveElem(),n=r?Ne.trigger(r,FH,{relatedTarget:e}):null;Ne.trigger(e,jH,{relatedTarget:r}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(Ls),this._activate(Qe.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ph);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Ne.trigger(e,WH,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(y0))}_deactivate(e,r){if(!e)return;e.classList.remove(Ls),e.blur(),this._deactivate(Qe.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ph);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Ne.trigger(e,VH,{relatedTarget:r})};this._queueCallback(n,e,e.classList.contains(y0))}_keydown(e){if(![GH,g0,YH,m0,hh,b0].includes(e.key))return;e.stopPropagation(),e.preventDefault();const r=this._getChildren().filter(s=>!ts(s));let n;if([hh,b0].includes(e.key))n=r[e.key===hh?0:r.length-1];else{const s=[g0,m0].includes(e.key);n=rb(r,e.target,s,!0)}n&&(n.focus({preventScroll:!0}),ta.getOrCreateInstance(n).show())}_getChildren(){return Qe.find(mh,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(const n of r)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const r=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",r),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const r=Qe.getElementFromSelector(e);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,r){const n=this._getOuterElement(e);if(!n.classList.contains(KH))return;const s=(i,a)=>{const o=Qe.findOne(i,n);o&&o.classList.toggle(a,r)};s(Zx,Ls),s(XH,ph),n.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,n){e.hasAttribute(r)||e.setAttribute(r,n)}_elemIsActive(e){return e.classList.contains(Ls)}_getInnerElement(e){return e.matches(mh)?e:Qe.findOne(mh,e)}_getOuterElement(e){return e.closest(JH)||e}static jQueryInterface(e){return this.each(function(){const r=ta.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Ne.on(document,zH,eT,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!ts(this)&&ta.getOrCreateInstance(this).show()});Ne.on(window,qH,()=>{for(const t of Qe.find(eq))ta.getOrCreateInstance(t)});fn(ta);const tq="toast",rq="bs.toast",us=`.${rq}`,nq=`mouseover${us}`,iq=`mouseout${us}`,sq=`focusin${us}`,oq=`focusout${us}`,aq=`hide${us}`,lq=`hidden${us}`,uq=`show${us}`,cq=`shown${us}`,fq="fade",w0="hide",mu="show",bu="showing",dq={animation:"boolean",autohide:"boolean",delay:"number"},hq={animation:!0,autohide:!0,delay:5e3};class gf extends Cn{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hq}static get DefaultType(){return dq}static get NAME(){return tq}show(){if(Ne.trigger(this._element,uq).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(fq);const r=()=>{this._element.classList.remove(bu),Ne.trigger(this._element,cq),this._maybeScheduleHide()};this._element.classList.remove(w0),Rl(this._element),this._element.classList.add(mu,bu),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||Ne.trigger(this._element,aq).defaultPrevented)return;const r=()=>{this._element.classList.add(w0),this._element.classList.remove(bu,mu),Ne.trigger(this._element,lq)};this._element.classList.add(bu),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(mu),super.dispose()}isShown(){return this._element.classList.contains(mu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Ne.on(this._element,nq,e=>this._onInteraction(e,!0)),Ne.on(this._element,iq,e=>this._onInteraction(e,!1)),Ne.on(this._element,sq,e=>this._onInteraction(e,!0)),Ne.on(this._element,oq,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const r=gf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}ff(gf);fn(gf);function pq(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;r({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let i;const a=rr();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const o=a.createElement("div");function l(g,b){const v=e.params.virtual;if(v.cache&&e.virtual.cache[b])return e.virtual.cache[b];let w;return v.renderSlide?(w=v.renderSlide.call(e,g,b),typeof w=="string"&&(o.innerHTML=w,w=o.children[0])):e.isElement?w=Hr("swiper-slide"):w=Hr("div",e.params.slideClass),w.setAttribute("data-swiper-slide-index",b),v.renderSlide||(w.innerHTML=g),v.cache&&(e.virtual.cache[b]=w),w}function u(g,b){const{slidesPerView:v,slidesPerGroup:w,centeredSlides:_,loop:y,initialSlide:S}=e.params;if(b&&!y&&S>0)return;const{addSlidesBefore:T,addSlidesAfter:A}=e.params.virtual,{from:C,to:L,slides:j,slidesGrid:F,offset:$}=e.virtual;e.params.cssMode||e.updateActiveIndex();const I=e.activeIndex||0;let M;e.rtlTranslate?M="right":M=e.isHorizontal()?"left":"top";let B,J;_?(B=Math.floor(v/2)+w+A,J=Math.floor(v/2)+w+T):(B=v+(w-1)+A,J=(y?v:w)+T);let ie=I-J,re=I+B;y||(ie=Math.max(ie,0),re=Math.min(re,j.length-1));let N=(e.slidesGrid[ie]||0)-(e.slidesGrid[0]||0);y&&I>=J?(ie-=J,_||(N+=e.slidesGrid[0])):y&&I<J&&(ie=-J,_&&(N+=e.slidesGrid[0])),Object.assign(e.virtual,{from:ie,to:re,offset:N,slidesGrid:e.slidesGrid,slidesBefore:J,slidesAfter:B});function fe(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s("virtualUpdate")}if(C===ie&&L===re&&!g){e.slidesGrid!==F&&N!==$&&e.slides.forEach(ee=>{ee.style[M]=`${N-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),s("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:N,from:ie,to:re,slides:function(){const K=[];for(let W=ie;W<=re;W+=1)K.push(j[W]);return K}()}),e.params.virtual.renderExternalUpdate?fe():s("virtualUpdate");return}const G=[],pe=[],U=ee=>{let K=ee;return ee<0?K=j.length+ee:K>=j.length&&(K=K-j.length),K};if(g)e.slides.filter(ee=>ee.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(ee=>{ee.remove()});else for(let ee=C;ee<=L;ee+=1)if(ee<ie||ee>re){const K=U(ee);e.slides.filter(W=>W.matches(`.${e.params.slideClass}[data-swiper-slide-index="${K}"], swiper-slide[data-swiper-slide-index="${K}"]`)).forEach(W=>{W.remove()})}const de=y?-j.length:0,xe=y?j.length*2:j.length;for(let ee=de;ee<xe;ee+=1)if(ee>=ie&&ee<=re){const K=U(ee);typeof L>"u"||g?pe.push(K):(ee>L&&pe.push(K),ee<C&&G.push(K))}if(pe.forEach(ee=>{e.slidesEl.append(l(j[ee],ee))}),y)for(let ee=G.length-1;ee>=0;ee-=1){const K=G[ee];e.slidesEl.prepend(l(j[K],K))}else G.sort((ee,K)=>K-ee),G.forEach(ee=>{e.slidesEl.prepend(l(j[ee],ee))});ar(e.slidesEl,".swiper-slide, swiper-slide").forEach(ee=>{ee.style[M]=`${N-Math.abs(e.cssOverflowAdjustment())}px`}),fe()}function c(g){if(typeof g=="object"&&"length"in g)for(let b=0;b<g.length;b+=1)g[b]&&e.virtual.slides.push(g[b]);else e.virtual.slides.push(g);u(!0)}function f(g){const b=e.activeIndex;let v=b+1,w=1;if(Array.isArray(g)){for(let _=0;_<g.length;_+=1)g[_]&&e.virtual.slides.unshift(g[_]);v=b+g.length,w=g.length}else e.virtual.slides.unshift(g);if(e.params.virtual.cache){const _=e.virtual.cache,y={};Object.keys(_).forEach(S=>{const T=_[S],A=T.getAttribute("data-swiper-slide-index");A&&T.setAttribute("data-swiper-slide-index",parseInt(A,10)+w),y[parseInt(S,10)+w]=T}),e.virtual.cache=y}u(!0),e.slideTo(v,0)}function d(g){if(typeof g>"u"||g===null)return;let b=e.activeIndex;if(Array.isArray(g))for(let v=g.length-1;v>=0;v-=1)e.params.virtual.cache&&(delete e.virtual.cache[g[v]],Object.keys(e.virtual.cache).forEach(w=>{w>g&&(e.virtual.cache[w-1]=e.virtual.cache[w],e.virtual.cache[w-1].setAttribute("data-swiper-slide-index",w-1),delete e.virtual.cache[w])})),e.virtual.slides.splice(g[v],1),g[v]<b&&(b-=1),b=Math.max(b,0);else e.params.virtual.cache&&(delete e.virtual.cache[g],Object.keys(e.virtual.cache).forEach(v=>{v>g&&(e.virtual.cache[v-1]=e.virtual.cache[v],e.virtual.cache[v-1].setAttribute("data-swiper-slide-index",v-1),delete e.virtual.cache[v])})),e.virtual.slides.splice(g,1),g<b&&(b-=1),b=Math.max(b,0);u(!0),e.slideTo(b,0)}function p(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),u(!0),e.slideTo(0,0)}n("beforeInit",()=>{if(!e.params.virtual.enabled)return;let g;if(typeof e.passedParams.virtual.slides>"u"){const b=[...e.slidesEl.children].filter(v=>v.matches(`.${e.params.slideClass}, swiper-slide`));b.length&&(e.virtual.slides=[...b],g=!0,b.forEach((v,w)=>{v.setAttribute("data-swiper-slide-index",w),e.virtual.cache[w]=v,v.remove()}))}g||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,u(!1,!0)}),n("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(i),i=setTimeout(()=>{u()},100)):u())}),n("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Ha(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:c,prependSlide:f,removeSlide:d,removeAllSlides:p,update:u})}function gq(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;const i=rr(),a=Nt();e.keyboard={enabled:!1},r({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function o(c){if(!e.enabled)return;const{rtlTranslate:f}=e;let d=c;d.originalEvent&&(d=d.originalEvent);const p=d.keyCode||d.charCode,g=e.params.keyboard.pageUpDown,b=g&&p===33,v=g&&p===34,w=p===37,_=p===39,y=p===38,S=p===40;if(!e.allowSlideNext&&(e.isHorizontal()&&_||e.isVertical()&&S||v)||!e.allowSlidePrev&&(e.isHorizontal()&&w||e.isVertical()&&y||b))return!1;if(!(d.shiftKey||d.altKey||d.ctrlKey||d.metaKey)&&!(i.activeElement&&i.activeElement.nodeName&&(i.activeElement.nodeName.toLowerCase()==="input"||i.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(b||v||w||_||y||S)){let T=!1;if(Vs(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&Vs(e.el,`.${e.params.slideActiveClass}`).length===0)return;const A=e.el,C=A.clientWidth,L=A.clientHeight,j=a.innerWidth,F=a.innerHeight,$=xc(A);f&&($.left-=A.scrollLeft);const I=[[$.left,$.top],[$.left+C,$.top],[$.left,$.top+L],[$.left+C,$.top+L]];for(let M=0;M<I.length;M+=1){const B=I[M];if(B[0]>=0&&B[0]<=j&&B[1]>=0&&B[1]<=F){if(B[0]===0&&B[1]===0)continue;T=!0}}if(!T)return}e.isHorizontal()?((b||v||w||_)&&(d.preventDefault?d.preventDefault():d.returnValue=!1),((v||_)&&!f||(b||w)&&f)&&e.slideNext(),((b||w)&&!f||(v||_)&&f)&&e.slidePrev()):((b||v||y||S)&&(d.preventDefault?d.preventDefault():d.returnValue=!1),(v||S)&&e.slideNext(),(b||y)&&e.slidePrev()),s("keyPress",p)}}function l(){e.keyboard.enabled||(i.addEventListener("keydown",o),e.keyboard.enabled=!0)}function u(){e.keyboard.enabled&&(i.removeEventListener("keydown",o),e.keyboard.enabled=!1)}n("init",()=>{e.params.keyboard.enabled&&l()}),n("destroy",()=>{e.keyboard.enabled&&u()}),Object.assign(e.keyboard,{enable:l,disable:u})}function mq(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;const i=Nt();r({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,o=rn(),l;const u=[];function c(y){let C=0,L=0,j=0,F=0;return"detail"in y&&(L=y.detail),"wheelDelta"in y&&(L=-y.wheelDelta/120),"wheelDeltaY"in y&&(L=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(C=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(C=L,L=0),j=C*10,F=L*10,"deltaY"in y&&(F=y.deltaY),"deltaX"in y&&(j=y.deltaX),y.shiftKey&&!j&&(j=F,F=0),(j||F)&&y.deltaMode&&(y.deltaMode===1?(j*=40,F*=40):(j*=800,F*=800)),j&&!C&&(C=j<1?-1:1),F&&!L&&(L=F<1?-1:1),{spinX:C,spinY:L,pixelX:j,pixelY:F}}function f(){e.enabled&&(e.mouseEntered=!0)}function d(){e.enabled&&(e.mouseEntered=!1)}function p(y){return e.params.mousewheel.thresholdDelta&&y.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&rn()-o<e.params.mousewheel.thresholdTime?!1:y.delta>=6&&rn()-o<60?!0:(y.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),s("scroll",y.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),s("scroll",y.raw)),o=new i.Date().getTime(),!1)}function g(y){const S=e.params.mousewheel;if(y.direction<0){if(e.isEnd&&!e.params.loop&&S.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&S.releaseOnEdges)return!0;return!1}function b(y){let S=y,T=!0;if(!e.enabled||y.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const A=e.params.mousewheel;e.params.cssMode&&S.preventDefault();let C=e.el;e.params.mousewheel.eventsTarget!=="container"&&(C=document.querySelector(e.params.mousewheel.eventsTarget));const L=C&&C.contains(S.target);if(!e.mouseEntered&&!L&&!A.releaseOnEdges)return!0;S.originalEvent&&(S=S.originalEvent);let j=0;const F=e.rtlTranslate?-1:1,$=c(S);if(A.forceToAxis)if(e.isHorizontal())if(Math.abs($.pixelX)>Math.abs($.pixelY))j=-$.pixelX*F;else return!0;else if(Math.abs($.pixelY)>Math.abs($.pixelX))j=-$.pixelY;else return!0;else j=Math.abs($.pixelX)>Math.abs($.pixelY)?-$.pixelX*F:-$.pixelY;if(j===0)return!0;A.invert&&(j=-j);let I=e.getTranslate()+j*A.sensitivity;if(I>=e.minTranslate()&&(I=e.minTranslate()),I<=e.maxTranslate()&&(I=e.maxTranslate()),T=e.params.loop?!0:!(I===e.minTranslate()||I===e.maxTranslate()),T&&e.params.nested&&S.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const M={time:rn(),delta:Math.abs(j),direction:Math.sign(j),raw:y};u.length>=2&&u.shift();const B=u.length?u[u.length-1]:void 0;if(u.push(M),B?(M.direction!==B.direction||M.delta>B.delta||M.time>B.time+150)&&p(M):p(M),g(M))return!0}else{const M={time:rn(),delta:Math.abs(j),direction:Math.sign(j)},B=l&&M.time<l.time+500&&M.delta<=l.delta&&M.direction===l.direction;if(!B){l=void 0;let J=e.getTranslate()+j*A.sensitivity;const ie=e.isBeginning,re=e.isEnd;if(J>=e.minTranslate()&&(J=e.minTranslate()),J<=e.maxTranslate()&&(J=e.maxTranslate()),e.setTransition(0),e.setTranslate(J),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!ie&&e.isBeginning||!re&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:M.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,u.length>=15&&u.shift();const N=u.length?u[u.length-1]:void 0,fe=u[0];if(u.push(M),N&&(M.delta>N.delta||M.direction!==N.direction))u.splice(0);else if(u.length>=15&&M.time-fe.time<500&&fe.delta-M.delta>=1&&M.delta<=6){const G=j>0?.8:.2;l=M,u.splice(0),a=Ks(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,G)},0)}a||(a=Ks(()=>{if(e.destroyed||!e.params)return;const G=.5;l=M,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,G)},500))}if(B||s("scroll",S),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),A.releaseOnEdges&&(J===e.minTranslate()||J===e.maxTranslate()))return!0}}return S.preventDefault?S.preventDefault():S.returnValue=!1,!1}function v(y){let S=e.el;e.params.mousewheel.eventsTarget!=="container"&&(S=document.querySelector(e.params.mousewheel.eventsTarget)),S[y]("mouseenter",f),S[y]("mouseleave",d),S[y]("wheel",b)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",b),!0):e.mousewheel.enabled?!1:(v("addEventListener"),e.mousewheel.enabled=!0,!0)}function _(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,b),!0):e.mousewheel.enabled?(v("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}n("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&_(),e.params.mousewheel.enabled&&w()}),n("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&_()}),Object.assign(e.mousewheel,{enable:w,disable:_})}function ab(t,e,r,n){return t.params.createElements&&Object.keys(n).forEach(s=>{if(!r[s]&&r.auto===!0){let i=ar(t.el,`.${n[s]}`)[0];i||(i=Hr("div",n[s]),i.className=n[s],t.el.append(i)),r[s]=i,e[s]=i}}),r}function bq(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let b;return g&&typeof g=="string"&&e.isElement&&(b=e.el.querySelector(g)||e.hostEl.querySelector(g),b)?b:(g&&(typeof g=="string"&&(b=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&b&&b.length>1&&e.el.querySelectorAll(g).length===1?b=e.el.querySelector(g):b&&b.length===1&&(b=b[0])),g&&!b?g:b)}function a(g,b){const v=e.params.navigation;g=ut(g),g.forEach(w=>{w&&(w.classList[b?"add":"remove"](...v.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=b),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](v.lockClass))})}function o(){const{nextEl:g,prevEl:b}=e.navigation;if(e.params.loop){a(b,!1),a(g,!1);return}a(b,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function u(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function c(){const g=e.params.navigation;if(e.params.navigation=ab(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let b=i(g.nextEl),v=i(g.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:v}),b=ut(b),v=ut(v);const w=(_,y)=>{_&&_.addEventListener("click",y==="next"?u:l),!e.enabled&&_&&_.classList.add(...g.lockClass.split(" "))};b.forEach(_=>w(_,"next")),v.forEach(_=>w(_,"prev"))}function f(){let{nextEl:g,prevEl:b}=e.navigation;g=ut(g),b=ut(b);const v=(w,_)=>{w.removeEventListener("click",_==="next"?u:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(w=>v(w,"next")),b.forEach(w=>v(w,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?p():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{f()}),n("enable disable",()=>{let{nextEl:g,prevEl:b}=e.navigation;if(g=ut(g),b=ut(b),e.enabled){o();return}[...g,...b].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),n("click",(g,b)=>{let{nextEl:v,prevEl:w}=e.navigation;v=ut(v),w=ut(w);const _=b.target;let y=w.includes(_)||v.includes(_);if(e.isElement&&!y){const S=b.path||b.composedPath&&b.composedPath();S&&(y=S.find(T=>v.includes(T)||w.includes(T)))}if(e.params.navigation.hideOnClick&&!y){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let S;v.length?S=v[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(S=w[0].classList.contains(e.params.navigation.hiddenClass)),s(S===!0?"navigationShow":"navigationHide"),[...v,...w].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const d=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),o()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:d,disable:p,update:o,init:c,destroy:f})}function li(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function yq(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;const i="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,o=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(_,y){const{bulletActiveClass:S}=e.params.pagination;_&&(_=_[`${y==="prev"?"previous":"next"}ElementSibling`],_&&(_.classList.add(`${S}-${y}`),_=_[`${y==="prev"?"previous":"next"}ElementSibling`],_&&_.classList.add(`${S}-${y}-${y}`)))}function c(_,y,S){if(_=_%S,y=y%S,y===_+1)return"next";if(y===_-1)return"previous"}function f(_){const y=_.target.closest(li(e.params.pagination.bulletClass));if(!y)return;_.preventDefault();const S=yl(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===S)return;const T=c(e.realIndex,S,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(S)}else e.slideTo(S)}function d(){const _=e.rtl,y=e.params.pagination;if(l())return;let S=e.pagination.el;S=ut(S);let T,A;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,L=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,T=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const j=e.pagination.bullets;let F,$,I;if(y.dynamicBullets&&(a=bg(j[0],e.isHorizontal()?"width":"height"),S.forEach(M=>{M.style[e.isHorizontal()?"width":"height"]=`${a*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&A!==void 0&&(o+=T-(A||0),o>y.dynamicMainBullets-1?o=y.dynamicMainBullets-1:o<0&&(o=0)),F=Math.max(T-o,0),$=F+(Math.min(j.length,y.dynamicMainBullets)-1),I=($+F)/2),j.forEach(M=>{const B=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(J=>`${y.bulletActiveClass}${J}`)].map(J=>typeof J=="string"&&J.includes(" ")?J.split(" "):J).flat();M.classList.remove(...B)}),S.length>1)j.forEach(M=>{const B=yl(M);B===T?M.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&M.setAttribute("part","bullet"),y.dynamicBullets&&(B>=F&&B<=$&&M.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),B===F&&u(M,"prev"),B===$&&u(M,"next"))});else{const M=j[T];if(M&&M.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&j.forEach((B,J)=>{B.setAttribute("part",J===T?"bullet-active":"bullet")}),y.dynamicBullets){const B=j[F],J=j[$];for(let ie=F;ie<=$;ie+=1)j[ie]&&j[ie].classList.add(...`${y.bulletActiveClass}-main`.split(" "));u(B,"prev"),u(J,"next")}}if(y.dynamicBullets){const M=Math.min(j.length,y.dynamicMainBullets+4),B=(a*M-a)/2-I*a,J=_?"right":"left";j.forEach(ie=>{ie.style[e.isHorizontal()?J:"top"]=`${B}px`})}}S.forEach((j,F)=>{if(y.type==="fraction"&&(j.querySelectorAll(li(y.currentClass)).forEach($=>{$.textContent=y.formatFractionCurrent(T+1)}),j.querySelectorAll(li(y.totalClass)).forEach($=>{$.textContent=y.formatFractionTotal(L)})),y.type==="progressbar"){let $;y.progressbarOpposite?$=e.isHorizontal()?"vertical":"horizontal":$=e.isHorizontal()?"horizontal":"vertical";const I=(T+1)/L;let M=1,B=1;$==="horizontal"?M=I:B=I,j.querySelectorAll(li(y.progressbarFillClass)).forEach(J=>{J.style.transform=`translate3d(0,0,0) scaleX(${M}) scaleY(${B})`,J.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(j.innerHTML=y.renderCustom(e,T+1,L),F===0&&s("paginationRender",j)):(F===0&&s("paginationRender",j),s("paginationUpdate",j)),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](y.lockClass)})}function p(){const _=e.params.pagination;if(l())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let S=e.pagination.el;S=ut(S);let T="";if(_.type==="bullets"){let A=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>y&&(A=y);for(let C=0;C<A;C+=1)_.renderBullet?T+=_.renderBullet.call(e,C,_.bulletClass):T+=`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}_.type==="fraction"&&(_.renderFraction?T=_.renderFraction.call(e,_.currentClass,_.totalClass):T=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),_.type==="progressbar"&&(_.renderProgressbar?T=_.renderProgressbar.call(e,_.progressbarFillClass):T=`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],S.forEach(A=>{_.type!=="custom"&&(A.innerHTML=T||""),_.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(li(_.bulletClass)))}),_.type!=="custom"&&s("paginationRender",S[0])}function g(){e.params.pagination=ab(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let y;typeof _.el=="string"&&e.isElement&&(y=e.el.querySelector(_.el)),!y&&typeof _.el=="string"&&(y=[...document.querySelectorAll(_.el)]),y||(y=_.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof _.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(_.el)],y.length>1&&(y=y.find(S=>Vs(S,".swiper")[0]===e.el))),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=ut(y),y.forEach(S=>{_.type==="bullets"&&_.clickable&&S.classList.add(...(_.clickableClass||"").split(" ")),S.classList.add(_.modifierClass+_.type),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(S.classList.add(`${_.modifierClass}${_.type}-dynamic`),o=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&S.classList.add(_.progressbarOppositeClass),_.clickable&&S.addEventListener("click",f),e.enabled||S.classList.add(_.lockClass)}))}function b(){const _=e.params.pagination;if(l())return;let y=e.pagination.el;y&&(y=ut(y),y.forEach(S=>{S.classList.remove(_.hiddenClass),S.classList.remove(_.modifierClass+_.type),S.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&(S.classList.remove(...(_.clickableClass||"").split(" ")),S.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(S=>S.classList.remove(..._.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:y}=e.pagination;y=ut(y),y.forEach(S=>{S.classList.remove(_.horizontalClass,_.verticalClass),S.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?w():(g(),p(),d())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&d()}),n("snapIndexChange",()=>{d()}),n("snapGridLengthChange",()=>{p(),d()}),n("destroy",()=>{b()}),n("enable disable",()=>{let{el:_}=e.pagination;_&&(_=ut(_),_.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{d()}),n("click",(_,y)=>{const S=y.target,T=ut(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!S.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&S===e.navigation.nextEl||e.navigation.prevEl&&S===e.navigation.prevEl))return;const A=T[0].classList.contains(e.params.pagination.hiddenClass);s(A===!0?"paginationShow":"paginationHide"),T.forEach(C=>C.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=ut(_),_.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),g(),p(),d()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=ut(_),_.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:v,disable:w,render:p,update:d,init:g,destroy:b})}function wq(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;const i=rr();let a=!1,o=null,l=null,u,c,f,d;r({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function p(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:I,rtlTranslate:M}=e,{dragEl:B,el:J}=I,ie=e.params.scrollbar,re=e.params.loop?e.progressLoop:e.progress;let N=c,fe=(f-c)*re;M?(fe=-fe,fe>0?(N=c-fe,fe=0):-fe+c>f&&(N=f+fe)):fe<0?(N=c+fe,fe=0):fe+c>f&&(N=f-fe),e.isHorizontal()?(B.style.transform=`translate3d(${fe}px, 0, 0)`,B.style.width=`${N}px`):(B.style.transform=`translate3d(0px, ${fe}px, 0)`,B.style.height=`${N}px`),ie.hide&&(clearTimeout(o),J.style.opacity=1,o=setTimeout(()=>{J.style.opacity=0,J.style.transitionDuration="400ms"},1e3))}function g(I){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${I}ms`)}function b(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:I}=e,{dragEl:M,el:B}=I;M.style.width="",M.style.height="",f=e.isHorizontal()?B.offsetWidth:B.offsetHeight,d=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=f*d:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?M.style.width=`${c}px`:M.style.height=`${c}px`,d>=1?B.style.display="none":B.style.display="",e.params.scrollbar.hide&&(B.style.opacity=0),e.params.watchOverflow&&e.enabled&&I.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function v(I){return e.isHorizontal()?I.clientX:I.clientY}function w(I){const{scrollbar:M,rtlTranslate:B}=e,{el:J}=M;let ie;ie=(v(I)-xc(J)[e.isHorizontal()?"left":"top"]-(u!==null?u:c/2))/(f-c),ie=Math.max(Math.min(ie,1),0),B&&(ie=1-ie);const re=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*ie;e.updateProgress(re),e.setTranslate(re),e.updateActiveIndex(),e.updateSlidesClasses()}function _(I){const M=e.params.scrollbar,{scrollbar:B,wrapperEl:J}=e,{el:ie,dragEl:re}=B;a=!0,u=I.target===re?v(I)-I.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,I.preventDefault(),I.stopPropagation(),J.style.transitionDuration="100ms",re.style.transitionDuration="100ms",w(I),clearTimeout(l),ie.style.transitionDuration="0ms",M.hide&&(ie.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),s("scrollbarDragStart",I)}function y(I){const{scrollbar:M,wrapperEl:B}=e,{el:J,dragEl:ie}=M;a&&(I.preventDefault&&I.cancelable?I.preventDefault():I.returnValue=!1,w(I),B.style.transitionDuration="0ms",J.style.transitionDuration="0ms",ie.style.transitionDuration="0ms",s("scrollbarDragMove",I))}function S(I){const M=e.params.scrollbar,{scrollbar:B,wrapperEl:J}=e,{el:ie}=B;a&&(a=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",J.style.transitionDuration=""),M.hide&&(clearTimeout(l),l=Ks(()=>{ie.style.opacity=0,ie.style.transitionDuration="400ms"},1e3)),s("scrollbarDragEnd",I),M.snapOnRelease&&e.slideToClosest())}function T(I){const{scrollbar:M,params:B}=e,J=M.el;if(!J)return;const ie=J,re=B.passiveListeners?{passive:!1,capture:!1}:!1,N=B.passiveListeners?{passive:!0,capture:!1}:!1;if(!ie)return;const fe=I==="on"?"addEventListener":"removeEventListener";ie[fe]("pointerdown",_,re),i[fe]("pointermove",y,re),i[fe]("pointerup",S,N)}function A(){!e.params.scrollbar.el||!e.scrollbar.el||T("on")}function C(){!e.params.scrollbar.el||!e.scrollbar.el||T("off")}function L(){const{scrollbar:I,el:M}=e;e.params.scrollbar=ab(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const B=e.params.scrollbar;if(!B.el)return;let J;if(typeof B.el=="string"&&e.isElement&&(J=e.el.querySelector(B.el)),!J&&typeof B.el=="string"){if(J=i.querySelectorAll(B.el),!J.length)return}else J||(J=B.el);e.params.uniqueNavElements&&typeof B.el=="string"&&J.length>1&&M.querySelectorAll(B.el).length===1&&(J=M.querySelector(B.el)),J.length>0&&(J=J[0]),J.classList.add(e.isHorizontal()?B.horizontalClass:B.verticalClass);let ie;J&&(ie=J.querySelector(li(e.params.scrollbar.dragClass)),ie||(ie=Hr("div",e.params.scrollbar.dragClass),J.append(ie))),Object.assign(I,{el:J,dragEl:ie}),B.draggable&&A(),J&&J.classList[e.enabled?"remove":"add"](...Vi(e.params.scrollbar.lockClass))}function j(){const I=e.params.scrollbar,M=e.scrollbar.el;M&&M.classList.remove(...Vi(e.isHorizontal()?I.horizontalClass:I.verticalClass)),C()}n("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const I=e.params.scrollbar;let{el:M}=e.scrollbar;M=ut(M),M.forEach(B=>{B.classList.remove(I.horizontalClass,I.verticalClass),B.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),n("init",()=>{e.params.scrollbar.enabled===!1?$():(L(),b(),p())}),n("update resize observerUpdate lock unlock changeDirection",()=>{b()}),n("setTranslate",()=>{p()}),n("setTransition",(I,M)=>{g(M)}),n("enable disable",()=>{const{el:I}=e.scrollbar;I&&I.classList[e.enabled?"remove":"add"](...Vi(e.params.scrollbar.lockClass))}),n("destroy",()=>{j()});const F=()=>{e.el.classList.remove(...Vi(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Vi(e.params.scrollbar.scrollbarDisabledClass)),L(),b(),p()},$=()=>{e.el.classList.add(...Vi(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Vi(e.params.scrollbar.scrollbarDisabledClass)),j()};Object.assign(e.scrollbar,{enable:F,disable:$,updateSize:b,setTranslate:p,init:L,destroy:j})}function vq(t){let{swiper:e,extendParams:r,on:n}=t;r({parallax:{enabled:!1}});const s="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",i=(l,u)=>{const{rtl:c}=e,f=c?-1:1,d=l.getAttribute("data-swiper-parallax")||"0";let p=l.getAttribute("data-swiper-parallax-x"),g=l.getAttribute("data-swiper-parallax-y");const b=l.getAttribute("data-swiper-parallax-scale"),v=l.getAttribute("data-swiper-parallax-opacity"),w=l.getAttribute("data-swiper-parallax-rotate");if(p||g?(p=p||"0",g=g||"0"):e.isHorizontal()?(p=d,g="0"):(g=d,p="0"),p.indexOf("%")>=0?p=`${parseInt(p,10)*u*f}%`:p=`${p*u*f}px`,g.indexOf("%")>=0?g=`${parseInt(g,10)*u}%`:g=`${g*u}px`,typeof v<"u"&&v!==null){const y=v-(v-1)*(1-Math.abs(u));l.style.opacity=y}let _=`translate3d(${p}, ${g}, 0px)`;if(typeof b<"u"&&b!==null){const y=b-(b-1)*(1-Math.abs(u));_+=` scale(${y})`}if(w&&typeof w<"u"&&w!==null){const y=w*u*-1;_+=` rotate(${y}deg)`}l.style.transform=_},a=()=>{const{el:l,slides:u,progress:c,snapGrid:f,isElement:d}=e,p=ar(l,s);e.isElement&&p.push(...ar(e.hostEl,s)),p.forEach(g=>{i(g,c)}),u.forEach((g,b)=>{let v=g.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(v+=Math.ceil(b/2)-c*(f.length-1)),v=Math.min(Math.max(v,-1),1),g.querySelectorAll(`${s}, [data-swiper-parallax-rotate]`).forEach(w=>{i(w,v)})})},o=function(l){l===void 0&&(l=e.params.speed);const{el:u,hostEl:c}=e,f=[...u.querySelectorAll(s)];e.isElement&&f.push(...c.querySelectorAll(s)),f.forEach(d=>{let p=parseInt(d.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(p=0),d.style.transitionDuration=`${p}ms`})};n("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),n("init",()=>{e.params.parallax.enabled&&a()}),n("setTranslate",()=>{e.params.parallax.enabled&&a()}),n("setTransition",(l,u)=>{e.params.parallax.enabled&&o(u)})}function _q(t){let{swiper:e,extendParams:r,on:n,emit:s}=t;const i=Nt();r({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let a=1,o=!1,l=!1,u={x:0,y:0};const c=-3;let f,d;const p=[],g={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},b={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},v={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let w=1;Object.defineProperty(e.zoom,"scale",{get(){return w},set(ee){if(w!==ee){const K=g.imageEl,W=g.slideEl;s("zoomChange",ee,K,W)}w=ee}});function _(){if(p.length<2)return 1;const ee=p[0].pageX,K=p[0].pageY,W=p[1].pageX,D=p[1].pageY;return Math.sqrt((W-ee)**2+(D-K)**2)}function y(){const ee=e.params.zoom,K=g.imageWrapEl.getAttribute("data-swiper-zoom")||ee.maxRatio;if(ee.limitToOriginalSize&&g.imageEl&&g.imageEl.naturalWidth){const W=g.imageEl.naturalWidth/g.imageEl.offsetWidth;return Math.min(W,K)}return K}function S(){if(p.length<2)return{x:null,y:null};const ee=g.imageEl.getBoundingClientRect();return[(p[0].pageX+(p[1].pageX-p[0].pageX)/2-ee.x-i.scrollX)/a,(p[0].pageY+(p[1].pageY-p[0].pageY)/2-ee.y-i.scrollY)/a]}function T(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function A(ee){const K=T();return!!(ee.target.matches(K)||e.slides.filter(W=>W.contains(ee.target)).length>0)}function C(ee){const K=`.${e.params.zoom.containerClass}`;return!!(ee.target.matches(K)||[...e.hostEl.querySelectorAll(K)].filter(W=>W.contains(ee.target)).length>0)}function L(ee){if(ee.pointerType==="mouse"&&p.splice(0,p.length),!A(ee))return;const K=e.params.zoom;if(f=!1,d=!1,p.push(ee),!(p.length<2)){if(f=!0,g.scaleStart=_(),!g.slideEl){g.slideEl=ee.target.closest(`.${e.params.slideClass}, swiper-slide`),g.slideEl||(g.slideEl=e.slides[e.activeIndex]);let W=g.slideEl.querySelector(`.${K.containerClass}`);if(W&&(W=W.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),g.imageEl=W,W?g.imageWrapEl=Vs(g.imageEl,`.${K.containerClass}`)[0]:g.imageWrapEl=void 0,!g.imageWrapEl){g.imageEl=void 0;return}g.maxRatio=y()}if(g.imageEl){const[W,D]=S();g.originX=W,g.originY=D,g.imageEl.style.transitionDuration="0ms"}o=!0}}function j(ee){if(!A(ee))return;const K=e.params.zoom,W=e.zoom,D=p.findIndex(X=>X.pointerId===ee.pointerId);D>=0&&(p[D]=ee),!(p.length<2)&&(d=!0,g.scaleMove=_(),g.imageEl&&(W.scale=g.scaleMove/g.scaleStart*a,W.scale>g.maxRatio&&(W.scale=g.maxRatio-1+(W.scale-g.maxRatio+1)**.5),W.scale<K.minRatio&&(W.scale=K.minRatio+1-(K.minRatio-W.scale+1)**.5),g.imageEl.style.transform=`translate3d(0,0,0) scale(${W.scale})`))}function F(ee){if(!A(ee)||ee.pointerType==="mouse"&&ee.type==="pointerout")return;const K=e.params.zoom,W=e.zoom,D=p.findIndex(X=>X.pointerId===ee.pointerId);D>=0&&p.splice(D,1),!(!f||!d)&&(f=!1,d=!1,g.imageEl&&(W.scale=Math.max(Math.min(W.scale,g.maxRatio),K.minRatio),g.imageEl.style.transitionDuration=`${e.params.speed}ms`,g.imageEl.style.transform=`translate3d(0,0,0) scale(${W.scale})`,a=W.scale,o=!1,W.scale>1&&g.slideEl?g.slideEl.classList.add(`${K.zoomedSlideClass}`):W.scale<=1&&g.slideEl&&g.slideEl.classList.remove(`${K.zoomedSlideClass}`),W.scale===1&&(g.originX=0,g.originY=0,g.slideEl=void 0)))}let $;function I(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function M(){clearTimeout($),e.touchEventsData.preventTouchMoveFromPointerMove=!0,$=setTimeout(()=>{e.destroyed||I()})}function B(ee){const K=e.device;if(!g.imageEl||b.isTouched)return;K.android&&ee.cancelable&&ee.preventDefault(),b.isTouched=!0;const W=p.length>0?p[0]:ee;b.touchesStart.x=W.pageX,b.touchesStart.y=W.pageY}function J(ee){const W=ee.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!A(ee)||!C(ee))return;const D=e.zoom;if(!g.imageEl)return;if(!b.isTouched||!g.slideEl){W&&N(ee);return}if(W){N(ee);return}b.isMoved||(b.width=g.imageEl.offsetWidth||g.imageEl.clientWidth,b.height=g.imageEl.offsetHeight||g.imageEl.clientHeight,b.startX=mg(g.imageWrapEl,"x")||0,b.startY=mg(g.imageWrapEl,"y")||0,g.slideWidth=g.slideEl.offsetWidth,g.slideHeight=g.slideEl.offsetHeight,g.imageWrapEl.style.transitionDuration="0ms");const X=b.width*D.scale,ce=b.height*D.scale;if(b.minX=Math.min(g.slideWidth/2-X/2,0),b.maxX=-b.minX,b.minY=Math.min(g.slideHeight/2-ce/2,0),b.maxY=-b.minY,b.touchesCurrent.x=p.length>0?p[0].pageX:ee.pageX,b.touchesCurrent.y=p.length>0?p[0].pageY:ee.pageY,Math.max(Math.abs(b.touchesCurrent.x-b.touchesStart.x),Math.abs(b.touchesCurrent.y-b.touchesStart.y))>5&&(e.allowClick=!1),!b.isMoved&&!o){if(e.isHorizontal()&&(Math.floor(b.minX)===Math.floor(b.startX)&&b.touchesCurrent.x<b.touchesStart.x||Math.floor(b.maxX)===Math.floor(b.startX)&&b.touchesCurrent.x>b.touchesStart.x)){b.isTouched=!1,I();return}if(!e.isHorizontal()&&(Math.floor(b.minY)===Math.floor(b.startY)&&b.touchesCurrent.y<b.touchesStart.y||Math.floor(b.maxY)===Math.floor(b.startY)&&b.touchesCurrent.y>b.touchesStart.y)){b.isTouched=!1,I();return}}ee.cancelable&&ee.preventDefault(),ee.stopPropagation(),M(),b.isMoved=!0;const k=(D.scale-a)/(g.maxRatio-e.params.zoom.minRatio),{originX:P,originY:V}=g;b.currentX=b.touchesCurrent.x-b.touchesStart.x+b.startX+k*(b.width-P*2),b.currentY=b.touchesCurrent.y-b.touchesStart.y+b.startY+k*(b.height-V*2),b.currentX<b.minX&&(b.currentX=b.minX+1-(b.minX-b.currentX+1)**.8),b.currentX>b.maxX&&(b.currentX=b.maxX-1+(b.currentX-b.maxX+1)**.8),b.currentY<b.minY&&(b.currentY=b.minY+1-(b.minY-b.currentY+1)**.8),b.currentY>b.maxY&&(b.currentY=b.maxY-1+(b.currentY-b.maxY+1)**.8),v.prevPositionX||(v.prevPositionX=b.touchesCurrent.x),v.prevPositionY||(v.prevPositionY=b.touchesCurrent.y),v.prevTime||(v.prevTime=Date.now()),v.x=(b.touchesCurrent.x-v.prevPositionX)/(Date.now()-v.prevTime)/2,v.y=(b.touchesCurrent.y-v.prevPositionY)/(Date.now()-v.prevTime)/2,Math.abs(b.touchesCurrent.x-v.prevPositionX)<2&&(v.x=0),Math.abs(b.touchesCurrent.y-v.prevPositionY)<2&&(v.y=0),v.prevPositionX=b.touchesCurrent.x,v.prevPositionY=b.touchesCurrent.y,v.prevTime=Date.now(),g.imageWrapEl.style.transform=`translate3d(${b.currentX}px, ${b.currentY}px,0)`}function ie(){const ee=e.zoom;if(p.length=0,!g.imageEl)return;if(!b.isTouched||!b.isMoved){b.isTouched=!1,b.isMoved=!1;return}b.isTouched=!1,b.isMoved=!1;let K=300,W=300;const D=v.x*K,X=b.currentX+D,ce=v.y*W,le=b.currentY+ce;v.x!==0&&(K=Math.abs((X-b.currentX)/v.x)),v.y!==0&&(W=Math.abs((le-b.currentY)/v.y));const k=Math.max(K,W);b.currentX=X,b.currentY=le;const P=b.width*ee.scale,V=b.height*ee.scale;b.minX=Math.min(g.slideWidth/2-P/2,0),b.maxX=-b.minX,b.minY=Math.min(g.slideHeight/2-V/2,0),b.maxY=-b.minY,b.currentX=Math.max(Math.min(b.currentX,b.maxX),b.minX),b.currentY=Math.max(Math.min(b.currentY,b.maxY),b.minY),g.imageWrapEl.style.transitionDuration=`${k}ms`,g.imageWrapEl.style.transform=`translate3d(${b.currentX}px, ${b.currentY}px,0)`}function re(){const ee=e.zoom;g.slideEl&&e.activeIndex!==e.slides.indexOf(g.slideEl)&&(g.imageEl&&(g.imageEl.style.transform="translate3d(0,0,0) scale(1)"),g.imageWrapEl&&(g.imageWrapEl.style.transform="translate3d(0,0,0)"),g.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),ee.scale=1,a=1,g.slideEl=void 0,g.imageEl=void 0,g.imageWrapEl=void 0,g.originX=0,g.originY=0)}function N(ee){if(a<=1||!g.imageWrapEl||!A(ee)||!C(ee))return;const K=i.getComputedStyle(g.imageWrapEl).transform,W=new i.DOMMatrix(K);if(!l){l=!0,u.x=ee.clientX,u.y=ee.clientY,b.startX=W.e,b.startY=W.f,b.width=g.imageEl.offsetWidth||g.imageEl.clientWidth,b.height=g.imageEl.offsetHeight||g.imageEl.clientHeight,g.slideWidth=g.slideEl.offsetWidth,g.slideHeight=g.slideEl.offsetHeight;return}const D=(ee.clientX-u.x)*c,X=(ee.clientY-u.y)*c,ce=b.width*a,le=b.height*a,k=g.slideWidth,P=g.slideHeight,V=Math.min(k/2-ce/2,0),R=-V,H=Math.min(P/2-le/2,0),q=-H,ue=Math.max(Math.min(b.startX+D,R),V),Z=Math.max(Math.min(b.startY+X,q),H);g.imageWrapEl.style.transitionDuration="0ms",g.imageWrapEl.style.transform=`translate3d(${ue}px, ${Z}px, 0)`,u.x=ee.clientX,u.y=ee.clientY,b.startX=ue,b.startY=Z}function fe(ee){const K=e.zoom,W=e.params.zoom;if(!g.slideEl){ee&&ee.target&&(g.slideEl=ee.target.closest(`.${e.params.slideClass}, swiper-slide`)),g.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?g.slideEl=ar(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:g.slideEl=e.slides[e.activeIndex]);let h=g.slideEl.querySelector(`.${W.containerClass}`);h&&(h=h.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),g.imageEl=h,h?g.imageWrapEl=Vs(g.imageEl,`.${W.containerClass}`)[0]:g.imageWrapEl=void 0}if(!g.imageEl||!g.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),g.slideEl.classList.add(`${W.zoomedSlideClass}`);let D,X,ce,le,k,P,V,R,H,q,ue,Z,Y,se,Q,oe,me,Te;typeof b.touchesStart.x>"u"&&ee?(D=ee.pageX,X=ee.pageY):(D=b.touchesStart.x,X=b.touchesStart.y);const x=typeof ee=="number"?ee:null;a===1&&x&&(D=void 0,X=void 0,b.touchesStart.x=void 0,b.touchesStart.y=void 0);const m=y();K.scale=x||m,a=x||m,ee&&!(a===1&&x)?(me=g.slideEl.offsetWidth,Te=g.slideEl.offsetHeight,ce=xc(g.slideEl).left+i.scrollX,le=xc(g.slideEl).top+i.scrollY,k=ce+me/2-D,P=le+Te/2-X,H=g.imageEl.offsetWidth||g.imageEl.clientWidth,q=g.imageEl.offsetHeight||g.imageEl.clientHeight,ue=H*K.scale,Z=q*K.scale,Y=Math.min(me/2-ue/2,0),se=Math.min(Te/2-Z/2,0),Q=-Y,oe=-se,V=k*K.scale,R=P*K.scale,V<Y&&(V=Y),V>Q&&(V=Q),R<se&&(R=se),R>oe&&(R=oe)):(V=0,R=0),x&&K.scale===1&&(g.originX=0,g.originY=0),g.imageWrapEl.style.transitionDuration="300ms",g.imageWrapEl.style.transform=`translate3d(${V}px, ${R}px,0)`,g.imageEl.style.transitionDuration="300ms",g.imageEl.style.transform=`translate3d(0,0,0) scale(${K.scale})`}function G(){const ee=e.zoom,K=e.params.zoom;if(!g.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?g.slideEl=ar(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:g.slideEl=e.slides[e.activeIndex];let W=g.slideEl.querySelector(`.${K.containerClass}`);W&&(W=W.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),g.imageEl=W,W?g.imageWrapEl=Vs(g.imageEl,`.${K.containerClass}`)[0]:g.imageWrapEl=void 0}!g.imageEl||!g.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),ee.scale=1,a=1,b.touchesStart.x=void 0,b.touchesStart.y=void 0,g.imageWrapEl.style.transitionDuration="300ms",g.imageWrapEl.style.transform="translate3d(0,0,0)",g.imageEl.style.transitionDuration="300ms",g.imageEl.style.transform="translate3d(0,0,0) scale(1)",g.slideEl.classList.remove(`${K.zoomedSlideClass}`),g.slideEl=void 0,g.originX=0,g.originY=0,e.params.zoom.panOnMouseMove&&(u={x:0,y:0},l&&(l=!1,b.startX=0,b.startY=0)))}function pe(ee){const K=e.zoom;K.scale&&K.scale!==1?G():fe(ee)}function U(){const ee=e.params.passiveListeners?{passive:!0,capture:!1}:!1,K=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:ee,activeListenerWithCapture:K}}function de(){const ee=e.zoom;if(ee.enabled)return;ee.enabled=!0;const{passiveListener:K,activeListenerWithCapture:W}=U();e.wrapperEl.addEventListener("pointerdown",L,K),e.wrapperEl.addEventListener("pointermove",j,W),["pointerup","pointercancel","pointerout"].forEach(D=>{e.wrapperEl.addEventListener(D,F,K)}),e.wrapperEl.addEventListener("pointermove",J,W)}function xe(){const ee=e.zoom;if(!ee.enabled)return;ee.enabled=!1;const{passiveListener:K,activeListenerWithCapture:W}=U();e.wrapperEl.removeEventListener("pointerdown",L,K),e.wrapperEl.removeEventListener("pointermove",j,W),["pointerup","pointercancel","pointerout"].forEach(D=>{e.wrapperEl.removeEventListener(D,F,K)}),e.wrapperEl.removeEventListener("pointermove",J,W)}n("init",()=>{e.params.zoom.enabled&&de()}),n("destroy",()=>{xe()}),n("touchStart",(ee,K)=>{e.zoom.enabled&&B(K)}),n("touchEnd",(ee,K)=>{e.zoom.enabled&&ie()}),n("doubleTap",(ee,K)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&pe(K)}),n("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&re()}),n("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&re()}),Object.assign(e.zoom,{enable:de,disable:xe,in:fe,out:G,toggle:pe})}function Eq(t){let{swiper:e,extendParams:r,on:n}=t;r({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function s(u,c){const f=function(){let b,v,w;return(_,y)=>{for(v=-1,b=_.length;b-v>1;)w=b+v>>1,_[w]<=y?v=w:b=w;return b}}();this.x=u,this.y=c,this.lastIndex=u.length-1;let d,p;return this.interpolate=function(b){return b?(p=f(this.x,b),d=p-1,(b-this.x[d])*(this.y[p]-this.y[d])/(this.x[p]-this.x[d])+this.y[d]):0},this}function i(u){e.controller.spline=e.params.loop?new s(e.slidesGrid,u.slidesGrid):new s(e.snapGrid,u.snapGrid)}function a(u,c){const f=e.controller.control;let d,p;const g=e.constructor;function b(v){if(v.destroyed)return;const w=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(i(v),p=-e.controller.spline.interpolate(-w)),(!p||e.params.controller.by==="container")&&(d=(v.maxTranslate()-v.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(d)||!Number.isFinite(d))&&(d=1),p=(w-e.minTranslate())*d+v.minTranslate()),e.params.controller.inverse&&(p=v.maxTranslate()-p),v.updateProgress(p),v.setTranslate(p,e),v.updateActiveIndex(),v.updateSlidesClasses()}if(Array.isArray(f))for(let v=0;v<f.length;v+=1)f[v]!==c&&f[v]instanceof g&&b(f[v]);else f instanceof g&&c!==f&&b(f)}function o(u,c){const f=e.constructor,d=e.controller.control;let p;function g(b){b.destroyed||(b.setTransition(u,e),u!==0&&(b.transitionStart(),b.params.autoHeight&&Ks(()=>{b.updateAutoHeight()}),rl(b.wrapperEl,()=>{d&&b.transitionEnd()})))}if(Array.isArray(d))for(p=0;p<d.length;p+=1)d[p]!==c&&d[p]instanceof f&&g(d[p]);else d instanceof f&&c!==d&&g(d)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(c=>{if(e.controller.control||(e.controller.control=[]),c&&c.swiper)e.controller.control.push(c.swiper);else if(c){const f=`${e.params.eventsPrefix}init`,d=p=>{e.controller.control.push(p.detail[0]),e.update(),c.removeEventListener(f,d)};c.addEventListener(f,d)}});return}e.controller.control=e.params.controller.control}),n("update",()=>{l()}),n("resize",()=>{l()}),n("observerUpdate",()=>{l()}),n("setTranslate",(u,c,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(c,f)}),n("setTransition",(u,c,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(c,f)}),Object.assign(e.controller,{setTranslate:a,setTransition:o})}function Sq(t){let{swiper:e,extendParams:r,on:n}=t;r({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let s=null,i,a,o=new Date().getTime();function l(re){const N=s;N.length!==0&&(N.innerHTML="",N.innerHTML=re)}function u(re){const N=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(re).replace(/x/g,N)}function c(re){re=ut(re),re.forEach(N=>{N.setAttribute("tabIndex","0")})}function f(re){re=ut(re),re.forEach(N=>{N.setAttribute("tabIndex","-1")})}function d(re,N){re=ut(re),re.forEach(fe=>{fe.setAttribute("role",N)})}function p(re,N){re=ut(re),re.forEach(fe=>{fe.setAttribute("aria-roledescription",N)})}function g(re,N){re=ut(re),re.forEach(fe=>{fe.setAttribute("aria-controls",N)})}function b(re,N){re=ut(re),re.forEach(fe=>{fe.setAttribute("aria-label",N)})}function v(re,N){re=ut(re),re.forEach(fe=>{fe.setAttribute("id",N)})}function w(re,N){re=ut(re),re.forEach(fe=>{fe.setAttribute("aria-live",N)})}function _(re){re=ut(re),re.forEach(N=>{N.setAttribute("aria-disabled",!0)})}function y(re){re=ut(re),re.forEach(N=>{N.setAttribute("aria-disabled",!1)})}function S(re){if(re.keyCode!==13&&re.keyCode!==32)return;const N=e.params.a11y,fe=re.target;if(!(e.pagination&&e.pagination.el&&(fe===e.pagination.el||e.pagination.el.contains(re.target))&&!re.target.matches(li(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const G=ut(e.navigation.prevEl);ut(e.navigation.nextEl).includes(fe)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(N.lastSlideMessage):l(N.nextSlideMessage)),G.includes(fe)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(N.firstSlideMessage):l(N.prevSlideMessage))}e.pagination&&fe.matches(li(e.params.pagination.bulletClass))&&fe.click()}}function T(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:re,prevEl:N}=e.navigation;N&&(e.isBeginning?(_(N),f(N)):(y(N),c(N))),re&&(e.isEnd?(_(re),f(re)):(y(re),c(re)))}function A(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function C(){return A()&&e.params.pagination.clickable}function L(){const re=e.params.a11y;A()&&e.pagination.bullets.forEach(N=>{e.params.pagination.clickable&&(c(N),e.params.pagination.renderBullet||(d(N,"button"),b(N,re.paginationBulletMessage.replace(/\{\{index\}\}/,yl(N)+1)))),N.matches(li(e.params.pagination.bulletActiveClass))?N.setAttribute("aria-current","true"):N.removeAttribute("aria-current")})}const j=(re,N,fe)=>{c(re),re.tagName!=="BUTTON"&&(d(re,"button"),re.addEventListener("keydown",S)),b(re,fe),g(re,N)},F=re=>{a&&a!==re.target&&!a.contains(re.target)&&(i=!0),e.a11y.clicked=!0},$=()=>{i=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},I=re=>{o=new Date().getTime()},M=re=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-o<100)return;const N=re.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!N||!e.slides.includes(N))return;a=N;const fe=e.slides.indexOf(N)===e.activeIndex,G=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(N);fe||G||re.sourceCapabilities&&re.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{i||(e.params.loop?e.slideToLoop(parseInt(N.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(N),0),i=!1)}))},B=()=>{const re=e.params.a11y;re.itemRoleDescriptionMessage&&p(e.slides,re.itemRoleDescriptionMessage),re.slideRole&&d(e.slides,re.slideRole);const N=e.slides.length;re.slideLabelMessage&&e.slides.forEach((fe,G)=>{const pe=e.params.loop?parseInt(fe.getAttribute("data-swiper-slide-index"),10):G,U=re.slideLabelMessage.replace(/\{\{index\}\}/,pe+1).replace(/\{\{slidesLength\}\}/,N);b(fe,U)})},J=()=>{const re=e.params.a11y;e.el.append(s);const N=e.el;re.containerRoleDescriptionMessage&&p(N,re.containerRoleDescriptionMessage),re.containerMessage&&b(N,re.containerMessage),re.containerRole&&d(N,re.containerRole);const fe=e.wrapperEl,G=re.id||fe.getAttribute("id")||`swiper-wrapper-${u(16)}`,pe=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";v(fe,G),w(fe,pe),B();let{nextEl:U,prevEl:de}=e.navigation?e.navigation:{};U=ut(U),de=ut(de),U&&U.forEach(ee=>j(ee,G,re.nextSlideMessage)),de&&de.forEach(ee=>j(ee,G,re.prevSlideMessage)),C()&&ut(e.pagination.el).forEach(K=>{K.addEventListener("keydown",S)}),rr().addEventListener("visibilitychange",I),e.el.addEventListener("focus",M,!0),e.el.addEventListener("focus",M,!0),e.el.addEventListener("pointerdown",F,!0),e.el.addEventListener("pointerup",$,!0)};function ie(){s&&s.remove();let{nextEl:re,prevEl:N}=e.navigation?e.navigation:{};re=ut(re),N=ut(N),re&&re.forEach(G=>G.removeEventListener("keydown",S)),N&&N.forEach(G=>G.removeEventListener("keydown",S)),C()&&ut(e.pagination.el).forEach(pe=>{pe.removeEventListener("keydown",S)}),rr().removeEventListener("visibilitychange",I),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",M,!0),e.el.removeEventListener("pointerdown",F,!0),e.el.removeEventListener("pointerup",$,!0))}n("beforeInit",()=>{s=Hr("span",e.params.a11y.notificationClass),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true")}),n("afterInit",()=>{e.params.a11y.enabled&&J()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&B()}),n("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&T()}),n("paginationUpdate",()=>{e.params.a11y.enabled&&L()}),n("destroy",()=>{e.params.a11y.enabled&&ie()})}function xq(t){let{swiper:e,extendParams:r,on:n}=t;r({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let s=!1,i={};const a=p=>p.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),o=p=>{const g=Nt();let b;p?b=new URL(p):b=g.location;const v=b.pathname.slice(1).split("/").filter(S=>S!==""),w=v.length,_=v[w-2],y=v[w-1];return{key:_,value:y}},l=(p,g)=>{const b=Nt();if(!s||!e.params.history.enabled)return;let v;e.params.url?v=new URL(e.params.url):v=b.location;const w=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${g}"]`):e.slides[g];let _=a(w.getAttribute("data-history"));if(e.params.history.root.length>0){let S=e.params.history.root;S[S.length-1]==="/"&&(S=S.slice(0,S.length-1)),_=`${S}/${p?`${p}/`:""}${_}`}else v.pathname.includes(p)||(_=`${p?`${p}/`:""}${_}`);e.params.history.keepQuery&&(_+=v.search);const y=b.history.state;y&&y.value===_||(e.params.history.replaceState?b.history.replaceState({value:_},null,_):b.history.pushState({value:_},null,_))},u=(p,g,b)=>{if(g)for(let v=0,w=e.slides.length;v<w;v+=1){const _=e.slides[v];if(a(_.getAttribute("data-history"))===g){const S=e.getSlideIndex(_);e.slideTo(S,p,b)}}else e.slideTo(0,p,b)},c=()=>{i=o(e.params.url),u(e.params.speed,i.value,!1)},f=()=>{const p=Nt();if(e.params.history){if(!p.history||!p.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(s=!0,i=o(e.params.url),!i.key&&!i.value){e.params.history.replaceState||p.addEventListener("popstate",c);return}u(0,i.value,e.params.runCallbacksOnInit),e.params.history.replaceState||p.addEventListener("popstate",c)}},d=()=>{const p=Nt();e.params.history.replaceState||p.removeEventListener("popstate",c)};n("init",()=>{e.params.history.enabled&&f()}),n("destroy",()=>{e.params.history.enabled&&d()}),n("transitionEnd _freeModeNoMomentumRelease",()=>{s&&l(e.params.history.key,e.activeIndex)}),n("slideChange",()=>{s&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function Tq(t){let{swiper:e,extendParams:r,emit:n,on:s}=t,i=!1;const a=rr(),o=Nt();r({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(d,p){if(e.virtual&&e.params.virtual.enabled){const g=e.slides.find(v=>v.getAttribute("data-hash")===p);return g?parseInt(g.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(ar(e.slidesEl,`.${e.params.slideClass}[data-hash="${p}"], swiper-slide[data-hash="${p}"]`)[0])}}});const l=()=>{n("hashChange");const d=a.location.hash.replace("#",""),p=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],g=p?p.getAttribute("data-hash"):"";if(d!==g){const b=e.params.hashNavigation.getSlideIndex(e,d);if(typeof b>"u"||Number.isNaN(b))return;e.slideTo(b)}},u=()=>{if(!i||!e.params.hashNavigation.enabled)return;const d=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],p=d?d.getAttribute("data-hash")||d.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&o.history&&o.history.replaceState?(o.history.replaceState(null,null,`#${p}`||""),n("hashSet")):(a.location.hash=p||"",n("hashSet"))},c=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;i=!0;const d=a.location.hash.replace("#","");if(d){const g=e.params.hashNavigation.getSlideIndex(e,d);e.slideTo(g||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&o.addEventListener("hashchange",l)},f=()=>{e.params.hashNavigation.watchState&&o.removeEventListener("hashchange",l)};s("init",()=>{e.params.hashNavigation.enabled&&c()}),s("destroy",()=>{e.params.hashNavigation.enabled&&f()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{i&&u()}),s("slideChange",()=>{i&&e.params.cssMode&&u()})}function Aq(t){let{swiper:e,extendParams:r,on:n,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,o,l=i&&i.autoplay?i.autoplay.delay:3e3,u=i&&i.autoplay?i.autoplay.delay:3e3,c,f=new Date().getTime(),d,p,g,b,v,w,_;function y(N){!e||e.destroyed||!e.wrapperEl||N.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),!(_||N.detail&&N.detail.bySwiperTouchMove)&&F())}const S=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?d=!0:d&&(u=c,d=!1);const N=e.autoplay.paused?c:f+u-new Date().getTime();e.autoplay.timeLeft=N,s("autoplayTimeLeft",N,N/l),o=requestAnimationFrame(()=>{S()})},T=()=>{let N;return e.virtual&&e.params.virtual.enabled?N=e.slides.find(G=>G.classList.contains("swiper-slide-active")):N=e.slides[e.activeIndex],N?parseInt(N.getAttribute("data-swiper-autoplay"),10):void 0},A=N=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),S();let fe=typeof N>"u"?e.params.autoplay.delay:N;l=e.params.autoplay.delay,u=e.params.autoplay.delay;const G=T();!Number.isNaN(G)&&G>0&&typeof N>"u"&&(fe=G,l=G,u=G),c=fe;const pe=e.params.speed,U=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(pe,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,pe,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(pe,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,pe,!0,!0),s("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{A()})))};return fe>0?(clearTimeout(a),a=setTimeout(()=>{U()},fe)):requestAnimationFrame(()=>{U()}),fe},C=()=>{f=new Date().getTime(),e.autoplay.running=!0,A(),s("autoplayStart")},L=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(o),s("autoplayStop")},j=(N,fe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),N||(w=!0);const G=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):F()};if(e.autoplay.paused=!0,fe){v&&(c=e.params.autoplay.delay),v=!1,G();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),G())},F=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),w?(w=!1,A(c)):A(),e.autoplay.paused=!1,s("autoplayResume"))},$=()=>{if(e.destroyed||!e.autoplay.running)return;const N=rr();N.visibilityState==="hidden"&&(w=!0,j(!0)),N.visibilityState==="visible"&&F()},I=N=>{N.pointerType==="mouse"&&(w=!0,_=!0,!(e.animating||e.autoplay.paused)&&j(!0))},M=N=>{N.pointerType==="mouse"&&(_=!1,e.autoplay.paused&&F())},B=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",M))},J=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",M))},ie=()=>{rr().addEventListener("visibilitychange",$)},re=()=>{rr().removeEventListener("visibilitychange",$)};n("init",()=>{e.params.autoplay.enabled&&(B(),ie(),C())}),n("destroy",()=>{J(),re(),e.autoplay.running&&L()}),n("_freeModeStaticRelease",()=>{(g||w)&&F()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?L():j(!0,!0)}),n("beforeTransitionStart",(N,fe,G)=>{e.destroyed||!e.autoplay.running||(G||!e.params.autoplay.disableOnInteraction?j(!0,!0):L())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){L();return}p=!0,g=!1,w=!1,b=setTimeout(()=>{w=!0,g=!0,j(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(b),clearTimeout(a),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&F(),g=!1,p=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:C,stop:L,pause:j,resume:F})}function Cq(t){let{swiper:e,extendParams:r,on:n}=t;r({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,i=!1;e.thumbs={swiper:null};function a(){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const c=u.clickedIndex,f=u.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof c>"u"||c===null)return;let d;u.params.loop?d=parseInt(u.clickedSlide.getAttribute("data-swiper-slide-index"),10):d=c,e.params.loop?e.slideToLoop(d):e.slideTo(d)}function o(){const{thumbs:u}=e.params;if(s)return!1;s=!0;const c=e.constructor;if(u.swiper instanceof c)e.thumbs.swiper=u.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(za(u.swiper)){const f=Object.assign({},u.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new c(f),i=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function l(u){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const f=c.params.slidesPerView==="auto"?c.slidesPerViewDynamic():c.params.slidesPerView;let d=1;const p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(d=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(d=1),d=Math.floor(d),c.slides.forEach(v=>v.classList.remove(p)),c.params.loop||c.params.virtual&&c.params.virtual.enabled)for(let v=0;v<d;v+=1)ar(c.slidesEl,`[data-swiper-slide-index="${e.realIndex+v}"]`).forEach(w=>{w.classList.add(p)});else for(let v=0;v<d;v+=1)c.slides[e.realIndex+v]&&c.slides[e.realIndex+v].classList.add(p);const g=e.params.thumbs.autoScrollOffset,b=g&&!c.params.loop;if(e.realIndex!==c.realIndex||b){const v=c.activeIndex;let w,_;if(c.params.loop){const y=c.slides.find(S=>S.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);w=c.slides.indexOf(y),_=e.activeIndex>e.previousIndex?"next":"prev"}else w=e.realIndex,_=w>e.previousIndex?"next":"prev";b&&(w+=_==="next"?g:-1*g),c.visibleSlidesIndexes&&c.visibleSlidesIndexes.indexOf(w)<0&&(c.params.centeredSlides?w>v?w=w-Math.floor(f/2)+1:w=w+Math.floor(f/2)-1:w>v&&c.params.slidesPerGroup,c.slideTo(w,u?0:void 0))}}n("beforeInit",()=>{const{thumbs:u}=e.params;if(!(!u||!u.swiper))if(typeof u.swiper=="string"||u.swiper instanceof HTMLElement){const c=rr(),f=()=>{const p=typeof u.swiper=="string"?c.querySelector(u.swiper):u.swiper;if(p&&p.swiper)u.swiper=p.swiper,o(),l(!0);else if(p){const g=`${e.params.eventsPrefix}init`,b=v=>{u.swiper=v.detail[0],p.removeEventListener(g,b),o(),l(!0),u.swiper.update(),e.update()};p.addEventListener(g,b)}return p},d=()=>{if(e.destroyed)return;f()||requestAnimationFrame(d)};requestAnimationFrame(d)}else o(),l(!0)}),n("slideChange update resize observerUpdate",()=>{l()}),n("setTransition",(u,c)=>{const f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(c)}),n("beforeDestroy",()=>{const u=e.thumbs.swiper;!u||u.destroyed||i&&u.destroy()}),Object.assign(e.thumbs,{init:o,update:l})}function Iq(t){let{swiper:e,extendParams:r,emit:n,once:s}=t;r({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function i(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function a(){if(e.params.cssMode)return;const{touchEventsData:l,touches:u}=e;l.velocities.length===0&&l.velocities.push({position:u[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:u[e.isHorizontal()?"currentX":"currentY"],time:rn()})}function o(l){let{currentPos:u}=l;if(e.params.cssMode)return;const{params:c,wrapperEl:f,rtlTranslate:d,snapGrid:p,touchEventsData:g}=e,v=rn()-g.touchStartTime;if(u<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(u>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(c.freeMode.momentum){if(g.velocities.length>1){const L=g.velocities.pop(),j=g.velocities.pop(),F=L.position-j.position,$=L.time-j.time;e.velocity=F/$,e.velocity/=2,Math.abs(e.velocity)<c.freeMode.minimumVelocity&&(e.velocity=0),($>150||rn()-L.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=c.freeMode.momentumVelocityRatio,g.velocities.length=0;let w=1e3*c.freeMode.momentumRatio;const _=e.velocity*w;let y=e.translate+_;d&&(y=-y);let S=!1,T;const A=Math.abs(e.velocity)*20*c.freeMode.momentumBounceRatio;let C;if(y<e.maxTranslate())c.freeMode.momentumBounce?(y+e.maxTranslate()<-A&&(y=e.maxTranslate()-A),T=e.maxTranslate(),S=!0,g.allowMomentumBounce=!0):y=e.maxTranslate(),c.loop&&c.centeredSlides&&(C=!0);else if(y>e.minTranslate())c.freeMode.momentumBounce?(y-e.minTranslate()>A&&(y=e.minTranslate()+A),T=e.minTranslate(),S=!0,g.allowMomentumBounce=!0):y=e.minTranslate(),c.loop&&c.centeredSlides&&(C=!0);else if(c.freeMode.sticky){let L;for(let j=0;j<p.length;j+=1)if(p[j]>-y){L=j;break}Math.abs(p[L]-y)<Math.abs(p[L-1]-y)||e.swipeDirection==="next"?y=p[L]:y=p[L-1],y=-y}if(C&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(d?w=Math.abs((-y-e.translate)/e.velocity):w=Math.abs((y-e.translate)/e.velocity),c.freeMode.sticky){const L=Math.abs((d?-y:y)-e.translate),j=e.slidesSizesGrid[e.activeIndex];L<j?w=c.speed:L<2*j?w=c.speed*1.5:w=c.speed*2.5}}else if(c.freeMode.sticky){e.slideToClosest();return}c.freeMode.momentumBounce&&S?(e.updateProgress(T),e.setTransition(w),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,rl(f,()=>{!e||e.destroyed||!g.allowMomentumBounce||(n("momentumBounce"),e.setTransition(c.speed),setTimeout(()=>{e.setTranslate(T),rl(f,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(n("_freeModeNoMomentumRelease"),e.updateProgress(y),e.setTransition(w),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,rl(f,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(y),e.updateActiveIndex(),e.updateSlidesClasses()}else if(c.freeMode.sticky){e.slideToClosest();return}else c.freeMode&&n("_freeModeNoMomentumRelease");(!c.freeMode.momentum||v>=c.longSwipesMs)&&(n("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:i,onTouchMove:a,onTouchEnd:o}})}function Mq(t){let{swiper:e,extendParams:r,on:n}=t;r({grid:{rows:1,fill:"column"}});let s,i,a,o;const l=()=>{let b=e.params.spaceBetween;return typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*e.size:typeof b=="string"&&(b=parseFloat(b)),b},u=b=>{const{slidesPerView:v}=e.params,{rows:w,fill:_}=e.params.grid,y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:b.length;a=Math.floor(y/w),Math.floor(y/w)===y/w?s=y:s=Math.ceil(y/w)*w,v!=="auto"&&_==="row"&&(s=Math.max(s,v*w)),i=s/w},c=()=>{e.slides&&e.slides.forEach(b=>{b.swiperSlideGridSet&&(b.style.height="",b.style[e.getDirectionLabel("margin-top")]="")})},f=(b,v,w)=>{const{slidesPerGroup:_}=e.params,y=l(),{rows:S,fill:T}=e.params.grid,A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:w.length;let C,L,j;if(T==="row"&&_>1){const F=Math.floor(b/(_*S)),$=b-S*_*F,I=F===0?_:Math.min(Math.ceil((A-F*S*_)/S),_);j=Math.floor($/I),L=$-j*I+F*_,C=L+j*s/S,v.style.order=C}else T==="column"?(L=Math.floor(b/S),j=b-L*S,(L>a||L===a&&j===S-1)&&(j+=1,j>=S&&(j=0,L+=1))):(j=Math.floor(b/i),L=b-j*i);v.row=j,v.column=L,v.style.height=`calc((100% - ${(S-1)*y}px) / ${S})`,v.style[e.getDirectionLabel("margin-top")]=j!==0?y&&`${y}px`:"",v.swiperSlideGridSet=!0},d=(b,v)=>{const{centeredSlides:w,roundLengths:_}=e.params,y=l(),{rows:S}=e.params.grid;if(e.virtualSize=(b+y)*s,e.virtualSize=Math.ceil(e.virtualSize/S)-y,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+y}px`),w){const T=[];for(let A=0;A<v.length;A+=1){let C=v[A];_&&(C=Math.floor(C)),v[A]<e.virtualSize+v[0]&&T.push(C)}v.splice(0,v.length),v.push(...T)}},p=()=>{o=e.params.grid&&e.params.grid.rows>1},g=()=>{const{params:b,el:v}=e,w=b.grid&&b.grid.rows>1;o&&!w?(v.classList.remove(`${b.containerModifierClass}grid`,`${b.containerModifierClass}grid-column`),a=1,e.emitContainerClasses()):!o&&w&&(v.classList.add(`${b.containerModifierClass}grid`),b.grid.fill==="column"&&v.classList.add(`${b.containerModifierClass}grid-column`),e.emitContainerClasses()),o=w};n("init",p),n("update",g),e.grid={initSlides:u,unsetSlides:c,updateSlide:f,updateWrapperSize:d}}function kq(t){const e=this,{params:r,slidesEl:n}=e;r.loop&&e.loopDestroy();const s=i=>{if(typeof i=="string"){const a=document.createElement("div");a.innerHTML=i,n.append(a.children[0]),a.innerHTML=""}else n.append(i)};if(typeof t=="object"&&"length"in t)for(let i=0;i<t.length;i+=1)t[i]&&s(t[i]);else s(t);e.recalcSlides(),r.loop&&e.loopCreate(),(!r.observer||e.isElement)&&e.update()}function Pq(t){const e=this,{params:r,activeIndex:n,slidesEl:s}=e;r.loop&&e.loopDestroy();let i=n+1;const a=o=>{if(typeof o=="string"){const l=document.createElement("div");l.innerHTML=o,s.prepend(l.children[0]),l.innerHTML=""}else s.prepend(o)};if(typeof t=="object"&&"length"in t){for(let o=0;o<t.length;o+=1)t[o]&&a(t[o]);i=n+t.length}else a(t);e.recalcSlides(),r.loop&&e.loopCreate(),(!r.observer||e.isElement)&&e.update(),e.slideTo(i,0,!1)}function Oq(t,e){const r=this,{params:n,activeIndex:s,slidesEl:i}=r;let a=s;n.loop&&(a-=r.loopedSlides,r.loopDestroy(),r.recalcSlides());const o=r.slides.length;if(t<=0){r.prependSlide(e);return}if(t>=o){r.appendSlide(e);return}let l=a>t?a+1:a;const u=[];for(let c=o-1;c>=t;c-=1){const f=r.slides[c];f.remove(),u.unshift(f)}if(typeof e=="object"&&"length"in e){for(let c=0;c<e.length;c+=1)e[c]&&i.append(e[c]);l=a>t?a+e.length:a}else i.append(e);for(let c=0;c<u.length;c+=1)i.append(u[c]);r.recalcSlides(),n.loop&&r.loopCreate(),(!n.observer||r.isElement)&&r.update(),n.loop?r.slideTo(l+r.loopedSlides,0,!1):r.slideTo(l,0,!1)}function Lq(t){const e=this,{params:r,activeIndex:n}=e;let s=n;r.loop&&(s-=e.loopedSlides,e.loopDestroy());let i=s,a;if(typeof t=="object"&&"length"in t){for(let o=0;o<t.length;o+=1)a=t[o],e.slides[a]&&e.slides[a].remove(),a<i&&(i-=1);i=Math.max(i,0)}else a=t,e.slides[a]&&e.slides[a].remove(),a<i&&(i-=1),i=Math.max(i,0);e.recalcSlides(),r.loop&&e.loopCreate(),(!r.observer||e.isElement)&&e.update(),r.loop?e.slideTo(i+e.loopedSlides,0,!1):e.slideTo(i,0,!1)}function Rq(){const t=this,e=[];for(let r=0;r<t.slides.length;r+=1)e.push(r);t.removeSlide(e)}function Bq(t){let{swiper:e}=t;Object.assign(e,{appendSlide:kq.bind(e),prependSlide:Pq.bind(e),addSlide:Oq.bind(e),removeSlide:Lq.bind(e),removeAllSlides:Rq.bind(e)})}function ga(t){const{effect:e,swiper:r,on:n,setTranslate:s,setTransition:i,overwriteParams:a,perspective:o,recreateShadows:l,getEffectParams:u}=t;n("beforeInit",()=>{if(r.params.effect!==e)return;r.classNames.push(`${r.params.containerModifierClass}${e}`),o&&o()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const f=a?a():{};Object.assign(r.params,f),Object.assign(r.originalParams,f)}),n("setTranslate",()=>{r.params.effect===e&&s()}),n("setTransition",(f,d)=>{r.params.effect===e&&i(d)}),n("transitionEnd",()=>{if(r.params.effect===e&&l){if(!u||!u().slideShadows)return;r.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>d.remove())}),l()}});let c;n("virtualUpdate",()=>{r.params.effect===e&&(r.slides.length||(c=!0),requestAnimationFrame(()=>{c&&r.slides&&r.slides.length&&(s(),c=!1)}))})}function Dl(t,e){const r=lo(e);return r!==e&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function mf(t){let{swiper:e,duration:r,transformElements:n,allSlides:s}=t;const{activeIndex:i}=e,a=o=>o.parentElement?o.parentElement:e.slides.find(u=>u.shadowRoot&&u.shadowRoot===o.parentNode);if(e.params.virtualTranslate&&r!==0){let o=!1,l;s?l=n:l=n.filter(u=>{const c=u.classList.contains("swiper-slide-transform")?a(u):u;return e.getSlideIndex(c)===i}),l.forEach(u=>{rl(u,()=>{if(o||!e||e.destroyed)return;o=!0,e.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(c)})})}}function $q(t){let{swiper:e,extendParams:r,on:n}=t;r({fadeEffect:{crossFade:!1}}),ga({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:a}=e,o=e.params.fadeEffect;for(let l=0;l<a.length;l+=1){const u=e.slides[l];let f=-u.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let d=0;e.isHorizontal()||(d=f,f=0);const p=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(u.progress),0):1+Math.min(Math.max(u.progress,-1),0),g=Dl(o,u);g.style.opacity=p,g.style.transform=`translate3d(${f}px, ${d}px, 0px)`}},setTransition:a=>{const o=e.slides.map(l=>lo(l));o.forEach(l=>{l.style.transitionDuration=`${a}ms`}),mf({swiper:e,duration:a,transformElements:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Nq(t){let{swiper:e,extendParams:r,on:n}=t;r({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const s=(l,u,c)=>{let f=c?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=c?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");f||(f=Hr("div",`swiper-slide-shadow-cube swiper-slide-shadow-${c?"left":"top"}`.split(" ")),l.append(f)),d||(d=Hr("div",`swiper-slide-shadow-cube swiper-slide-shadow-${c?"right":"bottom"}`.split(" ")),l.append(d)),f&&(f.style.opacity=Math.max(-u,0)),d&&(d.style.opacity=Math.max(u,0))};ga({effect:"cube",swiper:e,on:n,setTranslate:()=>{const{el:l,wrapperEl:u,slides:c,width:f,height:d,rtlTranslate:p,size:g,browser:b}=e,v=af(e),w=e.params.cubeEffect,_=e.isHorizontal(),y=e.virtual&&e.params.virtual.enabled;let S=0,T;w.shadow&&(_?(T=e.wrapperEl.querySelector(".swiper-cube-shadow"),T||(T=Hr("div","swiper-cube-shadow"),e.wrapperEl.append(T)),T.style.height=`${f}px`):(T=l.querySelector(".swiper-cube-shadow"),T||(T=Hr("div","swiper-cube-shadow"),l.append(T))));for(let C=0;C<c.length;C+=1){const L=c[C];let j=C;y&&(j=parseInt(L.getAttribute("data-swiper-slide-index"),10));let F=j*90,$=Math.floor(F/360);p&&(F=-F,$=Math.floor(-F/360));const I=Math.max(Math.min(L.progress,1),-1);let M=0,B=0,J=0;j%4===0?(M=-$*4*g,J=0):(j-1)%4===0?(M=0,J=-$*4*g):(j-2)%4===0?(M=g+$*4*g,J=g):(j-3)%4===0&&(M=-g,J=3*g+g*4*$),p&&(M=-M),_||(B=M,M=0);const ie=`rotateX(${v(_?0:-F)}deg) rotateY(${v(_?F:0)}deg) translate3d(${M}px, ${B}px, ${J}px)`;I<=1&&I>-1&&(S=j*90+I*90,p&&(S=-j*90-I*90)),L.style.transform=ie,w.slideShadows&&s(L,I,_)}if(u.style.transformOrigin=`50% 50% -${g/2}px`,u.style["-webkit-transform-origin"]=`50% 50% -${g/2}px`,w.shadow)if(_)T.style.transform=`translate3d(0px, ${f/2+w.shadowOffset}px, ${-f/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${w.shadowScale})`;else{const C=Math.abs(S)-Math.floor(Math.abs(S)/90)*90,L=1.5-(Math.sin(C*2*Math.PI/360)/2+Math.cos(C*2*Math.PI/360)/2),j=w.shadowScale,F=w.shadowScale/L,$=w.shadowOffset;T.style.transform=`scale3d(${j}, 1, ${F}) translate3d(0px, ${d/2+$}px, ${-d/2/F}px) rotateX(-89.99deg)`}const A=(b.isSafari||b.isWebView)&&b.needPerspectiveFix?-g/2:0;u.style.transform=`translate3d(0px,0,${A}px) rotateX(${v(e.isHorizontal()?0:S)}deg) rotateY(${v(e.isHorizontal()?-S:0)}deg)`,u.style.setProperty("--swiper-cube-translate-z",`${A}px`)},setTransition:l=>{const{el:u,slides:c}=e;if(c.forEach(f=>{f.style.transitionDuration=`${l}ms`,f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const f=u.querySelector(".swiper-cube-shadow");f&&(f.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(u=>{const c=Math.max(Math.min(u.progress,1),-1);s(u,c,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function ra(t,e,r){const n=`swiper-slide-shadow${r?`-${r}`:""}${t?` swiper-slide-shadow-${t}`:""}`,s=lo(e);let i=s.querySelector(`.${n.split(" ").join(".")}`);return i||(i=Hr("div",n.split(" ")),s.append(i)),i}function Dq(t){let{swiper:e,extendParams:r,on:n}=t;r({flipEffect:{slideShadows:!0,limitRotation:!0}});const s=(l,u)=>{let c=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");c||(c=ra("flip",l,e.isHorizontal()?"left":"top")),f||(f=ra("flip",l,e.isHorizontal()?"right":"bottom")),c&&(c.style.opacity=Math.max(-u,0)),f&&(f.style.opacity=Math.max(u,0))};ga({effect:"flip",swiper:e,on:n,setTranslate:()=>{const{slides:l,rtlTranslate:u}=e,c=e.params.flipEffect,f=af(e);for(let d=0;d<l.length;d+=1){const p=l[d];let g=p.progress;e.params.flipEffect.limitRotation&&(g=Math.max(Math.min(p.progress,1),-1));const b=p.swiperSlideOffset;let w=-180*g,_=0,y=e.params.cssMode?-b-e.translate:-b,S=0;e.isHorizontal()?u&&(w=-w):(S=y,y=0,_=-w,w=0),p.style.zIndex=-Math.abs(Math.round(g))+l.length,c.slideShadows&&s(p,g);const T=`translate3d(${y}px, ${S}px, 0px) rotateX(${f(_)}deg) rotateY(${f(w)}deg)`,A=Dl(c,p);A.style.transform=T}},setTransition:l=>{const u=e.slides.map(c=>lo(c));u.forEach(c=>{c.style.transitionDuration=`${l}ms`,c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),mf({swiper:e,duration:l,transformElements:u})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let u=l.progress;e.params.flipEffect.limitRotation&&(u=Math.max(Math.min(l.progress,1),-1)),s(l,u)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Uq(t){let{swiper:e,extendParams:r,on:n}=t;r({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ga({effect:"coverflow",swiper:e,on:n,setTranslate:()=>{const{width:a,height:o,slides:l,slidesSizesGrid:u}=e,c=e.params.coverflowEffect,f=e.isHorizontal(),d=e.translate,p=f?-d+a/2:-d+o/2,g=f?c.rotate:-c.rotate,b=c.depth,v=af(e);for(let w=0,_=l.length;w<_;w+=1){const y=l[w],S=u[w],T=y.swiperSlideOffset,A=(p-T-S/2)/S,C=typeof c.modifier=="function"?c.modifier(A):A*c.modifier;let L=f?g*C:0,j=f?0:g*C,F=-b*Math.abs(C),$=c.stretch;typeof $=="string"&&$.indexOf("%")!==-1&&($=parseFloat(c.stretch)/100*S);let I=f?0:$*C,M=f?$*C:0,B=1-(1-c.scale)*Math.abs(C);Math.abs(M)<.001&&(M=0),Math.abs(I)<.001&&(I=0),Math.abs(F)<.001&&(F=0),Math.abs(L)<.001&&(L=0),Math.abs(j)<.001&&(j=0),Math.abs(B)<.001&&(B=0);const J=`translate3d(${M}px,${I}px,${F}px)  rotateX(${v(j)}deg) rotateY(${v(L)}deg) scale(${B})`,ie=Dl(c,y);if(ie.style.transform=J,y.style.zIndex=-Math.abs(Math.round(C))+1,c.slideShadows){let re=f?y.querySelector(".swiper-slide-shadow-left"):y.querySelector(".swiper-slide-shadow-top"),N=f?y.querySelector(".swiper-slide-shadow-right"):y.querySelector(".swiper-slide-shadow-bottom");re||(re=ra("coverflow",y,f?"left":"top")),N||(N=ra("coverflow",y,f?"right":"bottom")),re&&(re.style.opacity=C>0?C:0),N&&(N.style.opacity=-C>0?-C:0)}}},setTransition:a=>{e.slides.map(l=>lo(l)).forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>{u.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function Fq(t){let{swiper:e,extendParams:r,on:n}=t;r({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const s=o=>typeof o=="string"?o:`${o}px`;ga({effect:"creative",swiper:e,on:n,setTranslate:()=>{const{slides:o,wrapperEl:l,slidesSizesGrid:u}=e,c=e.params.creativeEffect,{progressMultiplier:f}=c,d=e.params.centeredSlides,p=af(e);if(d){const g=u[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${g}px))`}for(let g=0;g<o.length;g+=1){const b=o[g],v=b.progress,w=Math.min(Math.max(b.progress,-c.limitProgress),c.limitProgress);let _=w;d||(_=Math.min(Math.max(b.originalProgress,-c.limitProgress),c.limitProgress));const y=b.swiperSlideOffset,S=[e.params.cssMode?-y-e.translate:-y,0,0],T=[0,0,0];let A=!1;e.isHorizontal()||(S[1]=S[0],S[0]=0);let C={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};w<0?(C=c.next,A=!0):w>0&&(C=c.prev,A=!0),S.forEach((B,J)=>{S[J]=`calc(${B}px + (${s(C.translate[J])} * ${Math.abs(w*f)}))`}),T.forEach((B,J)=>{let ie=C.rotate[J]*Math.abs(w*f);T[J]=ie}),b.style.zIndex=-Math.abs(Math.round(v))+o.length;const L=S.join(", "),j=`rotateX(${p(T[0])}deg) rotateY(${p(T[1])}deg) rotateZ(${p(T[2])}deg)`,F=_<0?`scale(${1+(1-C.scale)*_*f})`:`scale(${1-(1-C.scale)*_*f})`,$=_<0?1+(1-C.opacity)*_*f:1-(1-C.opacity)*_*f,I=`translate3d(${L}) ${j} ${F}`;if(A&&C.shadow||!A){let B=b.querySelector(".swiper-slide-shadow");if(!B&&C.shadow&&(B=ra("creative",b)),B){const J=c.shadowPerProgress?w*(1/c.limitProgress):w;B.style.opacity=Math.min(Math.max(Math.abs(J),0),1)}}const M=Dl(c,b);M.style.transform=I,M.style.opacity=$,C.origin&&(M.style.transformOrigin=C.origin)}},setTransition:o=>{const l=e.slides.map(u=>lo(u));l.forEach(u=>{u.style.transitionDuration=`${o}ms`,u.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),mf({swiper:e,duration:o,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function Vq(t){let{swiper:e,extendParams:r,on:n}=t;r({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ga({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:a,activeIndex:o,rtlTranslate:l}=e,u=e.params.cardsEffect,{startTranslate:c,isTouched:f}=e.touchEventsData,d=l?-e.translate:e.translate;for(let p=0;p<a.length;p+=1){const g=a[p],b=g.progress,v=Math.min(Math.max(b,-4),4);let w=g.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(w-=a[0].swiperSlideOffset);let _=e.params.cssMode?-w-e.translate:-w,y=0;const S=-100*Math.abs(v);let T=1,A=-u.perSlideRotate*v,C=u.perSlideOffset-Math.abs(v)*.75;const L=e.virtual&&e.params.virtual.enabled?e.virtual.from+p:p,j=(L===o||L===o-1)&&v>0&&v<1&&(f||e.params.cssMode)&&d<c,F=(L===o||L===o+1)&&v<0&&v>-1&&(f||e.params.cssMode)&&d>c;if(j||F){const B=(1-Math.abs((Math.abs(v)-.5)/.5))**.5;A+=-28*v*B,T+=-.5*B,C+=96*B,y=`${-25*B*Math.abs(v)}%`}if(v<0?_=`calc(${_}px ${l?"-":"+"} (${C*Math.abs(v)}%))`:v>0?_=`calc(${_}px ${l?"-":"+"} (-${C*Math.abs(v)}%))`:_=`${_}px`,!e.isHorizontal()){const B=y;y=_,_=B}const $=v<0?`${1+(1-T)*v}`:`${1-(1-T)*v}`,I=`
        translate3d(${_}, ${y}, ${S}px)
        rotateZ(${u.rotate?l?-A:A:0}deg)
        scale(${$})
      `;if(u.slideShadows){let B=g.querySelector(".swiper-slide-shadow");B||(B=ra("cards",g)),B&&(B.style.opacity=Math.min(Math.max((Math.abs(v)-.5)/.5,0),1))}g.style.zIndex=-Math.abs(Math.round(b))+a.length;const M=Dl(u,g);M.style.transform=I}},setTransition:a=>{const o=e.slides.map(l=>lo(l));o.forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),mf({swiper:e,duration:a,transformElements:o})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const jq=[pq,gq,mq,bq,yq,wq,vq,_q,Eq,Sq,xq,Tq,Aq,Cq,Iq,Mq,Bq,$q,Nq,Dq,Uq,Fq,Vq];Vr.use(jq);const bf=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function na(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ig(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:na(e[n])&&na(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:Ig(t[n],e[n]):t[n]=e[n]})}function Wq(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function zq(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Hq(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function qu(t){return t===void 0&&(t=""),t.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function qq(t){let{swiper:e,slides:r,passedParams:n,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:o,paginationEl:l}=t;const u=s.filter(j=>j!=="children"&&j!=="direction"&&j!=="wrapperClass"),{params:c,pagination:f,navigation:d,scrollbar:p,virtual:g,thumbs:b}=e;let v,w,_,y,S,T,A,C;s.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(v=!0),s.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(w=!0),s.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(_=!0),s.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&p&&!p.el&&(y=!0),s.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(c.navigation||c.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(S=!0);const L=j=>{e[j]&&(e[j].destroy(),j==="navigation"?(e.isElement&&(e[j].prevEl.remove(),e[j].nextEl.remove()),c[j].prevEl=void 0,c[j].nextEl=void 0,e[j].prevEl=void 0,e[j].nextEl=void 0):(e.isElement&&e[j].el.remove(),c[j].el=void 0,e[j].el=void 0))};s.includes("loop")&&e.isElement&&(c.loop&&!n.loop?T=!0:!c.loop&&n.loop?A=!0:C=!0),u.forEach(j=>{if(na(c[j])&&na(n[j]))Object.assign(c[j],n[j]),(j==="navigation"||j==="pagination"||j==="scrollbar")&&"enabled"in n[j]&&!n[j].enabled&&L(j);else{const F=n[j];(F===!0||F===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?F===!1&&L(j):c[j]=n[j]}}),u.includes("controller")&&!w&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),s.includes("children")&&r&&g&&c.virtual.enabled?(g.slides=r,g.update(!0)):s.includes("virtual")&&g&&c.virtual.enabled&&(r&&(g.slides=r),g.update(!0)),s.includes("children")&&r&&c.loop&&(C=!0),v&&b.init()&&b.update(!0),w&&(e.controller.control=c.controller.control),_&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),y&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(c.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),S&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),i&&(c.navigation.nextEl=i),a&&(c.navigation.prevEl=a),d.init(),d.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),s.includes("direction")&&e.changeDirection(n.direction,!1),(T||C)&&e.loopDestroy(),(A||C)&&e.loopCreate(),e.update()}const v0=t=>{if(parseFloat(t)===Number(t))return Number(t);if(t==="true"||t==="")return!0;if(t==="false")return!1;if(t==="null")return null;if(t!=="undefined"){if(typeof t=="string"&&t.includes("{")&&t.includes("}")&&t.includes('"')){let e;try{e=JSON.parse(t)}catch{e=t}return e}return t}},_0=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function E0(t,e,r){const n={},s={};Ig(n,wg);const i=[...bf,"on"],a=i.map(l=>l.replace(/_/,""));i.forEach(l=>{l=l.replace("_",""),typeof t[l]<"u"&&(s[l]=t[l])});const o=[...t.attributes];return typeof e=="string"&&typeof r<"u"&&o.push({name:e,value:na(r)?{...r}:r}),o.forEach(l=>{const u=_0.find(c=>l.name.startsWith(`${c}-`));if(u){const c=qu(u),f=qu(l.name.split(`${u}-`)[1]);typeof s[c]>"u"&&(s[c]={}),s[c]===!0&&(s[c]={enabled:!0}),s[c][f]=v0(l.value)}else{const c=qu(l.name);if(!a.includes(c))return;const f=v0(l.value);s[c]&&_0.includes(l.name)&&!na(f)?(s[c].constructor!==Object&&(s[c]={}),s[c].enabled=!!f):s[c]=f}}),Ig(n,s),n.navigation?n.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...n.navigation!==!0?n.navigation:{}}:n.navigation===!1&&delete n.navigation,n.scrollbar?n.scrollbar={el:".swiper-scrollbar",...n.scrollbar!==!0?n.scrollbar:{}}:n.scrollbar===!1&&delete n.scrollbar,n.pagination?n.pagination={el:".swiper-pagination",...n.pagination!==!0?n.pagination:{}}:n.pagination===!1&&delete n.pagination,{params:n,passedParams:s}}const Gq=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",Yq="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}";class Kq{}const tT=typeof window>"u"||typeof HTMLElement>"u"?Kq:HTMLElement,S0=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,rT=(t,e)=>{if(typeof CSSStyleSheet<"u"&&t.adoptedStyleSheets){const r=new CSSStyleSheet;r.replaceSync(e),t.adoptedStyleSheets=[r]}else{const r=document.createElement("style");r.rel="stylesheet",r.textContent=e,t.appendChild(r)}};class nT extends tT{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return S0}static get prevButtonSvg(){return S0.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[Gq,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,r=[...this.querySelectorAll("[slot^=slide-]")].map(n=>parseInt(n.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=r.length?Math.max(...r)+1:0,!!this.rendered){if(this.slideSlots>e)for(let n=e;n<this.slideSlots;n+=1){const s=document.createElement("swiper-slide");s.setAttribute("part",`slide slide-${n+1}`);const i=document.createElement("slot");i.setAttribute("name",`slide-${n+1}`),s.appendChild(i),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(s)}else if(this.slideSlots<e){const n=this.swiper.slides;for(let s=n.length-1;s>=0;s-=1)s>this.slideSlots&&n[s].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&rT(this.shadowRoot,e),this.cssLinks().forEach(n=>{if(this.shadowRoot.querySelector(`link[href="${n}"]`))return;const i=document.createElement("link");i.rel="stylesheet",i.href=n,this.shadowRoot.appendChild(i)});const r=document.createElement("div");r.classList.add("swiper"),r.part="container",r.innerHTML=`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((n,s)=>`
        <swiper-slide part="slide slide-${s}">
          <slot name="slide-${s}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${Wq(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${zq(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${Hq(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `,this.shadowRoot.appendChild(r),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;const{params:r,passedParams:n}=E0(this);this.swiperParams=r,this.passedParams=n,delete this.swiperParams.init,this.render(),this.swiper=new Vr(this.shadowRoot.querySelector(".swiper"),{...r.virtual?{}:{observer:!0},...r,touchEventsTarget:"container",onAny:function(s){s==="observerUpdate"&&e.calcSlideSlots();const i=r.eventsPrefix?`${r.eventsPrefix}${s.toLowerCase()}`:s.toLowerCase();for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];const u=new CustomEvent(i,{detail:o,bubbles:s!=="hashChange",cancelable:!0});e.dispatchEvent(u)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,r){const{params:n,passedParams:s}=E0(this,e,r);this.passedParams=s,this.swiperParams=n,!(this.swiper&&this.swiper.params[e]===r)&&qq({swiper:this.swiper,passedParams:this.passedParams,changedParams:[qu(e)],...e==="navigation"&&s[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},...e==="pagination"&&s[e]?{paginationEl:".swiper-pagination"}:{},...e==="scrollbar"&&s[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,r,n){this.initialized&&(r==="true"&&n===null&&(n=!1),this.updateSwiperOnPropChange(e,n))}static get observedAttributes(){return bf.filter(r=>r.includes("_")).map(r=>r.replace(/[A-Z]/g,n=>`-${n}`).replace("_","").toLowerCase())}}bf.forEach(t=>{t!=="init"&&(t=t.replace("_",""),Object.defineProperty(nT.prototype,t,{configurable:!0,get(){return(this.passedParams||{})[t]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[t]=e,this.initialized&&this.updateSwiperOnPropChange(t,e)}}))});class Xq extends tT{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(rT(this.shadowRoot,Yq),this.shadowRoot.appendChild(document.createElement("slot")),e){const r=document.createElement("div");r.classList.add("swiper-lazy-preloader"),r.part.add("preloader"),this.shadowRoot.appendChild(r)}}initialize(){this.render()}connectedCallback(){this.initialize()}}const Qq=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",nT),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",Xq))};typeof window<"u"&&(window.SwiperElementRegisterParams=t=>{bf.push(...t)});const Jq=kC(hj);Qq();Jq.mount("#app");
